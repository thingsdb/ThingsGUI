// +build !debug
package main
import "encoding/base64"
// FileEditorWorkerJS is a byte representation for ./static/js/editor.worker.js
var FileEditorWorkerJS, _ = base64.StdEncoding.DecodeString("IWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Z1bmN0aW9uIG4ocil7aWYodFtyXSlyZXR1cm4gdFtyXS5leHBvcnRzO3ZhciBpPXRbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkubD0hMCxpLmV4cG9ydHN9bi5tPWUsbi5jPXQsbi5kPWZ1bmN0aW9uKGUsdCxyKXtuLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6cn0pfSxuLnI9ZnVuY3Rpb24oZSl7InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZToiTW9kdWxlIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0sbi50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1uKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiYib2JqZWN0Ij09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkociwiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmInN0cmluZyIhPXR5cGVvZiBlKWZvcih2YXIgaSBpbiBlKW4uZChyLGksZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxpKSk7cmV0dXJuIHJ9LG4ubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gbi5kKHQsImEiLHQpLHR9LG4ubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sbi5wPSIvanMvIixuKG4ucz02KX0oW2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7KGZ1bmN0aW9uKGUscil7bi5kKHQsImMiLGZ1bmN0aW9uKCl7cmV0dXJuIG19KSxuLmQodCwiYiIsZnVuY3Rpb24oKXtyZXR1cm4gcH0pLG4uZCh0LCJhIixmdW5jdGlvbigpe3JldHVybiBnfSk7dmFyIGk9ITEsbz0hMSxzPSExLHU9ITEsYT0hMSxsPXZvaWQgMCE9PWUmJnZvaWQgMCE9PWUudmVyc2lvbnMmJnZvaWQgMCE9PWUudmVyc2lvbnMuZWxlY3Ryb24mJiJyZW5kZXJlciI9PT1lLnR5cGU7aWYoIm9iamVjdCIhPXR5cGVvZiBuYXZpZ2F0b3J8fGwpe2lmKCJvYmplY3QiPT10eXBlb2YgZSl7aT0id2luMzIiPT09ZS5wbGF0Zm9ybSxvPSJkYXJ3aW4iPT09ZS5wbGF0Zm9ybSxzPSJsaW51eCI9PT1lLnBsYXRmb3JtLCJlbiIsImVuIjt2YXIgYz1lLmVudi5WU0NPREVfTkxTX0NPTkZJRztpZihjKXRyeXt2YXIgZj1KU09OLnBhcnNlKGMpLGg9Zi5hdmFpbGFibGVMYW5ndWFnZXNbIioiXTtmLmxvY2FsZSxofHwiZW4iLGYuX3RyYW5zbGF0aW9uc0NvbmZpZ0ZpbGV9Y2F0Y2goZSl7fXU9ITB9fWVsc2V7dmFyIGQ9bmF2aWdhdG9yLnVzZXJBZ2VudDtpPWQuaW5kZXhPZigiV2luZG93cyIpPj0wLG89ZC5pbmRleE9mKCJNYWNpbnRvc2giKT49MCxzPWQuaW5kZXhPZigiTGludXgiKT49MCxhPSEwLG5hdmlnYXRvci5sYW5ndWFnZX12YXIgbT1pLHA9YSxnPSJvYmplY3QiPT10eXBlb2Ygc2VsZj9zZWxmOiJvYmplY3QiPT10eXBlb2Ygcj9yOnt9fSkuY2FsbCh0aGlzLG4oMiksbigxKSl9LGZ1bmN0aW9uKGUsdCl7dmFyIG47bj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtuPW58fG5ldyBGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfWNhdGNoKGUpeyJvYmplY3QiPT10eXBlb2Ygd2luZG93JiYobj13aW5kb3cpfWUuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT1lLmV4cG9ydHM9e307ZnVuY3Rpb24gbygpe3Rocm93IG5ldyBFcnJvcigic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCIpfWZ1bmN0aW9uIHMoKXt0aHJvdyBuZXcgRXJyb3IoImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCIpfWZ1bmN0aW9uIHUoZSl7aWYobj09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQoZSwwKTtpZigobj09PW98fCFuKSYmc2V0VGltZW91dClyZXR1cm4gbj1zZXRUaW1lb3V0LHNldFRpbWVvdXQoZSwwKTt0cnl7cmV0dXJuIG4oZSwwKX1jYXRjaCh0KXt0cnl7cmV0dXJuIG4uY2FsbChudWxsLGUsMCl9Y2F0Y2godCl7cmV0dXJuIG4uY2FsbCh0aGlzLGUsMCl9fX0hZnVuY3Rpb24oKXt0cnl7bj0iZnVuY3Rpb24iPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0Om99Y2F0Y2goZSl7bj1vfXRyeXtyPSJmdW5jdGlvbiI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0OnN9Y2F0Y2goZSl7cj1zfX0oKTt2YXIgYSxsPVtdLGM9ITEsZj0tMTtmdW5jdGlvbiBoKCl7YyYmYSYmKGM9ITEsYS5sZW5ndGg/bD1hLmNvbmNhdChsKTpmPS0xLGwubGVuZ3RoJiZkKCkpfWZ1bmN0aW9uIGQoKXtpZighYyl7dmFyIGU9dShoKTtjPSEwO2Zvcih2YXIgdD1sLmxlbmd0aDt0Oyl7Zm9yKGE9bCxsPVtdOysrZjx0OylhJiZhW2ZdLnJ1bigpO2Y9LTEsdD1sLmxlbmd0aH1hPW51bGwsYz0hMSxmdW5jdGlvbihlKXtpZihyPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQoZSk7aWYoKHI9PT1zfHwhcikmJmNsZWFyVGltZW91dClyZXR1cm4gcj1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KGUpO3RyeXtyKGUpfWNhdGNoKHQpe3RyeXtyZXR1cm4gci5jYWxsKG51bGwsZSl9Y2F0Y2godCl7cmV0dXJuIHIuY2FsbCh0aGlzLGUpfX19KGUpfX1mdW5jdGlvbiBtKGUsdCl7dGhpcy5mdW49ZSx0aGlzLmFycmF5PXR9ZnVuY3Rpb24gcCgpe31pLm5leHRUaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07bC5wdXNoKG5ldyBtKGUsdCkpLDEhPT1sLmxlbmd0aHx8Y3x8dShkKX0sbS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0saS50aXRsZT0iYnJvd3NlciIsaS5icm93c2VyPSEwLGkuZW52PXt9LGkuYXJndj1bXSxpLnZlcnNpb249IiIsaS52ZXJzaW9ucz17fSxpLm9uPXAsaS5hZGRMaXN0ZW5lcj1wLGkub25jZT1wLGkub2ZmPXAsaS5yZW1vdmVMaXN0ZW5lcj1wLGkucmVtb3ZlQWxsTGlzdGVuZXJzPXAsaS5lbWl0PXAsaS5wcmVwZW5kTGlzdGVuZXI9cCxpLnByZXBlbmRPbmNlTGlzdGVuZXI9cCxpLmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm5bXX0saS5iaW5kaW5nPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQiKX0saS5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm4iLyJ9LGkuY2hkaXI9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQiKX0saS51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihlLHQpeyhmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3ZhciB0PXRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbihuKXtyZXR1cm4gdC5yZXNvbHZlKGUoKSkudGhlbihmdW5jdGlvbigpe3JldHVybiBufSl9LGZ1bmN0aW9uKG4pe3JldHVybiB0LnJlc29sdmUoZSgpKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQucmVqZWN0KG4pfSl9KX12YXIgcj1zZXRUaW1lb3V0O2Z1bmN0aW9uIGkoKXt9ZnVuY3Rpb24gbyhlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBvKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXciKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJub3QgYSBmdW5jdGlvbiIpO3RoaXMuX3N0YXRlPTAsdGhpcy5faGFuZGxlZD0hMSx0aGlzLl92YWx1ZT12b2lkIDAsdGhpcy5fZGVmZXJyZWRzPVtdLGYoZSx0aGlzKX1mdW5jdGlvbiBzKGUsdCl7Zm9yKDszPT09ZS5fc3RhdGU7KWU9ZS5fdmFsdWU7MCE9PWUuX3N0YXRlPyhlLl9oYW5kbGVkPSEwLG8uX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uKCl7dmFyIG49MT09PWUuX3N0YXRlP3Qub25GdWxmaWxsZWQ6dC5vblJlamVjdGVkO2lmKG51bGwhPT1uKXt2YXIgcjt0cnl7cj1uKGUuX3ZhbHVlKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBhKHQucHJvbWlzZSxlKX11KHQucHJvbWlzZSxyKX1lbHNlKDE9PT1lLl9zdGF0ZT91OmEpKHQucHJvbWlzZSxlLl92YWx1ZSl9KSk6ZS5fZGVmZXJyZWRzLnB1c2godCl9ZnVuY3Rpb24gdShlLHQpe3RyeXtpZih0PT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLiIpO2lmKHQmJigib2JqZWN0Ij09dHlwZW9mIHR8fCJmdW5jdGlvbiI9PXR5cGVvZiB0KSl7dmFyIG49dC50aGVuO2lmKHQgaW5zdGFuY2VvZiBvKXJldHVybiBlLl9zdGF0ZT0zLGUuX3ZhbHVlPXQsdm9pZCBsKGUpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBuKXJldHVybiB2b2lkIGYoKHI9bixpPXQsZnVuY3Rpb24oKXtyLmFwcGx5KGksYXJndW1lbnRzKX0pLGUpfWUuX3N0YXRlPTEsZS5fdmFsdWU9dCxsKGUpfWNhdGNoKHQpe2EoZSx0KX12YXIgcixpfWZ1bmN0aW9uIGEoZSx0KXtlLl9zdGF0ZT0yLGUuX3ZhbHVlPXQsbChlKX1mdW5jdGlvbiBsKGUpezI9PT1lLl9zdGF0ZSYmMD09PWUuX2RlZmVycmVkcy5sZW5ndGgmJm8uX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uKCl7ZS5faGFuZGxlZHx8by5fdW5oYW5kbGVkUmVqZWN0aW9uRm4oZS5fdmFsdWUpfSk7Zm9yKHZhciB0PTAsbj1lLl9kZWZlcnJlZHMubGVuZ3RoO3Q8bjt0KyspcyhlLGUuX2RlZmVycmVkc1t0XSk7ZS5fZGVmZXJyZWRzPW51bGx9ZnVuY3Rpb24gYyhlLHQsbil7dGhpcy5vbkZ1bGZpbGxlZD0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOm51bGwsdGhpcy5vblJlamVjdGVkPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6bnVsbCx0aGlzLnByb21pc2U9bn1mdW5jdGlvbiBmKGUsdCl7dmFyIG49ITE7dHJ5e2UoZnVuY3Rpb24oZSl7bnx8KG49ITAsdSh0LGUpKX0sZnVuY3Rpb24oZSl7bnx8KG49ITAsYSh0LGUpKX0pfWNhdGNoKGUpe2lmKG4pcmV0dXJuO249ITAsYSh0LGUpfX1vLnByb3RvdHlwZS5jYXRjaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKG51bGwsZSl9LG8ucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgdGhpcy5jb25zdHJ1Y3RvcihpKTtyZXR1cm4gcyh0aGlzLG5ldyBjKGUsdCxuKSksbn0sby5wcm90b3R5cGUuZmluYWxseT1uLG8uYWxsPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbyhmdW5jdGlvbih0LG4pe2lmKCFlfHx2b2lkIDA9PT1lLmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKCJQcm9taXNlLmFsbCBhY2NlcHRzIGFuIGFycmF5Iik7dmFyIHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSk7aWYoMD09PXIubGVuZ3RoKXJldHVybiB0KFtdKTt2YXIgaT1yLmxlbmd0aDtmdW5jdGlvbiBvKGUscyl7dHJ5e2lmKHMmJigib2JqZWN0Ij09dHlwZW9mIHN8fCJmdW5jdGlvbiI9PXR5cGVvZiBzKSl7dmFyIHU9cy50aGVuO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB1KXJldHVybiB2b2lkIHUuY2FsbChzLGZ1bmN0aW9uKHQpe28oZSx0KX0sbil9cltlXT1zLDA9PS0taSYmdChyKX1jYXRjaChlKXtuKGUpfX1mb3IodmFyIHM9MDtzPHIubGVuZ3RoO3MrKylvKHMscltzXSl9KX0sby5yZXNvbHZlPWZ1bmN0aW9uKGUpe3JldHVybiBlJiYib2JqZWN0Ij09dHlwZW9mIGUmJmUuY29uc3RydWN0b3I9PT1vP2U6bmV3IG8oZnVuY3Rpb24odCl7dChlKX0pfSxvLnJlamVjdD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IG8oZnVuY3Rpb24odCxuKXtuKGUpfSl9LG8ucmFjZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IG8oZnVuY3Rpb24odCxuKXtmb3IodmFyIHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspZVtyXS50aGVuKHQsbil9KX0sby5faW1tZWRpYXRlRm49ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmZ1bmN0aW9uKHQpe2UodCl9fHxmdW5jdGlvbihlKXtyKGUsMCl9LG8uX3VuaGFuZGxlZFJlamVjdGlvbkZuPWZ1bmN0aW9uKGUpeyJ1bmRlZmluZWQiIT10eXBlb2YgY29uc29sZSYmY29uc29sZSYmY29uc29sZS53YXJuKCJQb3NzaWJsZSBVbmhhbmRsZWQgUHJvbWlzZSBSZWplY3Rpb246IixlKX07dmFyIGg9ZnVuY3Rpb24oKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYpcmV0dXJuIHNlbGY7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cpcmV0dXJuIHdpbmRvdztpZih2b2lkIDAhPT10KXJldHVybiB0O3Rocm93IG5ldyBFcnJvcigidW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0Iil9KCk7IlByb21pc2UiaW4gaD9oLlByb21pc2UucHJvdG90eXBlLmZpbmFsbHl8fChoLlByb21pc2UucHJvdG90eXBlLmZpbmFsbHk9bik6aC5Qcm9taXNlPW99KSgpfSkuY2FsbCh0aGlzLG4oNCkuc2V0SW1tZWRpYXRlLG4oMSkpfSxmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGUpe3ZhciByPXZvaWQgMCE9PWUmJmV8fCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZnx8d2luZG93LGk9RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O2Z1bmN0aW9uIG8oZSx0KXt0aGlzLl9pZD1lLHRoaXMuX2NsZWFyRm49dH10LnNldFRpbWVvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG8oaS5jYWxsKHNldFRpbWVvdXQscixhcmd1bWVudHMpLGNsZWFyVGltZW91dCl9LHQuc2V0SW50ZXJ2YWw9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG8oaS5jYWxsKHNldEludGVydmFsLHIsYXJndW1lbnRzKSxjbGVhckludGVydmFsKX0sdC5jbGVhclRpbWVvdXQ9dC5jbGVhckludGVydmFsPWZ1bmN0aW9uKGUpe2UmJmUuY2xvc2UoKX0sby5wcm90b3R5cGUudW5yZWY9by5wcm90b3R5cGUucmVmPWZ1bmN0aW9uKCl7fSxvLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyRm4uY2FsbChyLHRoaXMuX2lkKX0sdC5lbnJvbGw9ZnVuY3Rpb24oZSx0KXtjbGVhclRpbWVvdXQoZS5faWRsZVRpbWVvdXRJZCksZS5faWRsZVRpbWVvdXQ9dH0sdC51bmVucm9sbD1mdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoZS5faWRsZVRpbWVvdXRJZCksZS5faWRsZVRpbWVvdXQ9LTF9LHQuX3VucmVmQWN0aXZlPXQuYWN0aXZlPWZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKTt2YXIgdD1lLl9pZGxlVGltZW91dDt0Pj0wJiYoZS5faWRsZVRpbWVvdXRJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5fb25UaW1lb3V0JiZlLl9vblRpbWVvdXQoKX0sdCkpfSxuKDUpLHQuc2V0SW1tZWRpYXRlPSJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5zZXRJbW1lZGlhdGV8fHZvaWQgMCE9PWUmJmUuc2V0SW1tZWRpYXRlfHx0aGlzJiZ0aGlzLnNldEltbWVkaWF0ZSx0LmNsZWFySW1tZWRpYXRlPSJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5jbGVhckltbWVkaWF0ZXx8dm9pZCAwIT09ZSYmZS5jbGVhckltbWVkaWF0ZXx8dGhpcyYmdGhpcy5jbGVhckltbWVkaWF0ZX0pLmNhbGwodGhpcyxuKDEpKX0sZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihlLHQpeyFmdW5jdGlvbihlLG4peyJ1c2Ugc3RyaWN0IjtpZighZS5zZXRJbW1lZGlhdGUpe3ZhciByLGksbyxzLHUsYT0xLGw9e30sYz0hMSxmPWUuZG9jdW1lbnQsaD1PYmplY3QuZ2V0UHJvdG90eXBlT2YmJk9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtoPWgmJmguc2V0VGltZW91dD9oOmUsIltvYmplY3QgcHJvY2Vzc10iPT09e30udG9TdHJpbmcuY2FsbChlLnByb2Nlc3MpP3I9ZnVuY3Rpb24oZSl7dC5uZXh0VGljayhmdW5jdGlvbigpe20oZSl9KX06IWZ1bmN0aW9uKCl7aWYoZS5wb3N0TWVzc2FnZSYmIWUuaW1wb3J0U2NyaXB0cyl7dmFyIHQ9ITAsbj1lLm9ubWVzc2FnZTtyZXR1cm4gZS5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXt0PSExfSxlLnBvc3RNZXNzYWdlKCIiLCIqIiksZS5vbm1lc3NhZ2U9bix0fX0oKT9lLk1lc3NhZ2VDaGFubmVsPygobz1uZXcgTWVzc2FnZUNoYW5uZWwpLnBvcnQxLm9ubWVzc2FnZT1mdW5jdGlvbihlKXttKGUuZGF0YSl9LHI9ZnVuY3Rpb24oZSl7by5wb3J0Mi5wb3N0TWVzc2FnZShlKX0pOmYmJiJvbnJlYWR5c3RhdGVjaGFuZ2UiaW4gZi5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKT8oaT1mLmRvY3VtZW50RWxlbWVudCxyPWZ1bmN0aW9uKGUpe3ZhciB0PWYuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7dC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXttKGUpLHQub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsaS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9LGkuYXBwZW5kQ2hpbGQodCl9KTpyPWZ1bmN0aW9uKGUpe3NldFRpbWVvdXQobSwwLGUpfToocz0ic2V0SW1tZWRpYXRlJCIrTWF0aC5yYW5kb20oKSsiJCIsdT1mdW5jdGlvbih0KXt0LnNvdXJjZT09PWUmJiJzdHJpbmciPT10eXBlb2YgdC5kYXRhJiYwPT09dC5kYXRhLmluZGV4T2YocykmJm0oK3QuZGF0YS5zbGljZShzLmxlbmd0aCkpfSxlLmFkZEV2ZW50TGlzdGVuZXI/ZS5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIix1LCExKTplLmF0dGFjaEV2ZW50KCJvbm1lc3NhZ2UiLHUpLHI9ZnVuY3Rpb24odCl7ZS5wb3N0TWVzc2FnZShzK3QsIioiKX0pLGguc2V0SW1tZWRpYXRlPWZ1bmN0aW9uKGUpeyJmdW5jdGlvbiIhPXR5cGVvZiBlJiYoZT1uZXcgRnVuY3Rpb24oIiIrZSkpO2Zvcih2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKSxuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXT1hcmd1bWVudHNbbisxXTt2YXIgaT17Y2FsbGJhY2s6ZSxhcmdzOnR9O3JldHVybiBsW2FdPWkscihhKSxhKyt9LGguY2xlYXJJbW1lZGlhdGU9ZH1mdW5jdGlvbiBkKGUpe2RlbGV0ZSBsW2VdfWZ1bmN0aW9uIG0oZSl7aWYoYylzZXRUaW1lb3V0KG0sMCxlKTtlbHNle3ZhciB0PWxbZV07aWYodCl7Yz0hMDt0cnl7IWZ1bmN0aW9uKGUpe3ZhciB0PWUuY2FsbGJhY2sscj1lLmFyZ3M7c3dpdGNoKHIubGVuZ3RoKXtjYXNlIDA6dCgpO2JyZWFrO2Nhc2UgMTp0KHJbMF0pO2JyZWFrO2Nhc2UgMjp0KHJbMF0sclsxXSk7YnJlYWs7Y2FzZSAzOnQoclswXSxyWzFdLHJbMl0pO2JyZWFrO2RlZmF1bHQ6dC5hcHBseShuLHIpfX0odCl9ZmluYWxseXtkKGUpLGM9ITF9fX19fSgidW5kZWZpbmVkIj09dHlwZW9mIHNlbGY/dm9pZCAwPT09ZT90aGlzOmU6c2VsZil9KS5jYWxsKHRoaXMsbigxKSxuKDIpKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLnIodCk7dmFyIHI9bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMubGlzdGVuZXJzPVtdLHRoaXMudW5leHBlY3RlZEVycm9ySGFuZGxlcj1mdW5jdGlvbihlKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoZS5zdGFjayl0aHJvdyBuZXcgRXJyb3IoZS5tZXNzYWdlKyJcblxuIitlLnN0YWNrKTt0aHJvdyBlfSwwKX19cmV0dXJuIGUucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24oZSl7dGhpcy5saXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbih0KXt0KGUpfSl9LGUucHJvdG90eXBlLm9uVW5leHBlY3RlZEVycm9yPWZ1bmN0aW9uKGUpe3RoaXMudW5leHBlY3RlZEVycm9ySGFuZGxlcihlKSx0aGlzLmVtaXQoZSl9LGUucHJvdG90eXBlLm9uVW5leHBlY3RlZEV4dGVybmFsRXJyb3I9ZnVuY3Rpb24oZSl7dGhpcy51bmV4cGVjdGVkRXJyb3JIYW5kbGVyKGUpfSxlfSgpKTtmdW5jdGlvbiBpKGUpe3UoZSl8fHIub25VbmV4cGVjdGVkRXJyb3IoZSl9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEVycm9yP3skaXNFcnJvcjohMCxuYW1lOmUubmFtZSxtZXNzYWdlOmUubWVzc2FnZSxzdGFjazplLnN0YWNrdHJhY2V8fGUuc3RhY2t9OmV9dmFyIHM9IkNhbmNlbGVkIjtmdW5jdGlvbiB1KGUpe3JldHVybiBlIGluc3RhbmNlb2YgRXJyb3ImJmUubmFtZT09PXMmJmUubWVzc2FnZT09PXN9ZnVuY3Rpb24gYShlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT8oZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmRpc3Bvc2UoKX0pLFtdKTowPT09dC5sZW5ndGg/ZT8oZS5kaXNwb3NlKCksZSk6dm9pZCAwOihhKGUpLGEodCksW10pfXZhciBsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuX3RvRGlzcG9zZT1bXSx0aGlzLl9saWZlY3ljbGVfZGlzcG9zYWJsZV9pc0Rpc3Bvc2VkPSExfXJldHVybiBlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fbGlmZWN5Y2xlX2Rpc3Bvc2FibGVfaXNEaXNwb3NlZD0hMCx0aGlzLl90b0Rpc3Bvc2U9YSh0aGlzLl90b0Rpc3Bvc2UpfSxlLnByb3RvdHlwZS5fcmVnaXN0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2xpZmVjeWNsZV9kaXNwb3NhYmxlX2lzRGlzcG9zZWQ/KGNvbnNvbGUud2FybigiUmVnaXN0ZXJpbmcgZGlzcG9zYWJsZSBvbiBvYmplY3QgdGhhdCBoYXMgYWxyZWFkeSBiZWVuIGRpc3Bvc2VkLiIpLGUuZGlzcG9zZSgpKTp0aGlzLl90b0Rpc3Bvc2UucHVzaChlKSxlfSxlLk5vbmU9T2JqZWN0LmZyZWV6ZSh7ZGlzcG9zZTpmdW5jdGlvbigpe319KSxlfSgpLGM9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLm9iamVjdD1lfWUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt9fSgpLG4oMCkpO09iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7ZnVuY3Rpb24gZihlKXtmb3IodmFyIHQ9W10sbj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7T2JqZWN0LnByb3RvdHlwZSE9PW47KXQ9dC5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobikpLG49T2JqZWN0LmdldFByb3RvdHlwZU9mKG4pO3JldHVybiB0fXZhciBoLGQ9KGg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oaD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1oKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSksbT0iJGluaXRpYWxpemUiO3ZhciBwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl93b3JrZXJJZD0tMSx0aGlzLl9oYW5kbGVyPWUsdGhpcy5fbGFzdFNlbnRSZXE9MCx0aGlzLl9wZW5kaW5nUmVwbGllcz1PYmplY3QuY3JlYXRlKG51bGwpfXJldHVybiBlLnByb3RvdHlwZS5zZXRXb3JrZXJJZD1mdW5jdGlvbihlKXt0aGlzLl93b3JrZXJJZD1lfSxlLnByb3RvdHlwZS5zZW5kTWVzc2FnZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj1TdHJpbmcoKyt0aGlzLl9sYXN0U2VudFJlcSk7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGksbyl7bi5fcGVuZGluZ1JlcGxpZXNbcl09e3Jlc29sdmU6aSxyZWplY3Q6b30sbi5fc2VuZCh7dnNXb3JrZXI6bi5fd29ya2VySWQscmVxOnIsbWV0aG9kOmUsYXJnczp0fSl9KX0sZS5wcm90b3R5cGUuaGFuZGxlTWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgdDt0cnl7dD1KU09OLnBhcnNlKGUpfWNhdGNoKGUpe3JldHVybn10JiZ0LnZzV29ya2VyJiYoLTEhPT10aGlzLl93b3JrZXJJZCYmdC52c1dvcmtlciE9PXRoaXMuX3dvcmtlcklkfHx0aGlzLl9oYW5kbGVNZXNzYWdlKHQpKX0sZS5wcm90b3R5cGUuX2hhbmRsZU1lc3NhZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZihlLnNlcSl7dmFyIG49ZTtpZighdGhpcy5fcGVuZGluZ1JlcGxpZXNbbi5zZXFdKXJldHVybiB2b2lkIGNvbnNvbGUud2FybigiR290IHJlcGx5IHRvIHVua25vd24gc2VxIik7dmFyIHI9dGhpcy5fcGVuZGluZ1JlcGxpZXNbbi5zZXFdO2lmKGRlbGV0ZSB0aGlzLl9wZW5kaW5nUmVwbGllc1tuLnNlcV0sbi5lcnIpe3ZhciBpPW4uZXJyO3JldHVybiBuLmVyci4kaXNFcnJvciYmKChpPW5ldyBFcnJvcikubmFtZT1uLmVyci5uYW1lLGkubWVzc2FnZT1uLmVyci5tZXNzYWdlLGkuc3RhY2s9bi5lcnIuc3RhY2spLHZvaWQgci5yZWplY3QoaSl9ci5yZXNvbHZlKG4ucmVzKX1lbHNle3ZhciBzPWUsdT1zLnJlcTt0aGlzLl9oYW5kbGVyLmhhbmRsZU1lc3NhZ2Uocy5tZXRob2Qscy5hcmdzKS50aGVuKGZ1bmN0aW9uKGUpe3QuX3NlbmQoe3ZzV29ya2VyOnQuX3dvcmtlcklkLHNlcTp1LHJlczplLGVycjp2b2lkIDB9KX0sZnVuY3Rpb24oZSl7ZS5kZXRhaWwgaW5zdGFuY2VvZiBFcnJvciYmKGUuZGV0YWlsPW8oZS5kZXRhaWwpKSx0Ll9zZW5kKHt2c1dvcmtlcjp0Ll93b3JrZXJJZCxzZXE6dSxyZXM6dm9pZCAwLGVycjpvKGUpfSl9KX19LGUucHJvdG90eXBlLl9zZW5kPWZ1bmN0aW9uKGUpe3ZhciB0PUpTT04uc3RyaW5naWZ5KGUpO3RoaXMuX2hhbmRsZXIuc2VuZE1lc3NhZ2UodCl9LGV9KCksZz0oZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3ZhciByPWUuY2FsbCh0aGlzKXx8dGhpcyxpPW51bGw7ci5fd29ya2VyPXIuX3JlZ2lzdGVyKHQuY3JlYXRlKCJ2cy9iYXNlL2NvbW1vbi93b3JrZXIvc2ltcGxlV29ya2VyIixmdW5jdGlvbihlKXtyLl9wcm90b2NvbC5oYW5kbGVNZXNzYWdlKGUpfSxmdW5jdGlvbihlKXtpJiZpKGUpfSkpLHIuX3Byb3RvY29sPW5ldyBwKHtzZW5kTWVzc2FnZTpmdW5jdGlvbihlKXtyLl93b3JrZXIucG9zdE1lc3NhZ2UoZSl9LGhhbmRsZU1lc3NhZ2U6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpfX0pLHIuX3Byb3RvY29sLnNldFdvcmtlcklkKHIuX3dvcmtlci5nZXRJZCgpKTt2YXIgbz1udWxsO3ZvaWQgMCE9PXNlbGYucmVxdWlyZSYmImZ1bmN0aW9uIj09dHlwZW9mIHNlbGYucmVxdWlyZS5nZXRDb25maWc/bz1zZWxmLnJlcXVpcmUuZ2V0Q29uZmlnKCk6dm9pZCAwIT09c2VsZi5yZXF1aXJlanMmJihvPXNlbGYucmVxdWlyZWpzLnMuY29udGV4dHMuXy5jb25maWcpLHIuX29uTW9kdWxlTG9hZGVkPXIuX3Byb3RvY29sLnNlbmRNZXNzYWdlKG0sW3IuX3dvcmtlci5nZXRJZCgpLG4sb10pLHIuX2xhenlQcm94eT1uZXcgUHJvbWlzZShmdW5jdGlvbihlLHQpe2k9dCxyLl9vbk1vZHVsZUxvYWRlZC50aGVuKGZ1bmN0aW9uKHQpe2Zvcih2YXIgbj17fSxyPTAsaT10O3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO25bb109dShvLHMpfWUobil9LGZ1bmN0aW9uKGUpe3QoZSksci5fb25FcnJvcigiV29ya2VyIGZhaWxlZCB0byBsb2FkICIrbixlKX0pfSk7dmFyIHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5fcmVxdWVzdChlLHQpfSx1PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO3JldHVybiB0KGUsbil9fTtyZXR1cm4gcn1kKHQsZSksdC5wcm90b3R5cGUuZ2V0UHJveHlPYmplY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGF6eVByb3h5fSx0LnByb3RvdHlwZS5fcmVxdWVzdD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIsaSl7bi5fb25Nb2R1bGVMb2FkZWQudGhlbihmdW5jdGlvbigpe24uX3Byb3RvY29sLnNlbmRNZXNzYWdlKGUsdCkudGhlbihyLGkpfSxpKX0pfSx0LnByb3RvdHlwZS5fb25FcnJvcj1mdW5jdGlvbihlLHQpe2NvbnNvbGUuZXJyb3IoZSksY29uc29sZS5pbmZvKHQpfX0obCksZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dmFyIG49dGhpczt0aGlzLl9yZXF1ZXN0SGFuZGxlcj10LHRoaXMuX3Byb3RvY29sPW5ldyBwKHtzZW5kTWVzc2FnZTpmdW5jdGlvbih0KXtlKHQpfSxoYW5kbGVNZXNzYWdlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uX2hhbmRsZU1lc3NhZ2UoZSx0KX19KX1yZXR1cm4gZS5wcm90b3R5cGUub25tZXNzYWdlPWZ1bmN0aW9uKGUpe3RoaXMuX3Byb3RvY29sLmhhbmRsZU1lc3NhZ2UoZSl9LGUucHJvdG90eXBlLl9oYW5kbGVNZXNzYWdlPWZ1bmN0aW9uKGUsdCl7aWYoZT09PW0pcmV0dXJuIHRoaXMuaW5pdGlhbGl6ZSh0WzBdLHRbMV0sdFsyXSk7aWYoIXRoaXMuX3JlcXVlc3RIYW5kbGVyfHwiZnVuY3Rpb24iIT10eXBlb2YgdGhpcy5fcmVxdWVzdEhhbmRsZXJbZV0pcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcigiTWlzc2luZyByZXF1ZXN0SGFuZGxlciBvciBtZXRob2Q6ICIrZSkpO3RyeXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3JlcXVlc3RIYW5kbGVyW2VdLmFwcGx5KHRoaXMuX3JlcXVlc3RIYW5kbGVyLHQpKX1jYXRjaChlKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZSl9fSxlLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzO2lmKHRoaXMuX3Byb3RvY29sLnNldFdvcmtlcklkKGUpLHRoaXMuX3JlcXVlc3RIYW5kbGVyKXtmb3IodmFyIGk9W10sbz0wLHM9Zih0aGlzLl9yZXF1ZXN0SGFuZGxlcik7bzxzLmxlbmd0aDtvKyspe3ZhciB1PXNbb107ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuX3JlcXVlc3RIYW5kbGVyW3VdJiZpLnB1c2godSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZShpKX1yZXR1cm4gbiYmKHZvaWQgMCE9PW4uYmFzZVVybCYmZGVsZXRlIG4uYmFzZVVybCx2b2lkIDAhPT1uLnBhdGhzJiZ2b2lkIDAhPT1uLnBhdGhzLnZzJiZkZWxldGUgbi5wYXRocy52cyxuLmNhdGNoRXJyb3I9ITAsc2VsZi5yZXF1aXJlLmNvbmZpZyhuKSksbmV3IFByb21pc2UoZnVuY3Rpb24oZSxuKXtzZWxmLnJlcXVpcmUoW3RdLGZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXRbaV09YXJndW1lbnRzW2ldO3ZhciBvPXRbMF07aWYoci5fcmVxdWVzdEhhbmRsZXI9by5jcmVhdGUoKSxyLl9yZXF1ZXN0SGFuZGxlcil7Zm9yKHZhciBzPVtdLHU9MCxhPWYoci5fcmVxdWVzdEhhbmRsZXIpO3U8YS5sZW5ndGg7dSsrKXt2YXIgbD1hW3VdOyJmdW5jdGlvbiI9PXR5cGVvZiByLl9yZXF1ZXN0SGFuZGxlcltsXSYmcy5wdXNoKGwpfWUocyl9ZWxzZSBuKG5ldyBFcnJvcigiTm8gUmVxdWVzdEhhbmRsZXIhIikpfSxuKX0pfSxlfSgpKTtmdW5jdGlvbiBfKGUsdCl7cmV0dXJuIGZ1bmN0aW9uIGUodCxuLHIsaSxvKXtpZihpPD1yKXJldHVybjt2YXIgcz1yKyhpLXIpLzJ8MDtlKHQsbixyLHMsbyk7ZSh0LG4scysxLGksbyk7aWYobih0W3NdLHRbcysxXSk8PTApcmV0dXJuOyFmdW5jdGlvbihlLHQsbixyLGksbyl7Zm9yKHZhciBzPW4sdT1yKzEsYT1uO2E8PWk7YSsrKW9bYV09ZVthXTtmb3IoYT1uO2E8PWk7YSsrKXM+cj9lW2FdPW9bdSsrXTp1Pmk/ZVthXT1vW3MrK106dChvW3VdLG9bc10pPDA/ZVthXT1vW3UrK106ZVthXT1vW3MrK119KHQsbixyLHMsaSxvKX0oZSx0LDAsZS5sZW5ndGgtMSxbXSksZX12YXIgdj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4scil7dGhpcy5vcmlnaW5hbFN0YXJ0PWUsdGhpcy5vcmlnaW5hbExlbmd0aD10LHRoaXMubW9kaWZpZWRTdGFydD1uLHRoaXMubW9kaWZpZWRMZW5ndGg9cn1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0T3JpZ2luYWxFbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcmlnaW5hbFN0YXJ0K3RoaXMub3JpZ2luYWxMZW5ndGh9LGUucHJvdG90eXBlLmdldE1vZGlmaWVkRW5kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kaWZpZWRTdGFydCt0aGlzLm1vZGlmaWVkTGVuZ3RofSxlfSgpO2Z1bmN0aW9uIHkoZSl7cmV0dXJue2dldExlbmd0aDpmdW5jdGlvbigpe3JldHVybiBlLmxlbmd0aH0sZ2V0RWxlbWVudEF0SW5kZXg6ZnVuY3Rpb24odCl7cmV0dXJuIGUuY2hhckNvZGVBdCh0KX19fWZ1bmN0aW9uIEMoZSx0LG4pe3JldHVybiBuZXcgUyh5KGUpLHkodCkpLkNvbXB1dGVEaWZmKG4pfXZhciBiLEw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLkFzc2VydD1mdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcih0KX0sZX0oKSxOPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5Db3B5PWZ1bmN0aW9uKGUsdCxuLHIsaSl7Zm9yKHZhciBvPTA7bzxpO28rKyluW3Irb109ZVt0K29dfSxlfSgpLEU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5tX2NoYW5nZXM9W10sdGhpcy5tX29yaWdpbmFsU3RhcnQ9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLm1fbW9kaWZpZWRTdGFydD1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMubV9vcmlnaW5hbENvdW50PTAsdGhpcy5tX21vZGlmaWVkQ291bnQ9MH1yZXR1cm4gZS5wcm90b3R5cGUuTWFya05leHRDaGFuZ2U9ZnVuY3Rpb24oKXsodGhpcy5tX29yaWdpbmFsQ291bnQ+MHx8dGhpcy5tX21vZGlmaWVkQ291bnQ+MCkmJnRoaXMubV9jaGFuZ2VzLnB1c2gobmV3IHYodGhpcy5tX29yaWdpbmFsU3RhcnQsdGhpcy5tX29yaWdpbmFsQ291bnQsdGhpcy5tX21vZGlmaWVkU3RhcnQsdGhpcy5tX21vZGlmaWVkQ291bnQpKSx0aGlzLm1fb3JpZ2luYWxDb3VudD0wLHRoaXMubV9tb2RpZmllZENvdW50PTAsdGhpcy5tX29yaWdpbmFsU3RhcnQ9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLm1fbW9kaWZpZWRTdGFydD1OdW1iZXIuTUFYX1ZBTFVFfSxlLnByb3RvdHlwZS5BZGRPcmlnaW5hbEVsZW1lbnQ9ZnVuY3Rpb24oZSx0KXt0aGlzLm1fb3JpZ2luYWxTdGFydD1NYXRoLm1pbih0aGlzLm1fb3JpZ2luYWxTdGFydCxlKSx0aGlzLm1fbW9kaWZpZWRTdGFydD1NYXRoLm1pbih0aGlzLm1fbW9kaWZpZWRTdGFydCx0KSx0aGlzLm1fb3JpZ2luYWxDb3VudCsrfSxlLnByb3RvdHlwZS5BZGRNb2RpZmllZEVsZW1lbnQ9ZnVuY3Rpb24oZSx0KXt0aGlzLm1fb3JpZ2luYWxTdGFydD1NYXRoLm1pbih0aGlzLm1fb3JpZ2luYWxTdGFydCxlKSx0aGlzLm1fbW9kaWZpZWRTdGFydD1NYXRoLm1pbih0aGlzLm1fbW9kaWZpZWRTdGFydCx0KSx0aGlzLm1fbW9kaWZpZWRDb3VudCsrfSxlLnByb3RvdHlwZS5nZXRDaGFuZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMubV9vcmlnaW5hbENvdW50PjB8fHRoaXMubV9tb2RpZmllZENvdW50PjApJiZ0aGlzLk1hcmtOZXh0Q2hhbmdlKCksdGhpcy5tX2NoYW5nZXN9LGUucHJvdG90eXBlLmdldFJldmVyc2VDaGFuZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMubV9vcmlnaW5hbENvdW50PjB8fHRoaXMubV9tb2RpZmllZENvdW50PjApJiZ0aGlzLk1hcmtOZXh0Q2hhbmdlKCksdGhpcy5tX2NoYW5nZXMucmV2ZXJzZSgpLHRoaXMubV9jaGFuZ2VzfSxlfSgpLFM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuKXt2b2lkIDA9PT1uJiYobj1udWxsKSx0aGlzLk9yaWdpbmFsU2VxdWVuY2U9ZSx0aGlzLk1vZGlmaWVkU2VxdWVuY2U9dCx0aGlzLkNvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZT1uLHRoaXMubV9mb3J3YXJkSGlzdG9yeT1bXSx0aGlzLm1fcmV2ZXJzZUhpc3Rvcnk9W119cmV0dXJuIGUucHJvdG90eXBlLkVsZW1lbnRzQXJlRXF1YWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5PcmlnaW5hbFNlcXVlbmNlLmdldEVsZW1lbnRBdEluZGV4KGUpPT09dGhpcy5Nb2RpZmllZFNlcXVlbmNlLmdldEVsZW1lbnRBdEluZGV4KHQpfSxlLnByb3RvdHlwZS5PcmlnaW5hbEVsZW1lbnRzQXJlRXF1YWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5PcmlnaW5hbFNlcXVlbmNlLmdldEVsZW1lbnRBdEluZGV4KGUpPT09dGhpcy5PcmlnaW5hbFNlcXVlbmNlLmdldEVsZW1lbnRBdEluZGV4KHQpfSxlLnByb3RvdHlwZS5Nb2RpZmllZEVsZW1lbnRzQXJlRXF1YWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5Nb2RpZmllZFNlcXVlbmNlLmdldEVsZW1lbnRBdEluZGV4KGUpPT09dGhpcy5Nb2RpZmllZFNlcXVlbmNlLmdldEVsZW1lbnRBdEluZGV4KHQpfSxlLnByb3RvdHlwZS5Db21wdXRlRGlmZj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fQ29tcHV0ZURpZmYoMCx0aGlzLk9yaWdpbmFsU2VxdWVuY2UuZ2V0TGVuZ3RoKCktMSwwLHRoaXMuTW9kaWZpZWRTZXF1ZW5jZS5nZXRMZW5ndGgoKS0xLGUpfSxlLnByb3RvdHlwZS5fQ29tcHV0ZURpZmY9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbz10aGlzLkNvbXB1dGVEaWZmUmVjdXJzaXZlKGUsdCxuLHIsWyExXSk7cmV0dXJuIGk/dGhpcy5QcmV0dGlmeUNoYW5nZXMobyk6b30sZS5wcm90b3R5cGUuQ29tcHV0ZURpZmZSZWN1cnNpdmU9ZnVuY3Rpb24oZSx0LG4scixpKXtmb3IoaVswXT0hMTtlPD10JiZuPD1yJiZ0aGlzLkVsZW1lbnRzQXJlRXF1YWwoZSxuKTspZSsrLG4rKztmb3IoO3Q+PWUmJnI+PW4mJnRoaXMuRWxlbWVudHNBcmVFcXVhbCh0LHIpOyl0LS0sci0tO2lmKGU+dHx8bj5yKXt2YXIgbz12b2lkIDA7cmV0dXJuIG48PXI/KEwuQXNzZXJ0KGU9PT10KzEsIm9yaWdpbmFsU3RhcnQgc2hvdWxkIG9ubHkgYmUgb25lIG1vcmUgdGhhbiBvcmlnaW5hbEVuZCIpLG89W25ldyB2KGUsMCxuLHItbisxKV0pOmU8PXQ/KEwuQXNzZXJ0KG49PT1yKzEsIm1vZGlmaWVkU3RhcnQgc2hvdWxkIG9ubHkgYmUgb25lIG1vcmUgdGhhbiBtb2RpZmllZEVuZCIpLG89W25ldyB2KGUsdC1lKzEsbiwwKV0pOihMLkFzc2VydChlPT09dCsxLCJvcmlnaW5hbFN0YXJ0IHNob3VsZCBvbmx5IGJlIG9uZSBtb3JlIHRoYW4gb3JpZ2luYWxFbmQiKSxMLkFzc2VydChuPT09cisxLCJtb2RpZmllZFN0YXJ0IHNob3VsZCBvbmx5IGJlIG9uZSBtb3JlIHRoYW4gbW9kaWZpZWRFbmQiKSxvPVtdKSxvfXZhciBzPVswXSx1PVswXSxhPXRoaXMuQ29tcHV0ZVJlY3Vyc2lvblBvaW50KGUsdCxuLHIscyx1LGkpLGw9c1swXSxjPXVbMF07aWYobnVsbCE9PWEpcmV0dXJuIGE7aWYoIWlbMF0pe3ZhciBmPXRoaXMuQ29tcHV0ZURpZmZSZWN1cnNpdmUoZSxsLG4sYyxpKSxoPVtdO3JldHVybiBoPWlbMF0/W25ldyB2KGwrMSx0LShsKzEpKzEsYysxLHItKGMrMSkrMSldOnRoaXMuQ29tcHV0ZURpZmZSZWN1cnNpdmUobCsxLHQsYysxLHIsaSksdGhpcy5Db25jYXRlbmF0ZUNoYW5nZXMoZixoKX1yZXR1cm5bbmV3IHYoZSx0LWUrMSxuLHItbisxKV19LGUucHJvdG90eXBlLldBTEtUUkFDRT1mdW5jdGlvbihlLHQsbixyLGksbyxzLHUsYSxsLGMsZixoLGQsbSxwLGcsXyl7dmFyIHksQyxiPW51bGwsTD1uZXcgRSxOPXQsUz1uLHc9aFswXS1wWzBdLXIsQT1OdW1iZXIuTUlOX1ZBTFVFLFQ9dGhpcy5tX2ZvcndhcmRIaXN0b3J5Lmxlbmd0aC0xO2RveyhDPXcrZSk9PT1OfHxDPFMmJmFbQy0xXTxhW0MrMV0/KGQ9KGM9YVtDKzFdKS13LXIsYzxBJiZMLk1hcmtOZXh0Q2hhbmdlKCksQT1jLEwuQWRkTW9kaWZpZWRFbGVtZW50KGMrMSxkKSx3PUMrMS1lKTooZD0oYz1hW0MtMV0rMSktdy1yLGM8QSYmTC5NYXJrTmV4dENoYW5nZSgpLEE9Yy0xLEwuQWRkT3JpZ2luYWxFbGVtZW50KGMsZCsxKSx3PUMtMS1lKSxUPj0wJiYoZT0oYT10aGlzLm1fZm9yd2FyZEhpc3RvcnlbVF0pWzBdLE49MSxTPWEubGVuZ3RoLTEpfXdoaWxlKC0tVD49LTEpO2lmKHk9TC5nZXRSZXZlcnNlQ2hhbmdlcygpLF9bMF0pe3ZhciBNPWhbMF0rMSxQPXBbMF0rMTtpZihudWxsIT09eSYmeS5sZW5ndGg+MCl7dmFyIE89eVt5Lmxlbmd0aC0xXTtNPU1hdGgubWF4KE0sTy5nZXRPcmlnaW5hbEVuZCgpKSxQPU1hdGgubWF4KFAsTy5nZXRNb2RpZmllZEVuZCgpKX1iPVtuZXcgdihNLGYtTSsxLFAsbS1QKzEpXX1lbHNle0w9bmV3IEUsTj1vLFM9cyx3PWhbMF0tcFswXS11LEE9TnVtYmVyLk1BWF9WQUxVRSxUPWc/dGhpcy5tX3JldmVyc2VIaXN0b3J5Lmxlbmd0aC0xOnRoaXMubV9yZXZlcnNlSGlzdG9yeS5sZW5ndGgtMjtkb3soQz13K2kpPT09Tnx8QzxTJiZsW0MtMV0+PWxbQysxXT8oZD0oYz1sW0MrMV0tMSktdy11LGM+QSYmTC5NYXJrTmV4dENoYW5nZSgpLEE9YysxLEwuQWRkT3JpZ2luYWxFbGVtZW50KGMrMSxkKzEpLHc9QysxLWkpOihkPShjPWxbQy0xXSktdy11LGM+QSYmTC5NYXJrTmV4dENoYW5nZSgpLEE9YyxMLkFkZE1vZGlmaWVkRWxlbWVudChjKzEsZCsxKSx3PUMtMS1pKSxUPj0wJiYoaT0obD10aGlzLm1fcmV2ZXJzZUhpc3RvcnlbVF0pWzBdLE49MSxTPWwubGVuZ3RoLTEpfXdoaWxlKC0tVD49LTEpO2I9TC5nZXRDaGFuZ2VzKCl9cmV0dXJuIHRoaXMuQ29uY2F0ZW5hdGVDaGFuZ2VzKHksYil9LGUucHJvdG90eXBlLkNvbXB1dGVSZWN1cnNpb25Qb2ludD1mdW5jdGlvbihlLHQsbixyLGksbyxzKXt2YXIgdSxhPTAsbD0wLGM9MCxmPTAsaD0wLGQ9MDtlLS0sbi0tLGlbMF09MCxvWzBdPTAsdGhpcy5tX2ZvcndhcmRIaXN0b3J5PVtdLHRoaXMubV9yZXZlcnNlSGlzdG9yeT1bXTt2YXIgbSxwLGc9dC1lKyhyLW4pLF89ZysxLHk9bmV3IEFycmF5KF8pLEM9bmV3IEFycmF5KF8pLGI9ci1uLEw9dC1lLEU9ZS1uLFM9dC1yLHc9KEwtYiklMj09MDtmb3IoeVtiXT1lLENbTF09dCxzWzBdPSExLHU9MTt1PD1nLzIrMTt1Kyspe3ZhciBBPTAsVD0wO2ZvcihjPXRoaXMuQ2xpcERpYWdvbmFsQm91bmQoYi11LHUsYixfKSxmPXRoaXMuQ2xpcERpYWdvbmFsQm91bmQoYit1LHUsYixfKSxtPWM7bTw9ZjttKz0yKXtmb3IobD0oYT1tPT09Y3x8bTxmJiZ5W20tMV08eVttKzFdP3lbbSsxXTp5W20tMV0rMSktKG0tYiktRSxwPWE7YTx0JiZsPHImJnRoaXMuRWxlbWVudHNBcmVFcXVhbChhKzEsbCsxKTspYSsrLGwrKztpZih5W21dPWEsYStsPkErVCYmKEE9YSxUPWwpLCF3JiZNYXRoLmFicyhtLUwpPD11LTEmJmE+PUNbbV0pcmV0dXJuIGlbMF09YSxvWzBdPWwscDw9Q1ttXSYmdTw9MTQ0OD90aGlzLldBTEtUUkFDRShiLGMsZixFLEwsaCxkLFMseSxDLGEsdCxpLGwscixvLHcscyk6bnVsbH12YXIgTT0oQS1lKyhULW4pLXUpLzI7aWYobnVsbCE9PXRoaXMuQ29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlJiYhdGhpcy5Db250aW51ZVByb2Nlc3NpbmdQcmVkaWNhdGUoQSx0aGlzLk9yaWdpbmFsU2VxdWVuY2UsTSkpcmV0dXJuIHNbMF09ITAsaVswXT1BLG9bMF09VCxNPjAmJnU8PTE0NDg/dGhpcy5XQUxLVFJBQ0UoYixjLGYsRSxMLGgsZCxTLHksQyxhLHQsaSxsLHIsbyx3LHMpOltuZXcgdigrK2UsdC1lKzEsKytuLHItbisxKV07Zm9yKGg9dGhpcy5DbGlwRGlhZ29uYWxCb3VuZChMLXUsdSxMLF8pLGQ9dGhpcy5DbGlwRGlhZ29uYWxCb3VuZChMK3UsdSxMLF8pLG09aDttPD1kO20rPTIpe2ZvcihsPShhPW09PT1ofHxtPGQmJkNbbS0xXT49Q1ttKzFdP0NbbSsxXS0xOkNbbS0xXSktKG0tTCktUyxwPWE7YT5lJiZsPm4mJnRoaXMuRWxlbWVudHNBcmVFcXVhbChhLGwpOylhLS0sbC0tO2lmKENbbV09YSx3JiZNYXRoLmFicyhtLWIpPD11JiZhPD15W21dKXJldHVybiBpWzBdPWEsb1swXT1sLHA+PXlbbV0mJnU8PTE0NDg/dGhpcy5XQUxLVFJBQ0UoYixjLGYsRSxMLGgsZCxTLHksQyxhLHQsaSxsLHIsbyx3LHMpOm51bGx9aWYodTw9MTQ0Nyl7dmFyIFA9bmV3IEFycmF5KGYtYysyKTtQWzBdPWItYysxLE4uQ29weSh5LGMsUCwxLGYtYysxKSx0aGlzLm1fZm9yd2FyZEhpc3RvcnkucHVzaChQKSwoUD1uZXcgQXJyYXkoZC1oKzIpKVswXT1MLWgrMSxOLkNvcHkoQyxoLFAsMSxkLWgrMSksdGhpcy5tX3JldmVyc2VIaXN0b3J5LnB1c2goUCl9fXJldHVybiB0aGlzLldBTEtUUkFDRShiLGMsZixFLEwsaCxkLFMseSxDLGEsdCxpLGwscixvLHcscyl9LGUucHJvdG90eXBlLlByZXR0aWZ5Q2hhbmdlcz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7Zm9yKHZhciBuPWVbdF0scj10PGUubGVuZ3RoLTE/ZVt0KzFdLm9yaWdpbmFsU3RhcnQ6dGhpcy5PcmlnaW5hbFNlcXVlbmNlLmdldExlbmd0aCgpLGk9dDxlLmxlbmd0aC0xP2VbdCsxXS5tb2RpZmllZFN0YXJ0OnRoaXMuTW9kaWZpZWRTZXF1ZW5jZS5nZXRMZW5ndGgoKSxvPW4ub3JpZ2luYWxMZW5ndGg+MCxzPW4ubW9kaWZpZWRMZW5ndGg+MDtuLm9yaWdpbmFsU3RhcnQrbi5vcmlnaW5hbExlbmd0aDxyJiZuLm1vZGlmaWVkU3RhcnQrbi5tb2RpZmllZExlbmd0aDxpJiYoIW98fHRoaXMuT3JpZ2luYWxFbGVtZW50c0FyZUVxdWFsKG4ub3JpZ2luYWxTdGFydCxuLm9yaWdpbmFsU3RhcnQrbi5vcmlnaW5hbExlbmd0aCkpJiYoIXN8fHRoaXMuTW9kaWZpZWRFbGVtZW50c0FyZUVxdWFsKG4ubW9kaWZpZWRTdGFydCxuLm1vZGlmaWVkU3RhcnQrbi5tb2RpZmllZExlbmd0aCkpOyluLm9yaWdpbmFsU3RhcnQrKyxuLm1vZGlmaWVkU3RhcnQrKzt2YXIgdT1bbnVsbF07dDxlLmxlbmd0aC0xJiZ0aGlzLkNoYW5nZXNPdmVybGFwKGVbdF0sZVt0KzFdLHUpJiYoZVt0XT11WzBdLGUuc3BsaWNlKHQrMSwxKSx0LS0pfWZvcih0PWUubGVuZ3RoLTE7dD49MDt0LS0pe249ZVt0XSxyPTAsaT0wO2lmKHQ+MCl7dmFyIGE9ZVt0LTFdO2Eub3JpZ2luYWxMZW5ndGg+MCYmKHI9YS5vcmlnaW5hbFN0YXJ0K2Eub3JpZ2luYWxMZW5ndGgpLGEubW9kaWZpZWRMZW5ndGg+MCYmKGk9YS5tb2RpZmllZFN0YXJ0K2EubW9kaWZpZWRMZW5ndGgpfW89bi5vcmlnaW5hbExlbmd0aD4wLHM9bi5tb2RpZmllZExlbmd0aD4wO2Zvcih2YXIgbD0wLGM9dGhpcy5fYm91bmRhcnlTY29yZShuLm9yaWdpbmFsU3RhcnQsbi5vcmlnaW5hbExlbmd0aCxuLm1vZGlmaWVkU3RhcnQsbi5tb2RpZmllZExlbmd0aCksZj0xOztmKyspe3ZhciBoPW4ub3JpZ2luYWxTdGFydC1mLGQ9bi5tb2RpZmllZFN0YXJ0LWY7aWYoaDxyfHxkPGkpYnJlYWs7aWYobyYmIXRoaXMuT3JpZ2luYWxFbGVtZW50c0FyZUVxdWFsKGgsaCtuLm9yaWdpbmFsTGVuZ3RoKSlicmVhaztpZihzJiYhdGhpcy5Nb2RpZmllZEVsZW1lbnRzQXJlRXF1YWwoZCxkK24ubW9kaWZpZWRMZW5ndGgpKWJyZWFrO3ZhciBtPXRoaXMuX2JvdW5kYXJ5U2NvcmUoaCxuLm9yaWdpbmFsTGVuZ3RoLGQsbi5tb2RpZmllZExlbmd0aCk7bT5jJiYoYz1tLGw9Zil9bi5vcmlnaW5hbFN0YXJ0LT1sLG4ubW9kaWZpZWRTdGFydC09bH1yZXR1cm4gZX0sZS5wcm90b3R5cGUuX09yaWdpbmFsSXNCb3VuZGFyeT1mdW5jdGlvbihlKXtpZihlPD0wfHxlPj10aGlzLk9yaWdpbmFsU2VxdWVuY2UuZ2V0TGVuZ3RoKCktMSlyZXR1cm4hMDt2YXIgdD10aGlzLk9yaWdpbmFsU2VxdWVuY2UuZ2V0RWxlbWVudEF0SW5kZXgoZSk7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0JiYvXlxzKiQvLnRlc3QodCl9LGUucHJvdG90eXBlLl9PcmlnaW5hbFJlZ2lvbklzQm91bmRhcnk9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLl9PcmlnaW5hbElzQm91bmRhcnkoZSl8fHRoaXMuX09yaWdpbmFsSXNCb3VuZGFyeShlLTEpKXJldHVybiEwO2lmKHQ+MCl7dmFyIG49ZSt0O2lmKHRoaXMuX09yaWdpbmFsSXNCb3VuZGFyeShuLTEpfHx0aGlzLl9PcmlnaW5hbElzQm91bmRhcnkobikpcmV0dXJuITB9cmV0dXJuITF9LGUucHJvdG90eXBlLl9Nb2RpZmllZElzQm91bmRhcnk9ZnVuY3Rpb24oZSl7aWYoZTw9MHx8ZT49dGhpcy5Nb2RpZmllZFNlcXVlbmNlLmdldExlbmd0aCgpLTEpcmV0dXJuITA7dmFyIHQ9dGhpcy5Nb2RpZmllZFNlcXVlbmNlLmdldEVsZW1lbnRBdEluZGV4KGUpO3JldHVybiJzdHJpbmciPT10eXBlb2YgdCYmL15ccyokLy50ZXN0KHQpfSxlLnByb3RvdHlwZS5fTW9kaWZpZWRSZWdpb25Jc0JvdW5kYXJ5PWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5fTW9kaWZpZWRJc0JvdW5kYXJ5KGUpfHx0aGlzLl9Nb2RpZmllZElzQm91bmRhcnkoZS0xKSlyZXR1cm4hMDtpZih0PjApe3ZhciBuPWUrdDtpZih0aGlzLl9Nb2RpZmllZElzQm91bmRhcnkobi0xKXx8dGhpcy5fTW9kaWZpZWRJc0JvdW5kYXJ5KG4pKXJldHVybiEwfXJldHVybiExfSxlLnByb3RvdHlwZS5fYm91bmRhcnlTY29yZT1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4odGhpcy5fT3JpZ2luYWxSZWdpb25Jc0JvdW5kYXJ5KGUsdCk/MTowKSsodGhpcy5fTW9kaWZpZWRSZWdpb25Jc0JvdW5kYXJ5KG4scik/MTowKX0sZS5wcm90b3R5cGUuQ29uY2F0ZW5hdGVDaGFuZ2VzPWZ1bmN0aW9uKGUsdCl7dmFyIG49W107aWYoMD09PWUubGVuZ3RofHwwPT09dC5sZW5ndGgpcmV0dXJuIHQubGVuZ3RoPjA/dDplO2lmKHRoaXMuQ2hhbmdlc092ZXJsYXAoZVtlLmxlbmd0aC0xXSx0WzBdLG4pKXt2YXIgcj1uZXcgQXJyYXkoZS5sZW5ndGgrdC5sZW5ndGgtMSk7cmV0dXJuIE4uQ29weShlLDAsciwwLGUubGVuZ3RoLTEpLHJbZS5sZW5ndGgtMV09blswXSxOLkNvcHkodCwxLHIsZS5sZW5ndGgsdC5sZW5ndGgtMSkscn1yPW5ldyBBcnJheShlLmxlbmd0aCt0Lmxlbmd0aCk7cmV0dXJuIE4uQ29weShlLDAsciwwLGUubGVuZ3RoKSxOLkNvcHkodCwwLHIsZS5sZW5ndGgsdC5sZW5ndGgpLHJ9LGUucHJvdG90eXBlLkNoYW5nZXNPdmVybGFwPWZ1bmN0aW9uKGUsdCxuKXtpZihMLkFzc2VydChlLm9yaWdpbmFsU3RhcnQ8PXQub3JpZ2luYWxTdGFydCwiTGVmdCBjaGFuZ2UgaXMgbm90IGxlc3MgdGhhbiBvciBlcXVhbCB0byByaWdodCBjaGFuZ2UiKSxMLkFzc2VydChlLm1vZGlmaWVkU3RhcnQ8PXQubW9kaWZpZWRTdGFydCwiTGVmdCBjaGFuZ2UgaXMgbm90IGxlc3MgdGhhbiBvciBlcXVhbCB0byByaWdodCBjaGFuZ2UiKSxlLm9yaWdpbmFsU3RhcnQrZS5vcmlnaW5hbExlbmd0aD49dC5vcmlnaW5hbFN0YXJ0fHxlLm1vZGlmaWVkU3RhcnQrZS5tb2RpZmllZExlbmd0aD49dC5tb2RpZmllZFN0YXJ0KXt2YXIgcj1lLm9yaWdpbmFsU3RhcnQsaT1lLm9yaWdpbmFsTGVuZ3RoLG89ZS5tb2RpZmllZFN0YXJ0LHM9ZS5tb2RpZmllZExlbmd0aDtyZXR1cm4gZS5vcmlnaW5hbFN0YXJ0K2Uub3JpZ2luYWxMZW5ndGg+PXQub3JpZ2luYWxTdGFydCYmKGk9dC5vcmlnaW5hbFN0YXJ0K3Qub3JpZ2luYWxMZW5ndGgtZS5vcmlnaW5hbFN0YXJ0KSxlLm1vZGlmaWVkU3RhcnQrZS5tb2RpZmllZExlbmd0aD49dC5tb2RpZmllZFN0YXJ0JiYocz10Lm1vZGlmaWVkU3RhcnQrdC5tb2RpZmllZExlbmd0aC1lLm1vZGlmaWVkU3RhcnQpLG5bMF09bmV3IHYocixpLG8scyksITB9cmV0dXJuIG5bMF09bnVsbCwhMX0sZS5wcm90b3R5cGUuQ2xpcERpYWdvbmFsQm91bmQ9ZnVuY3Rpb24oZSx0LG4scil7aWYoZT49MCYmZTxyKXJldHVybiBlO3ZhciBpPXQlMj09MDtyZXR1cm4gZTwwP2k9PT0obiUyPT0wKT8wOjE6aT09PSgoci1uLTEpJTI9PTApP3ItMTpyLTJ9LGV9KCksdz1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKHQsbil7cmV0dXJuKGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KSh0LG4pfTtyZXR1cm4gZnVuY3Rpb24odCxuKXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWUodCxuKSx0LnByb3RvdHlwZT1udWxsPT09bj9PYmplY3QuY3JlYXRlKG4pOihyLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgcil9fSgpLEE9e2RvbmU6ITAsdmFsdWU6dm9pZCAwfTshZnVuY3Rpb24oZSl7dmFyIHQ9e25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gQX19O2Z1bmN0aW9uIG4oZSx0KXtmb3IodmFyIG49ZS5uZXh0KCk7IW4uZG9uZTtuPWUubmV4dCgpKXQobi52YWx1ZSl9ZS5lbXB0eT1mdW5jdGlvbigpe3JldHVybiB0fSxlLmZyb21BcnJheT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PW4mJihuPWUubGVuZ3RoKSx7bmV4dDpmdW5jdGlvbigpe3JldHVybiB0Pj1uP0E6e2RvbmU6ITEsdmFsdWU6ZVt0KytdfX19fSxlLmZyb209ZnVuY3Rpb24odCl7cmV0dXJuIHQ/QXJyYXkuaXNBcnJheSh0KT9lLmZyb21BcnJheSh0KTp0OmUuZW1wdHkoKX0sZS5tYXA9ZnVuY3Rpb24oZSx0KXtyZXR1cm57bmV4dDpmdW5jdGlvbigpe3ZhciBuPWUubmV4dCgpO3JldHVybiBuLmRvbmU/QTp7ZG9uZTohMSx2YWx1ZTp0KG4udmFsdWUpfX19fSxlLmZpbHRlcj1mdW5jdGlvbihlLHQpe3JldHVybntuZXh0OmZ1bmN0aW9uKCl7Zm9yKDs7KXt2YXIgbj1lLm5leHQoKTtpZihuLmRvbmUpcmV0dXJuIEE7aWYodChuLnZhbHVlKSlyZXR1cm57ZG9uZTohMSx2YWx1ZTpuLnZhbHVlfX19fX0sZS5mb3JFYWNoPW4sZS5jb2xsZWN0PWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBuKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHQucHVzaChlKX0pLHR9fShifHwoYj17fSkpOyhmdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbixyLGkpe3JldHVybiB2b2lkIDA9PT1uJiYobj0wKSx2b2lkIDA9PT1yJiYocj10Lmxlbmd0aCksdm9pZCAwPT09aSYmKGk9bi0xKSxlLmNhbGwodGhpcyx0LG4scixpKXx8dGhpc313KHQsZSksdC5wcm90b3R5cGUuY3VycmVudD1mdW5jdGlvbigpe3JldHVybiBlLnByb3RvdHlwZS5jdXJyZW50LmNhbGwodGhpcyl9LHQucHJvdG90eXBlLnByZXZpb3VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5kZXg9TWF0aC5tYXgodGhpcy5pbmRleC0xLHRoaXMuc3RhcnQtMSksdGhpcy5jdXJyZW50KCl9LHQucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5kZXg9dGhpcy5zdGFydCx0aGlzLmN1cnJlbnQoKX0sdC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGV4PXRoaXMuZW5kLTEsdGhpcy5jdXJyZW50KCl9LHQucHJvdG90eXBlLnBhcmVudD1mdW5jdGlvbigpe3JldHVybiBudWxsfX0pKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixyKXt2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1uJiYobj1lLmxlbmd0aCksdm9pZCAwPT09ciYmKHI9dC0xKSx0aGlzLml0ZW1zPWUsdGhpcy5zdGFydD10LHRoaXMuZW5kPW4sdGhpcy5pbmRleD1yfXJldHVybiBlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5kZXg9TWF0aC5taW4odGhpcy5pbmRleCsxLHRoaXMuZW5kKSx0aGlzLmN1cnJlbnQoKX0sZS5wcm90b3R5cGUuY3VycmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGV4PT09dGhpcy5zdGFydC0xfHx0aGlzLmluZGV4PT09dGhpcy5lbmQ/bnVsbDp0aGlzLml0ZW1zW3RoaXMuaW5kZXhdfSxlfSgpKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLml0ZXJhdG9yPWUsdGhpcy5mbj10fWUucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mbih0aGlzLml0ZXJhdG9yLm5leHQoKSl9fSgpO3ZhciBULE09ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbih0LG4pe3JldHVybihlPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkodCxuKX07cmV0dXJuIGZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9dH1lKHQsbiksdC5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooci5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IHIpfX0oKSxQPS9eXHdbXHdcZCsuLV0qJC8sTz0vXlwvLyx4PS9eXC9cLy8sST0hMDt2YXIgUj0iIixrPSIvIixVPS9eKChbXjovPyNdKz8pOik/KFwvXC8oW14vPyNdKikpPyhbXj8jXSopKFw/KFteI10qKSk/KCMoLiopKT8vLEY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuLHIsaSxvKXt2b2lkIDA9PT1vJiYobz0hMSksIm9iamVjdCI9PXR5cGVvZiBlPyh0aGlzLnNjaGVtZT1lLnNjaGVtZXx8Uix0aGlzLmF1dGhvcml0eT1lLmF1dGhvcml0eXx8Uix0aGlzLnBhdGg9ZS5wYXRofHxSLHRoaXMucXVlcnk9ZS5xdWVyeXx8Uix0aGlzLmZyYWdtZW50PWUuZnJhZ21lbnR8fFIpOih0aGlzLnNjaGVtZT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxJP2V8fFI6KGV8fChjb25zb2xlLnRyYWNlKCJCQUQgdXJpIGxhY2tzIHNjaGVtZSwgZmFsbGluZyBiYWNrIHRvIGZpbGUtc2NoZW1lLiIpLGU9ImZpbGUiKSxlKX0oZSxvKSx0aGlzLmF1dGhvcml0eT10fHxSLHRoaXMucGF0aD1mdW5jdGlvbihlLHQpe3N3aXRjaChlKXtjYXNlImh0dHBzIjpjYXNlImh0dHAiOmNhc2UiZmlsZSI6dD90WzBdIT09ayYmKHQ9ayt0KTp0PWt9cmV0dXJuIHR9KHRoaXMuc2NoZW1lLG58fFIpLHRoaXMucXVlcnk9cnx8Uix0aGlzLmZyYWdtZW50PWl8fFIsZnVuY3Rpb24oZSx0KXtpZighZS5zY2hlbWUpe2lmKHR8fEkpdGhyb3cgbmV3IEVycm9yKCdbVXJpRXJyb3JdOiBTY2hlbWUgaXMgbWlzc2luZzoge3NjaGVtZTogIiIsIGF1dGhvcml0eTogIicrZS5hdXRob3JpdHkrJyIsIHBhdGg6ICInK2UucGF0aCsnIiwgcXVlcnk6ICInK2UucXVlcnkrJyIsIGZyYWdtZW50OiAiJytlLmZyYWdtZW50KycifScpO2NvbnNvbGUud2FybignW1VyaUVycm9yXTogU2NoZW1lIGlzIG1pc3Npbmc6IHtzY2hlbWU6ICIiLCBhdXRob3JpdHk6ICInK2UuYXV0aG9yaXR5KyciLCBwYXRoOiAiJytlLnBhdGgrJyIsIHF1ZXJ5OiAiJytlLnF1ZXJ5KyciLCBmcmFnbWVudDogIicrZS5mcmFnbWVudCsnIn0nKX1pZihlLnNjaGVtZSYmIVAudGVzdChlLnNjaGVtZSkpdGhyb3cgbmV3IEVycm9yKCJbVXJpRXJyb3JdOiBTY2hlbWUgY29udGFpbnMgaWxsZWdhbCBjaGFyYWN0ZXJzLiIpO2lmKGUucGF0aClpZihlLmF1dGhvcml0eSl7aWYoIU8udGVzdChlLnBhdGgpKXRocm93IG5ldyBFcnJvcignW1VyaUVycm9yXTogSWYgYSBVUkkgY29udGFpbnMgYW4gYXV0aG9yaXR5IGNvbXBvbmVudCwgdGhlbiB0aGUgcGF0aCBjb21wb25lbnQgbXVzdCBlaXRoZXIgYmUgZW1wdHkgb3IgYmVnaW4gd2l0aCBhIHNsYXNoICgiLyIpIGNoYXJhY3RlcicpfWVsc2UgaWYoeC50ZXN0KGUucGF0aCkpdGhyb3cgbmV3IEVycm9yKCdbVXJpRXJyb3JdOiBJZiBhIFVSSSBkb2VzIG5vdCBjb250YWluIGFuIGF1dGhvcml0eSBjb21wb25lbnQsIHRoZW4gdGhlIHBhdGggY2Fubm90IGJlZ2luIHdpdGggdHdvIHNsYXNoIGNoYXJhY3RlcnMgKCIvLyIpJyl9KHRoaXMsbykpfXJldHVybiBlLmlzVXJpPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZXx8ISF0JiYoInN0cmluZyI9PXR5cGVvZiB0LmF1dGhvcml0eSYmInN0cmluZyI9PXR5cGVvZiB0LmZyYWdtZW50JiYic3RyaW5nIj09dHlwZW9mIHQucGF0aCYmInN0cmluZyI9PXR5cGVvZiB0LnF1ZXJ5JiYic3RyaW5nIj09dHlwZW9mIHQuc2NoZW1lJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5mc1BhdGgmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LndpdGgmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LnRvU3RyaW5nKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJmc1BhdGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaih0aGlzKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS53aXRoPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiB0aGlzO3ZhciB0PWUuc2NoZW1lLG49ZS5hdXRob3JpdHkscj1lLnBhdGgsaT1lLnF1ZXJ5LG89ZS5mcmFnbWVudDtyZXR1cm4gdm9pZCAwPT09dD90PXRoaXMuc2NoZW1lOm51bGw9PT10JiYodD1SKSx2b2lkIDA9PT1uP249dGhpcy5hdXRob3JpdHk6bnVsbD09PW4mJihuPVIpLHZvaWQgMD09PXI/cj10aGlzLnBhdGg6bnVsbD09PXImJihyPVIpLHZvaWQgMD09PWk/aT10aGlzLnF1ZXJ5Om51bGw9PT1pJiYoaT1SKSx2b2lkIDA9PT1vP289dGhpcy5mcmFnbWVudDpudWxsPT09byYmKG89UiksdD09PXRoaXMuc2NoZW1lJiZuPT09dGhpcy5hdXRob3JpdHkmJnI9PT10aGlzLnBhdGgmJmk9PT10aGlzLnF1ZXJ5JiZvPT09dGhpcy5mcmFnbWVudD90aGlzOm5ldyBEKHQsbixyLGksbyl9LGUucGFyc2U9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD0hMSk7dmFyIG49VS5leGVjKGUpO3JldHVybiBuP25ldyBEKG5bMl18fFIsZGVjb2RlVVJJQ29tcG9uZW50KG5bNF18fFIpLGRlY29kZVVSSUNvbXBvbmVudChuWzVdfHxSKSxkZWNvZGVVUklDb21wb25lbnQobls3XXx8UiksZGVjb2RlVVJJQ29tcG9uZW50KG5bOV18fFIpLHQpOm5ldyBEKFIsUixSLFIsUil9LGUuZmlsZT1mdW5jdGlvbihlKXt2YXIgdD1SO2lmKGMuYyYmKGU9ZS5yZXBsYWNlKC9cXC9nLGspKSxlWzBdPT09ayYmZVsxXT09PWspe3ZhciBuPWUuaW5kZXhPZihrLDIpOy0xPT09bj8odD1lLnN1YnN0cmluZygyKSxlPWspOih0PWUuc3Vic3RyaW5nKDIsbiksZT1lLnN1YnN0cmluZyhuKXx8ayl9cmV0dXJuIG5ldyBEKCJmaWxlIix0LGUsUixSKX0sZS5mcm9tPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgRChlLnNjaGVtZSxlLmF1dGhvcml0eSxlLnBhdGgsZS5xdWVyeSxlLmZyYWdtZW50KX0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPSExKSxCKHRoaXMsZSl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxlLnJldml2ZT1mdW5jdGlvbih0KXtpZih0KXtpZih0IGluc3RhbmNlb2YgZSlyZXR1cm4gdDt2YXIgbj1uZXcgRCh0KTtyZXR1cm4gbi5fZnNQYXRoPXQuZnNQYXRoLG4uX2Zvcm1hdHRlZD10LmV4dGVybmFsLG59cmV0dXJuIHR9LGV9KCksRD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9bnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0Ll9mb3JtYXR0ZWQ9bnVsbCx0Ll9mc1BhdGg9bnVsbCx0fXJldHVybiBNKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJmc1BhdGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnNQYXRofHwodGhpcy5fZnNQYXRoPWoodGhpcykpLHRoaXMuX2ZzUGF0aH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITEpLGU/Qih0aGlzLCEwKToodGhpcy5fZm9ybWF0dGVkfHwodGhpcy5fZm9ybWF0dGVkPUIodGhpcywhMSkpLHRoaXMuX2Zvcm1hdHRlZCl9LHQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPXskbWlkOjF9O3JldHVybiB0aGlzLl9mc1BhdGgmJihlLmZzUGF0aD10aGlzLl9mc1BhdGgpLHRoaXMuX2Zvcm1hdHRlZCYmKGUuZXh0ZXJuYWw9dGhpcy5fZm9ybWF0dGVkKSx0aGlzLnBhdGgmJihlLnBhdGg9dGhpcy5wYXRoKSx0aGlzLnNjaGVtZSYmKGUuc2NoZW1lPXRoaXMuc2NoZW1lKSx0aGlzLmF1dGhvcml0eSYmKGUuYXV0aG9yaXR5PXRoaXMuYXV0aG9yaXR5KSx0aGlzLnF1ZXJ5JiYoZS5xdWVyeT10aGlzLnF1ZXJ5KSx0aGlzLmZyYWdtZW50JiYoZS5mcmFnbWVudD10aGlzLmZyYWdtZW50KSxlfSx0fShGKSxLPSgoVD17fSlbNThdPSIlM0EiLFRbNDddPSIlMkYiLFRbNjNdPSIlM0YiLFRbMzVdPSIlMjMiLFRbOTFdPSIlNUIiLFRbOTNdPSIlNUQiLFRbNjRdPSIlNDAiLFRbMzNdPSIlMjEiLFRbMzZdPSIlMjQiLFRbMzhdPSIlMjYiLFRbMzldPSIlMjciLFRbNDBdPSIlMjgiLFRbNDFdPSIlMjkiLFRbNDJdPSIlMkEiLFRbNDNdPSIlMkIiLFRbNDRdPSIlMkMiLFRbNTldPSIlM0IiLFRbNjFdPSIlM0QiLFRbMzJdPSIlMjAiLFQpO2Z1bmN0aW9uIHEoZSx0KXtmb3IodmFyIG49dm9pZCAwLHI9LTEsaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lLmNoYXJDb2RlQXQoaSk7aWYobz49OTcmJm88PTEyMnx8bz49NjUmJm88PTkwfHxvPj00OCYmbzw9NTd8fDQ1PT09b3x8NDY9PT1vfHw5NT09PW98fDEyNj09PW98fHQmJjQ3PT09byktMSE9PXImJihuKz1lbmNvZGVVUklDb21wb25lbnQoZS5zdWJzdHJpbmcocixpKSkscj0tMSksdm9pZCAwIT09biYmKG4rPWUuY2hhckF0KGkpKTtlbHNle3ZvaWQgMD09PW4mJihuPWUuc3Vic3RyKDAsaSkpO3ZhciBzPUtbb107dm9pZCAwIT09cz8oLTEhPT1yJiYobis9ZW5jb2RlVVJJQ29tcG9uZW50KGUuc3Vic3RyaW5nKHIsaSkpLHI9LTEpLG4rPXMpOi0xPT09ciYmKHI9aSl9fXJldHVybi0xIT09ciYmKG4rPWVuY29kZVVSSUNvbXBvbmVudChlLnN1YnN0cmluZyhyKSkpLHZvaWQgMCE9PW4/bjplfWZ1bmN0aW9uIFYoZSl7Zm9yKHZhciB0PXZvaWQgMCxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWUuY2hhckNvZGVBdChuKTszNT09PXJ8fDYzPT09cj8odm9pZCAwPT09dCYmKHQ9ZS5zdWJzdHIoMCxuKSksdCs9S1tyXSk6dm9pZCAwIT09dCYmKHQrPWVbbl0pfXJldHVybiB2b2lkIDAhPT10P3Q6ZX1mdW5jdGlvbiBqKGUpe3ZhciB0O3JldHVybiB0PWUuYXV0aG9yaXR5JiZlLnBhdGgubGVuZ3RoPjEmJiJmaWxlIj09PWUuc2NoZW1lPyIvLyIrZS5hdXRob3JpdHkrZS5wYXRoOjQ3PT09ZS5wYXRoLmNoYXJDb2RlQXQoMCkmJihlLnBhdGguY2hhckNvZGVBdCgxKT49NjUmJmUucGF0aC5jaGFyQ29kZUF0KDEpPD05MHx8ZS5wYXRoLmNoYXJDb2RlQXQoMSk+PTk3JiZlLnBhdGguY2hhckNvZGVBdCgxKTw9MTIyKSYmNTg9PT1lLnBhdGguY2hhckNvZGVBdCgyKT9lLnBhdGhbMV0udG9Mb3dlckNhc2UoKStlLnBhdGguc3Vic3RyKDIpOmUucGF0aCxjLmMmJih0PXQucmVwbGFjZSgvXC8vZywiXFwiKSksdH1mdW5jdGlvbiBCKGUsdCl7dmFyIG49dD9WOnEscj0iIixpPWUuc2NoZW1lLG89ZS5hdXRob3JpdHkscz1lLnBhdGgsdT1lLnF1ZXJ5LGE9ZS5mcmFnbWVudDtpZihpJiYocis9aSxyKz0iOiIpLChvfHwiZmlsZSI9PT1pKSYmKHIrPWsscis9ayksbyl7dmFyIGw9by5pbmRleE9mKCJAIik7aWYoLTEhPT1sKXt2YXIgYz1vLnN1YnN0cigwLGwpO289by5zdWJzdHIobCsxKSwtMT09PShsPWMuaW5kZXhPZigiOiIpKT9yKz1uKGMsITEpOihyKz1uKGMuc3Vic3RyKDAsbCksITEpLHIrPSI6IixyKz1uKGMuc3Vic3RyKGwrMSksITEpKSxyKz0iQCJ9LTE9PT0obD0obz1vLnRvTG93ZXJDYXNlKCkpLmluZGV4T2YoIjoiKSk/cis9bihvLCExKToocis9bihvLnN1YnN0cigwLGwpLCExKSxyKz1vLnN1YnN0cihsKSl9aWYocyl7aWYocy5sZW5ndGg+PTMmJjQ3PT09cy5jaGFyQ29kZUF0KDApJiY1OD09PXMuY2hhckNvZGVBdCgyKSkoZj1zLmNoYXJDb2RlQXQoMSkpPj02NSYmZjw9OTAmJihzPSIvIitTdHJpbmcuZnJvbUNoYXJDb2RlKGYrMzIpKyI6IitzLnN1YnN0cigzKSk7ZWxzZSBpZihzLmxlbmd0aD49MiYmNTg9PT1zLmNoYXJDb2RlQXQoMSkpe3ZhciBmOyhmPXMuY2hhckNvZGVBdCgwKSk+PTY1JiZmPD05MCYmKHM9U3RyaW5nLmZyb21DaGFyQ29kZShmKzMyKSsiOiIrcy5zdWJzdHIoMikpfXIrPW4ocywhMCl9cmV0dXJuIHUmJihyKz0iPyIscis9bih1LCExKSksYSYmKHIrPSIjIixyKz10P2E6cShhLCExKSkscn12YXIgWT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmxpbmVOdW1iZXI9ZSx0aGlzLmNvbHVtbj10fXJldHVybiBlLnByb3RvdHlwZS53aXRoPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHZvaWQgMD09PXQmJih0PXRoaXMubGluZU51bWJlciksdm9pZCAwPT09biYmKG49dGhpcy5jb2x1bW4pLHQ9PT10aGlzLmxpbmVOdW1iZXImJm49PT10aGlzLmNvbHVtbj90aGlzOm5ldyBlKHQsbil9LGUucHJvdG90eXBlLmRlbHRhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PXQmJih0PTApLHRoaXMud2l0aCh0aGlzLmxpbmVOdW1iZXIrZSx0aGlzLmNvbHVtbit0KX0sZS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQpe3JldHVybiBlLmVxdWFscyh0aGlzLHQpfSxlLmVxdWFscz1mdW5jdGlvbihlLHQpe3JldHVybiFlJiYhdHx8ISFlJiYhIXQmJmUubGluZU51bWJlcj09PXQubGluZU51bWJlciYmZS5jb2x1bW49PT10LmNvbHVtbn0sZS5wcm90b3R5cGUuaXNCZWZvcmU9ZnVuY3Rpb24odCl7cmV0dXJuIGUuaXNCZWZvcmUodGhpcyx0KX0sZS5pc0JlZm9yZT1mdW5jdGlvbihlLHQpe3JldHVybiBlLmxpbmVOdW1iZXI8dC5saW5lTnVtYmVyfHwhKHQubGluZU51bWJlcjxlLmxpbmVOdW1iZXIpJiZlLmNvbHVtbjx0LmNvbHVtbn0sZS5wcm90b3R5cGUuaXNCZWZvcmVPckVxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiBlLmlzQmVmb3JlT3JFcXVhbCh0aGlzLHQpfSxlLmlzQmVmb3JlT3JFcXVhbD1mdW5jdGlvbihlLHQpe3JldHVybiBlLmxpbmVOdW1iZXI8dC5saW5lTnVtYmVyfHwhKHQubGluZU51bWJlcjxlLmxpbmVOdW1iZXIpJiZlLmNvbHVtbjw9dC5jb2x1bW59LGUuY29tcGFyZT1mdW5jdGlvbihlLHQpe3ZhciBuPTB8ZS5saW5lTnVtYmVyLHI9MHx0LmxpbmVOdW1iZXI7cmV0dXJuIG49PT1yPygwfGUuY29sdW1uKS0oMHx0LmNvbHVtbik6bi1yfSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgZSh0aGlzLmxpbmVOdW1iZXIsdGhpcy5jb2x1bW4pfSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiIoIit0aGlzLmxpbmVOdW1iZXIrIiwiK3RoaXMuY29sdW1uKyIpIn0sZS5saWZ0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0LmxpbmVOdW1iZXIsdC5jb2x1bW4pfSxlLmlzSVBvc2l0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiBlJiYibnVtYmVyIj09dHlwZW9mIGUubGluZU51bWJlciYmIm51bWJlciI9PXR5cGVvZiBlLmNvbHVtbn0sZX0oKSxXPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixyKXtlPm58fGU9PT1uJiZ0PnI/KHRoaXMuc3RhcnRMaW5lTnVtYmVyPW4sdGhpcy5zdGFydENvbHVtbj1yLHRoaXMuZW5kTGluZU51bWJlcj1lLHRoaXMuZW5kQ29sdW1uPXQpOih0aGlzLnN0YXJ0TGluZU51bWJlcj1lLHRoaXMuc3RhcnRDb2x1bW49dCx0aGlzLmVuZExpbmVOdW1iZXI9bix0aGlzLmVuZENvbHVtbj1yKX1yZXR1cm4gZS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiBlLmlzRW1wdHkodGhpcyl9LGUuaXNFbXB0eT1mdW5jdGlvbihlKXtyZXR1cm4gZS5zdGFydExpbmVOdW1iZXI9PT1lLmVuZExpbmVOdW1iZXImJmUuc3RhcnRDb2x1bW49PT1lLmVuZENvbHVtbn0sZS5wcm90b3R5cGUuY29udGFpbnNQb3NpdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gZS5jb250YWluc1Bvc2l0aW9uKHRoaXMsdCl9LGUuY29udGFpbnNQb3NpdGlvbj1mdW5jdGlvbihlLHQpe3JldHVybiEodC5saW5lTnVtYmVyPGUuc3RhcnRMaW5lTnVtYmVyfHx0LmxpbmVOdW1iZXI+ZS5lbmRMaW5lTnVtYmVyKSYmKCEodC5saW5lTnVtYmVyPT09ZS5zdGFydExpbmVOdW1iZXImJnQuY29sdW1uPGUuc3RhcnRDb2x1bW4pJiYhKHQubGluZU51bWJlcj09PWUuZW5kTGluZU51bWJlciYmdC5jb2x1bW4+ZS5lbmRDb2x1bW4pKX0sZS5wcm90b3R5cGUuY29udGFpbnNSYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5jb250YWluc1JhbmdlKHRoaXMsdCl9LGUuY29udGFpbnNSYW5nZT1mdW5jdGlvbihlLHQpe3JldHVybiEodC5zdGFydExpbmVOdW1iZXI8ZS5zdGFydExpbmVOdW1iZXJ8fHQuZW5kTGluZU51bWJlcjxlLnN0YXJ0TGluZU51bWJlcikmJighKHQuc3RhcnRMaW5lTnVtYmVyPmUuZW5kTGluZU51bWJlcnx8dC5lbmRMaW5lTnVtYmVyPmUuZW5kTGluZU51bWJlcikmJighKHQuc3RhcnRMaW5lTnVtYmVyPT09ZS5zdGFydExpbmVOdW1iZXImJnQuc3RhcnRDb2x1bW48ZS5zdGFydENvbHVtbikmJiEodC5lbmRMaW5lTnVtYmVyPT09ZS5lbmRMaW5lTnVtYmVyJiZ0LmVuZENvbHVtbj5lLmVuZENvbHVtbikpKX0sZS5wcm90b3R5cGUucGx1c1JhbmdlPWZ1bmN0aW9uKHQpe3JldHVybiBlLnBsdXNSYW5nZSh0aGlzLHQpfSxlLnBsdXNSYW5nZT1mdW5jdGlvbih0LG4pe3ZhciByLGksbyxzO3JldHVybiBuLnN0YXJ0TGluZU51bWJlcjx0LnN0YXJ0TGluZU51bWJlcj8ocj1uLnN0YXJ0TGluZU51bWJlcixpPW4uc3RhcnRDb2x1bW4pOm4uc3RhcnRMaW5lTnVtYmVyPT09dC5zdGFydExpbmVOdW1iZXI/KHI9bi5zdGFydExpbmVOdW1iZXIsaT1NYXRoLm1pbihuLnN0YXJ0Q29sdW1uLHQuc3RhcnRDb2x1bW4pKToocj10LnN0YXJ0TGluZU51bWJlcixpPXQuc3RhcnRDb2x1bW4pLG4uZW5kTGluZU51bWJlcj50LmVuZExpbmVOdW1iZXI/KG89bi5lbmRMaW5lTnVtYmVyLHM9bi5lbmRDb2x1bW4pOm4uZW5kTGluZU51bWJlcj09PXQuZW5kTGluZU51bWJlcj8obz1uLmVuZExpbmVOdW1iZXIscz1NYXRoLm1heChuLmVuZENvbHVtbix0LmVuZENvbHVtbikpOihvPXQuZW5kTGluZU51bWJlcixzPXQuZW5kQ29sdW1uKSxuZXcgZShyLGksbyxzKX0sZS5wcm90b3R5cGUuaW50ZXJzZWN0UmFuZ2VzPWZ1bmN0aW9uKHQpe3JldHVybiBlLmludGVyc2VjdFJhbmdlcyh0aGlzLHQpfSxlLmludGVyc2VjdFJhbmdlcz1mdW5jdGlvbih0LG4pe3ZhciByPXQuc3RhcnRMaW5lTnVtYmVyLGk9dC5zdGFydENvbHVtbixvPXQuZW5kTGluZU51bWJlcixzPXQuZW5kQ29sdW1uLHU9bi5zdGFydExpbmVOdW1iZXIsYT1uLnN0YXJ0Q29sdW1uLGw9bi5lbmRMaW5lTnVtYmVyLGM9bi5lbmRDb2x1bW47cmV0dXJuIHI8dT8ocj11LGk9YSk6cj09PXUmJihpPU1hdGgubWF4KGksYSkpLG8+bD8obz1sLHM9Yyk6bz09PWwmJihzPU1hdGgubWluKHMsYykpLHI+bz9udWxsOnI9PT1vJiZpPnM/bnVsbDpuZXcgZShyLGksbyxzKX0sZS5wcm90b3R5cGUuZXF1YWxzUmFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIGUuZXF1YWxzUmFuZ2UodGhpcyx0KX0sZS5lcXVhbHNSYW5nZT1mdW5jdGlvbihlLHQpe3JldHVybiEhZSYmISF0JiZlLnN0YXJ0TGluZU51bWJlcj09PXQuc3RhcnRMaW5lTnVtYmVyJiZlLnN0YXJ0Q29sdW1uPT09dC5zdGFydENvbHVtbiYmZS5lbmRMaW5lTnVtYmVyPT09dC5lbmRMaW5lTnVtYmVyJiZlLmVuZENvbHVtbj09PXQuZW5kQ29sdW1ufSxlLnByb3RvdHlwZS5nZXRFbmRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiBuZXcgWSh0aGlzLmVuZExpbmVOdW1iZXIsdGhpcy5lbmRDb2x1bW4pfSxlLnByb3RvdHlwZS5nZXRTdGFydFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBZKHRoaXMuc3RhcnRMaW5lTnVtYmVyLHRoaXMuc3RhcnRDb2x1bW4pfSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbIit0aGlzLnN0YXJ0TGluZU51bWJlcisiLCIrdGhpcy5zdGFydENvbHVtbisiIC0+ICIrdGhpcy5lbmRMaW5lTnVtYmVyKyIsIit0aGlzLmVuZENvbHVtbisiXSJ9LGUucHJvdG90eXBlLnNldEVuZFBvc2l0aW9uPWZ1bmN0aW9uKHQsbil7cmV0dXJuIG5ldyBlKHRoaXMuc3RhcnRMaW5lTnVtYmVyLHRoaXMuc3RhcnRDb2x1bW4sdCxuKX0sZS5wcm90b3R5cGUuc2V0U3RhcnRQb3NpdGlvbj1mdW5jdGlvbih0LG4pe3JldHVybiBuZXcgZSh0LG4sdGhpcy5lbmRMaW5lTnVtYmVyLHRoaXMuZW5kQ29sdW1uKX0sZS5wcm90b3R5cGUuY29sbGFwc2VUb1N0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIGUuY29sbGFwc2VUb1N0YXJ0KHRoaXMpfSxlLmNvbGxhcHNlVG9TdGFydD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodC5zdGFydExpbmVOdW1iZXIsdC5zdGFydENvbHVtbix0LnN0YXJ0TGluZU51bWJlcix0LnN0YXJ0Q29sdW1uKX0sZS5mcm9tUG9zaXRpb25zPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPXQpLG5ldyBlKHQubGluZU51bWJlcix0LmNvbHVtbixuLmxpbmVOdW1iZXIsbi5jb2x1bW4pfSxlLmxpZnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/bmV3IGUodC5zdGFydExpbmVOdW1iZXIsdC5zdGFydENvbHVtbix0LmVuZExpbmVOdW1iZXIsdC5lbmRDb2x1bW4pOm51bGx9LGUuaXNJUmFuZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJudW1iZXIiPT10eXBlb2YgZS5zdGFydExpbmVOdW1iZXImJiJudW1iZXIiPT10eXBlb2YgZS5zdGFydENvbHVtbiYmIm51bWJlciI9PXR5cGVvZiBlLmVuZExpbmVOdW1iZXImJiJudW1iZXIiPT10eXBlb2YgZS5lbmRDb2x1bW59LGUuYXJlSW50ZXJzZWN0aW5nT3JUb3VjaGluZz1mdW5jdGlvbihlLHQpe3JldHVybiEoZS5lbmRMaW5lTnVtYmVyPHQuc3RhcnRMaW5lTnVtYmVyfHxlLmVuZExpbmVOdW1iZXI9PT10LnN0YXJ0TGluZU51bWJlciYmZS5lbmRDb2x1bW48dC5zdGFydENvbHVtbikmJiEodC5lbmRMaW5lTnVtYmVyPGUuc3RhcnRMaW5lTnVtYmVyfHx0LmVuZExpbmVOdW1iZXI9PT1lLnN0YXJ0TGluZU51bWJlciYmdC5lbmRDb2x1bW48ZS5zdGFydENvbHVtbil9LGUuYXJlSW50ZXJzZWN0aW5nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIShlLmVuZExpbmVOdW1iZXI8dC5zdGFydExpbmVOdW1iZXJ8fGUuZW5kTGluZU51bWJlcj09PXQuc3RhcnRMaW5lTnVtYmVyJiZlLmVuZENvbHVtbjw9dC5zdGFydENvbHVtbikmJiEodC5lbmRMaW5lTnVtYmVyPGUuc3RhcnRMaW5lTnVtYmVyfHx0LmVuZExpbmVOdW1iZXI9PT1lLnN0YXJ0TGluZU51bWJlciYmdC5lbmRDb2x1bW48PWUuc3RhcnRDb2x1bW4pfSxlLmNvbXBhcmVSYW5nZXNVc2luZ1N0YXJ0cz1mdW5jdGlvbihlLHQpe2lmKGUmJnQpe3ZhciBuPTB8ZS5zdGFydExpbmVOdW1iZXIscj0wfHQuc3RhcnRMaW5lTnVtYmVyO2lmKG49PT1yKXt2YXIgaT0wfGUuc3RhcnRDb2x1bW4sbz0wfHQuc3RhcnRDb2x1bW47aWYoaT09PW8pe3ZhciBzPTB8ZS5lbmRMaW5lTnVtYmVyLHU9MHx0LmVuZExpbmVOdW1iZXI7cmV0dXJuIHM9PT11PygwfGUuZW5kQ29sdW1uKS0oMHx0LmVuZENvbHVtbik6cy11fXJldHVybiBpLW99cmV0dXJuIG4tcn1yZXR1cm4oZT8xOjApLSh0PzE6MCl9LGUuY29tcGFyZVJhbmdlc1VzaW5nRW5kcz1mdW5jdGlvbihlLHQpe3JldHVybiBlLmVuZExpbmVOdW1iZXI9PT10LmVuZExpbmVOdW1iZXI/ZS5lbmRDb2x1bW49PT10LmVuZENvbHVtbj9lLnN0YXJ0TGluZU51bWJlcj09PXQuc3RhcnRMaW5lTnVtYmVyP2Uuc3RhcnRDb2x1bW4tdC5zdGFydENvbHVtbjplLnN0YXJ0TGluZU51bWJlci10LnN0YXJ0TGluZU51bWJlcjplLmVuZENvbHVtbi10LmVuZENvbHVtbjplLmVuZExpbmVOdW1iZXItdC5lbmRMaW5lTnVtYmVyfSxlLnNwYW5zTXVsdGlwbGVMaW5lcz1mdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRMaW5lTnVtYmVyPmUuc3RhcnRMaW5lTnVtYmVyfSxlfSgpO1N0cmluZy5mcm9tQ2hhckNvZGUoNjUyNzkpO3ZhciBIPTVlMyxHPTM7ZnVuY3Rpb24gUShlLHQsbixyKXtyZXR1cm4gbmV3IFMoZSx0LG4pLkNvbXB1dGVEaWZmKHIpfXZhciB6PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtmb3IodmFyIG49W10scj1bXSxpPTAsbz10Lmxlbmd0aDtpPG87aSsrKW5baV09ZS5fZ2V0Rmlyc3ROb25CbGFua0NvbHVtbih0W2ldLDEpLHJbaV09ZS5fZ2V0TGFzdE5vbkJsYW5rQ29sdW1uKHRbaV0sMSk7dGhpcy5fbGluZXM9dCx0aGlzLl9zdGFydENvbHVtbnM9bix0aGlzLl9lbmRDb2x1bW5zPXJ9cmV0dXJuIGUucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9saW5lcy5sZW5ndGh9LGUucHJvdG90eXBlLmdldEVsZW1lbnRBdEluZGV4PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9saW5lc1tlXS5zdWJzdHJpbmcodGhpcy5fc3RhcnRDb2x1bW5zW2VdLTEsdGhpcy5fZW5kQ29sdW1uc1tlXS0xKX0sZS5wcm90b3R5cGUuZ2V0U3RhcnRMaW5lTnVtYmVyPWZ1bmN0aW9uKGUpe3JldHVybiBlKzF9LGUucHJvdG90eXBlLmdldEVuZExpbmVOdW1iZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUrMX0sZS5fZ2V0Rmlyc3ROb25CbGFua0NvbHVtbj1mdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGg7dDxuO3QrKyl7dmFyIHI9ZS5jaGFyQ29kZUF0KHQpO2lmKDMyIT09ciYmOSE9PXIpcmV0dXJuIHR9cmV0dXJuLTF9KGUpO3JldHVybi0xPT09bj90Om4rMX0sZS5fZ2V0TGFzdE5vbkJsYW5rQ29sdW1uPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD1lLmxlbmd0aC0xKTtmb3IodmFyIG49dDtuPj0wO24tLSl7dmFyIHI9ZS5jaGFyQ29kZUF0KG4pO2lmKDMyIT09ciYmOSE9PXIpcmV0dXJuIG59cmV0dXJuLTF9KGUpO3JldHVybi0xPT09bj90Om4rMn0sZS5wcm90b3R5cGUuZ2V0Q2hhclNlcXVlbmNlPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT1bXSxvPVtdLHM9MCx1PXQ7dTw9bjt1KyspZm9yKHZhciBhPXRoaXMuX2xpbmVzW3VdLGw9ZT90aGlzLl9zdGFydENvbHVtbnNbdV06MSxjPWU/dGhpcy5fZW5kQ29sdW1uc1t1XTphLmxlbmd0aCsxLGY9bDtmPGM7ZisrKXJbc109YS5jaGFyQ29kZUF0KGYtMSksaVtzXT11KzEsb1tzXT1mLHMrKztyZXR1cm4gbmV3IFgocixpLG8pfSxlfSgpLFg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuKXt0aGlzLl9jaGFyQ29kZXM9ZSx0aGlzLl9saW5lTnVtYmVycz10LHRoaXMuX2NvbHVtbnM9bn1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoYXJDb2Rlcy5sZW5ndGh9LGUucHJvdG90eXBlLmdldEVsZW1lbnRBdEluZGV4PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9jaGFyQ29kZXNbZV19LGUucHJvdG90eXBlLmdldFN0YXJ0TGluZU51bWJlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fbGluZU51bWJlcnNbZV19LGUucHJvdG90eXBlLmdldFN0YXJ0Q29sdW1uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9jb2x1bW5zW2VdfSxlLnByb3RvdHlwZS5nZXRFbmRMaW5lTnVtYmVyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9saW5lTnVtYmVyc1tlXX0sZS5wcm90b3R5cGUuZ2V0RW5kQ29sdW1uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9jb2x1bW5zW2VdKzF9LGV9KCksJD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4scixpLG8scyx1KXt0aGlzLm9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyPWUsdGhpcy5vcmlnaW5hbFN0YXJ0Q29sdW1uPXQsdGhpcy5vcmlnaW5hbEVuZExpbmVOdW1iZXI9bix0aGlzLm9yaWdpbmFsRW5kQ29sdW1uPXIsdGhpcy5tb2RpZmllZFN0YXJ0TGluZU51bWJlcj1pLHRoaXMubW9kaWZpZWRTdGFydENvbHVtbj1vLHRoaXMubW9kaWZpZWRFbmRMaW5lTnVtYmVyPXMsdGhpcy5tb2RpZmllZEVuZENvbHVtbj11fXJldHVybiBlLmNyZWF0ZUZyb21EaWZmQ2hhbmdlPWZ1bmN0aW9uKHQsbixyKXt2YXIgaSxvLHMsdSxhLGwsYyxmO3JldHVybiAwPT09dC5vcmlnaW5hbExlbmd0aD8oaT0wLG89MCxzPTAsdT0wKTooaT1uLmdldFN0YXJ0TGluZU51bWJlcih0Lm9yaWdpbmFsU3RhcnQpLG89bi5nZXRTdGFydENvbHVtbih0Lm9yaWdpbmFsU3RhcnQpLHM9bi5nZXRFbmRMaW5lTnVtYmVyKHQub3JpZ2luYWxTdGFydCt0Lm9yaWdpbmFsTGVuZ3RoLTEpLHU9bi5nZXRFbmRDb2x1bW4odC5vcmlnaW5hbFN0YXJ0K3Qub3JpZ2luYWxMZW5ndGgtMSkpLDA9PT10Lm1vZGlmaWVkTGVuZ3RoPyhhPTAsbD0wLGM9MCxmPTApOihhPXIuZ2V0U3RhcnRMaW5lTnVtYmVyKHQubW9kaWZpZWRTdGFydCksbD1yLmdldFN0YXJ0Q29sdW1uKHQubW9kaWZpZWRTdGFydCksYz1yLmdldEVuZExpbmVOdW1iZXIodC5tb2RpZmllZFN0YXJ0K3QubW9kaWZpZWRMZW5ndGgtMSksZj1yLmdldEVuZENvbHVtbih0Lm1vZGlmaWVkU3RhcnQrdC5tb2RpZmllZExlbmd0aC0xKSksbmV3IGUoaSxvLHMsdSxhLGwsYyxmKX0sZX0oKTt2YXIgSj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4scixpKXt0aGlzLm9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyPWUsdGhpcy5vcmlnaW5hbEVuZExpbmVOdW1iZXI9dCx0aGlzLm1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyPW4sdGhpcy5tb2RpZmllZEVuZExpbmVOdW1iZXI9cix0aGlzLmNoYXJDaGFuZ2VzPWl9cmV0dXJuIGUuY3JlYXRlRnJvbURpZmZSZXN1bHQ9ZnVuY3Rpb24odCxuLHIsaSxvLHMsdSl7dmFyIGEsbCxjLGYsaD12b2lkIDA7aWYoMD09PW4ub3JpZ2luYWxMZW5ndGg/KGE9ci5nZXRTdGFydExpbmVOdW1iZXIobi5vcmlnaW5hbFN0YXJ0KS0xLGw9MCk6KGE9ci5nZXRTdGFydExpbmVOdW1iZXIobi5vcmlnaW5hbFN0YXJ0KSxsPXIuZ2V0RW5kTGluZU51bWJlcihuLm9yaWdpbmFsU3RhcnQrbi5vcmlnaW5hbExlbmd0aC0xKSksMD09PW4ubW9kaWZpZWRMZW5ndGg/KGM9aS5nZXRTdGFydExpbmVOdW1iZXIobi5tb2RpZmllZFN0YXJ0KS0xLGY9MCk6KGM9aS5nZXRTdGFydExpbmVOdW1iZXIobi5tb2RpZmllZFN0YXJ0KSxmPWkuZ2V0RW5kTGluZU51bWJlcihuLm1vZGlmaWVkU3RhcnQrbi5tb2RpZmllZExlbmd0aC0xKSkscyYmMCE9PW4ub3JpZ2luYWxMZW5ndGgmJjAhPT1uLm1vZGlmaWVkTGVuZ3RoJiZvKCkpe3ZhciBkPXIuZ2V0Q2hhclNlcXVlbmNlKHQsbi5vcmlnaW5hbFN0YXJ0LG4ub3JpZ2luYWxTdGFydCtuLm9yaWdpbmFsTGVuZ3RoLTEpLG09aS5nZXRDaGFyU2VxdWVuY2UodCxuLm1vZGlmaWVkU3RhcnQsbi5tb2RpZmllZFN0YXJ0K24ubW9kaWZpZWRMZW5ndGgtMSkscD1RKGQsbSxvLCEwKTt1JiYocD1mdW5jdGlvbihlKXtpZihlLmxlbmd0aDw9MSlyZXR1cm4gZTtmb3IodmFyIHQ9W2VbMF1dLG49dFswXSxyPTEsaT1lLmxlbmd0aDtyPGk7cisrKXt2YXIgbz1lW3JdLHM9by5vcmlnaW5hbFN0YXJ0LShuLm9yaWdpbmFsU3RhcnQrbi5vcmlnaW5hbExlbmd0aCksdT1vLm1vZGlmaWVkU3RhcnQtKG4ubW9kaWZpZWRTdGFydCtuLm1vZGlmaWVkTGVuZ3RoKTtNYXRoLm1pbihzLHUpPEc/KG4ub3JpZ2luYWxMZW5ndGg9by5vcmlnaW5hbFN0YXJ0K28ub3JpZ2luYWxMZW5ndGgtbi5vcmlnaW5hbFN0YXJ0LG4ubW9kaWZpZWRMZW5ndGg9by5tb2RpZmllZFN0YXJ0K28ubW9kaWZpZWRMZW5ndGgtbi5tb2RpZmllZFN0YXJ0KToodC5wdXNoKG8pLG49byl9cmV0dXJuIHR9KHApKSxoPVtdO2Zvcih2YXIgZz0wLF89cC5sZW5ndGg7ZzxfO2crKyloLnB1c2goJC5jcmVhdGVGcm9tRGlmZkNoYW5nZShwW2ddLGQsbSkpfXJldHVybiBuZXcgZShhLGwsYyxmLGgpfSxlfSgpLFo9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuKXt0aGlzLnNob3VsZENvbXB1dGVDaGFyQ2hhbmdlcz1uLnNob3VsZENvbXB1dGVDaGFyQ2hhbmdlcyx0aGlzLnNob3VsZFBvc3RQcm9jZXNzQ2hhckNoYW5nZXM9bi5zaG91bGRQb3N0UHJvY2Vzc0NoYXJDaGFuZ2VzLHRoaXMuc2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2U9bi5zaG91bGRJZ25vcmVUcmltV2hpdGVzcGFjZSx0aGlzLnNob3VsZE1ha2VQcmV0dHlEaWZmPW4uc2hvdWxkTWFrZVByZXR0eURpZmYsdGhpcy5tYXhpbXVtUnVuVGltZU1zPUgsdGhpcy5vcmlnaW5hbExpbmVzPWUsdGhpcy5tb2RpZmllZExpbmVzPXQsdGhpcy5vcmlnaW5hbD1uZXcgeihlKSx0aGlzLm1vZGlmaWVkPW5ldyB6KHQpfXJldHVybiBlLnByb3RvdHlwZS5jb21wdXRlRGlmZj1mdW5jdGlvbigpe2lmKDE9PT10aGlzLm9yaWdpbmFsLmdldExlbmd0aCgpJiYwPT09dGhpcy5vcmlnaW5hbC5nZXRFbGVtZW50QXRJbmRleCgwKS5sZW5ndGgpcmV0dXJuW3tvcmlnaW5hbFN0YXJ0TGluZU51bWJlcjoxLG9yaWdpbmFsRW5kTGluZU51bWJlcjoxLG1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyOjEsbW9kaWZpZWRFbmRMaW5lTnVtYmVyOnRoaXMubW9kaWZpZWQuZ2V0TGVuZ3RoKCksY2hhckNoYW5nZXM6W3ttb2RpZmllZEVuZENvbHVtbjowLG1vZGlmaWVkRW5kTGluZU51bWJlcjowLG1vZGlmaWVkU3RhcnRDb2x1bW46MCxtb2RpZmllZFN0YXJ0TGluZU51bWJlcjowLG9yaWdpbmFsRW5kQ29sdW1uOjAsb3JpZ2luYWxFbmRMaW5lTnVtYmVyOjAsb3JpZ2luYWxTdGFydENvbHVtbjowLG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyOjB9XX1dO2lmKDE9PT10aGlzLm1vZGlmaWVkLmdldExlbmd0aCgpJiYwPT09dGhpcy5tb2RpZmllZC5nZXRFbGVtZW50QXRJbmRleCgwKS5sZW5ndGgpcmV0dXJuW3tvcmlnaW5hbFN0YXJ0TGluZU51bWJlcjoxLG9yaWdpbmFsRW5kTGluZU51bWJlcjp0aGlzLm9yaWdpbmFsLmdldExlbmd0aCgpLG1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyOjEsbW9kaWZpZWRFbmRMaW5lTnVtYmVyOjEsY2hhckNoYW5nZXM6W3ttb2RpZmllZEVuZENvbHVtbjowLG1vZGlmaWVkRW5kTGluZU51bWJlcjowLG1vZGlmaWVkU3RhcnRDb2x1bW46MCxtb2RpZmllZFN0YXJ0TGluZU51bWJlcjowLG9yaWdpbmFsRW5kQ29sdW1uOjAsb3JpZ2luYWxFbmRMaW5lTnVtYmVyOjAsb3JpZ2luYWxTdGFydENvbHVtbjowLG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyOjB9XX1dO3RoaXMuY29tcHV0YXRpb25TdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dmFyIGU9USh0aGlzLm9yaWdpbmFsLHRoaXMubW9kaWZpZWQsdGhpcy5fY29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlLmJpbmQodGhpcyksdGhpcy5zaG91bGRNYWtlUHJldHR5RGlmZik7aWYodGhpcy5zaG91bGRJZ25vcmVUcmltV2hpdGVzcGFjZSl7Zm9yKHZhciB0PVtdLG49MCxyPWUubGVuZ3RoO248cjtuKyspdC5wdXNoKEouY3JlYXRlRnJvbURpZmZSZXN1bHQodGhpcy5zaG91bGRJZ25vcmVUcmltV2hpdGVzcGFjZSxlW25dLHRoaXMub3JpZ2luYWwsdGhpcy5tb2RpZmllZCx0aGlzLl9jb250aW51ZVByb2Nlc3NpbmdQcmVkaWNhdGUuYmluZCh0aGlzKSx0aGlzLnNob3VsZENvbXB1dGVDaGFyQ2hhbmdlcyx0aGlzLnNob3VsZFBvc3RQcm9jZXNzQ2hhckNoYW5nZXMpKTtyZXR1cm4gdH1mb3IodmFyIGk9W10sbz0wLHM9MCx1PShuPS0xLGUubGVuZ3RoKTtuPHU7bisrKXtmb3IodmFyIGE9bisxPHU/ZVtuKzFdOm51bGwsbD1hP2Eub3JpZ2luYWxTdGFydDp0aGlzLm9yaWdpbmFsTGluZXMubGVuZ3RoLGM9YT9hLm1vZGlmaWVkU3RhcnQ6dGhpcy5tb2RpZmllZExpbmVzLmxlbmd0aDtvPGwmJnM8Yzspe3ZhciBmPXRoaXMub3JpZ2luYWxMaW5lc1tvXSxoPXRoaXMubW9kaWZpZWRMaW5lc1tzXTtpZihmIT09aCl7Zm9yKHZhciBkPXouX2dldEZpcnN0Tm9uQmxhbmtDb2x1bW4oZiwxKSxtPXouX2dldEZpcnN0Tm9uQmxhbmtDb2x1bW4oaCwxKTtkPjEmJm0+MTspe2lmKGYuY2hhckNvZGVBdChkLTIpIT09aC5jaGFyQ29kZUF0KG0tMikpYnJlYWs7ZC0tLG0tLX0oZD4xfHxtPjEpJiZ0aGlzLl9wdXNoVHJpbVdoaXRlc3BhY2VDaGFyQ2hhbmdlKGksbysxLDEsZCxzKzEsMSxtKTtmb3IodmFyIHA9ei5fZ2V0TGFzdE5vbkJsYW5rQ29sdW1uKGYsMSksZz16Ll9nZXRMYXN0Tm9uQmxhbmtDb2x1bW4oaCwxKSxfPWYubGVuZ3RoKzEsdj1oLmxlbmd0aCsxO3A8XyYmZzx2Oyl7aWYoZi5jaGFyQ29kZUF0KHAtMSkhPT1mLmNoYXJDb2RlQXQoZy0xKSlicmVhaztwKyssZysrfShwPF98fGc8dikmJnRoaXMuX3B1c2hUcmltV2hpdGVzcGFjZUNoYXJDaGFuZ2UoaSxvKzEscCxfLHMrMSxnLHYpfW8rKyxzKyt9YSYmKGkucHVzaChKLmNyZWF0ZUZyb21EaWZmUmVzdWx0KHRoaXMuc2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2UsYSx0aGlzLm9yaWdpbmFsLHRoaXMubW9kaWZpZWQsdGhpcy5fY29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlLmJpbmQodGhpcyksdGhpcy5zaG91bGRDb21wdXRlQ2hhckNoYW5nZXMsdGhpcy5zaG91bGRQb3N0UHJvY2Vzc0NoYXJDaGFuZ2VzKSksbys9YS5vcmlnaW5hbExlbmd0aCxzKz1hLm1vZGlmaWVkTGVuZ3RoKX1yZXR1cm4gaX0sZS5wcm90b3R5cGUuX3B1c2hUcmltV2hpdGVzcGFjZUNoYXJDaGFuZ2U9ZnVuY3Rpb24oZSx0LG4scixpLG8scyl7aWYoIXRoaXMuX21lcmdlVHJpbVdoaXRlc3BhY2VDaGFyQ2hhbmdlKGUsdCxuLHIsaSxvLHMpKXt2YXIgdT12b2lkIDA7dGhpcy5zaG91bGRDb21wdXRlQ2hhckNoYW5nZXMmJih1PVtuZXcgJCh0LG4sdCxyLGksbyxpLHMpXSksZS5wdXNoKG5ldyBKKHQsdCxpLGksdSkpfX0sZS5wcm90b3R5cGUuX21lcmdlVHJpbVdoaXRlc3BhY2VDaGFyQ2hhbmdlPWZ1bmN0aW9uKGUsdCxuLHIsaSxvLHMpe3ZhciB1PWUubGVuZ3RoO2lmKDA9PT11KXJldHVybiExO3ZhciBhPWVbdS0xXTtyZXR1cm4gMCE9PWEub3JpZ2luYWxFbmRMaW5lTnVtYmVyJiYwIT09YS5tb2RpZmllZEVuZExpbmVOdW1iZXImJihhLm9yaWdpbmFsRW5kTGluZU51bWJlcisxPT09dCYmYS5tb2RpZmllZEVuZExpbmVOdW1iZXIrMT09PWkmJihhLm9yaWdpbmFsRW5kTGluZU51bWJlcj10LGEubW9kaWZpZWRFbmRMaW5lTnVtYmVyPWksdGhpcy5zaG91bGRDb21wdXRlQ2hhckNoYW5nZXMmJmEuY2hhckNoYW5nZXMucHVzaChuZXcgJCh0LG4sdCxyLGksbyxpLHMpKSwhMCkpfSxlLnByb3RvdHlwZS5fY29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLm1heGltdW1SdW5UaW1lTXN8fChuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMuY29tcHV0YXRpb25TdGFydFRpbWU8dGhpcy5tYXhpbXVtUnVuVGltZU1zfSxlfSgpLGVlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbil7Zm9yKHZhciByPW5ldyBVaW50OEFycmF5KGUqdCksaT0wLG89ZSp0O2k8bztpKyspcltpXT1uO3RoaXMuX2RhdGE9cix0aGlzLnJvd3M9ZSx0aGlzLmNvbHM9dH1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2RhdGFbZSp0aGlzLmNvbHMrdF19LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQsbil7dGhpcy5fZGF0YVtlKnRoaXMuY29scyt0XT1ufSxlfSgpO2Z1bmN0aW9uIHRlKGUpe3JldHVybiBlPDA/MDplPjI1NT8yNTU6MHxlfWZ1bmN0aW9uIG5lKGUpe3JldHVybiBlPDA/MDplPjQyOTQ5NjcyOTU/NDI5NDk2NzI5NTowfGV9dmFyIHJlPWZ1bmN0aW9uKGUsdCl7dGhpcy5pbmRleD1lLHRoaXMucmVtYWluZGVyPXR9LGllPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLnZhbHVlcz1lLHRoaXMucHJlZml4U3VtPW5ldyBVaW50MzJBcnJheShlLmxlbmd0aCksdGhpcy5wcmVmaXhTdW1WYWxpZEluZGV4PW5ldyBJbnQzMkFycmF5KDEpLHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXT0tMX1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0Q291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXMubGVuZ3RofSxlLnByb3RvdHlwZS5pbnNlcnRWYWx1ZXM9ZnVuY3Rpb24oZSx0KXtlPW5lKGUpO3ZhciBuPXRoaXMudmFsdWVzLHI9dGhpcy5wcmVmaXhTdW0saT10Lmxlbmd0aDtyZXR1cm4gMCE9PWkmJih0aGlzLnZhbHVlcz1uZXcgVWludDMyQXJyYXkobi5sZW5ndGgraSksdGhpcy52YWx1ZXMuc2V0KG4uc3ViYXJyYXkoMCxlKSwwKSx0aGlzLnZhbHVlcy5zZXQobi5zdWJhcnJheShlKSxlK2kpLHRoaXMudmFsdWVzLnNldCh0LGUpLGUtMTx0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0mJih0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF09ZS0xKSx0aGlzLnByZWZpeFN1bT1uZXcgVWludDMyQXJyYXkodGhpcy52YWx1ZXMubGVuZ3RoKSx0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0+PTAmJnRoaXMucHJlZml4U3VtLnNldChyLnN1YmFycmF5KDAsdGhpcy5wcmVmaXhTdW1WYWxpZEluZGV4WzBdKzEpKSwhMCl9LGUucHJvdG90eXBlLmNoYW5nZVZhbHVlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bmUoZSksdD1uZSh0KSx0aGlzLnZhbHVlc1tlXSE9PXQmJih0aGlzLnZhbHVlc1tlXT10LGUtMTx0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0mJih0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF09ZS0xKSwhMCl9LGUucHJvdG90eXBlLnJlbW92ZVZhbHVlcz1mdW5jdGlvbihlLHQpe2U9bmUoZSksdD1uZSh0KTt2YXIgbj10aGlzLnZhbHVlcyxyPXRoaXMucHJlZml4U3VtO2lmKGU+PW4ubGVuZ3RoKXJldHVybiExO3ZhciBpPW4ubGVuZ3RoLWU7cmV0dXJuIHQ+PWkmJih0PWkpLDAhPT10JiYodGhpcy52YWx1ZXM9bmV3IFVpbnQzMkFycmF5KG4ubGVuZ3RoLXQpLHRoaXMudmFsdWVzLnNldChuLnN1YmFycmF5KDAsZSksMCksdGhpcy52YWx1ZXMuc2V0KG4uc3ViYXJyYXkoZSt0KSxlKSx0aGlzLnByZWZpeFN1bT1uZXcgVWludDMyQXJyYXkodGhpcy52YWx1ZXMubGVuZ3RoKSxlLTE8dGhpcy5wcmVmaXhTdW1WYWxpZEluZGV4WzBdJiYodGhpcy5wcmVmaXhTdW1WYWxpZEluZGV4WzBdPWUtMSksdGhpcy5wcmVmaXhTdW1WYWxpZEluZGV4WzBdPj0wJiZ0aGlzLnByZWZpeFN1bS5zZXQoci5zdWJhcnJheSgwLHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSsxKSksITApfSxlLnByb3RvdHlwZS5nZXRUb3RhbFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLnZhbHVlcy5sZW5ndGg/MDp0aGlzLl9nZXRBY2N1bXVsYXRlZFZhbHVlKHRoaXMudmFsdWVzLmxlbmd0aC0xKX0sZS5wcm90b3R5cGUuZ2V0QWNjdW11bGF0ZWRWYWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gZTwwPzA6KGU9bmUoZSksdGhpcy5fZ2V0QWNjdW11bGF0ZWRWYWx1ZShlKSl9LGUucHJvdG90eXBlLl9nZXRBY2N1bXVsYXRlZFZhbHVlPWZ1bmN0aW9uKGUpe2lmKGU8PXRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSlyZXR1cm4gdGhpcy5wcmVmaXhTdW1bZV07dmFyIHQ9dGhpcy5wcmVmaXhTdW1WYWxpZEluZGV4WzBdKzE7MD09PXQmJih0aGlzLnByZWZpeFN1bVswXT10aGlzLnZhbHVlc1swXSx0KyspLGU+PXRoaXMudmFsdWVzLmxlbmd0aCYmKGU9dGhpcy52YWx1ZXMubGVuZ3RoLTEpO2Zvcih2YXIgbj10O248PWU7bisrKXRoaXMucHJlZml4U3VtW25dPXRoaXMucHJlZml4U3VtW24tMV0rdGhpcy52YWx1ZXNbbl07cmV0dXJuIHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXT1NYXRoLm1heCh0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0sZSksdGhpcy5wcmVmaXhTdW1bZV19LGUucHJvdG90eXBlLmdldEluZGV4T2Y9ZnVuY3Rpb24oZSl7ZT1NYXRoLmZsb29yKGUpLHRoaXMuZ2V0VG90YWxWYWx1ZSgpO2Zvcih2YXIgdD0wLG49dGhpcy52YWx1ZXMubGVuZ3RoLTEscj0wLGk9MCxvPTA7dDw9bjspaWYocj10KyhuLXQpLzJ8MCxlPChvPShpPXRoaXMucHJlZml4U3VtW3JdKS10aGlzLnZhbHVlc1tyXSkpbj1yLTE7ZWxzZXtpZighKGU+PWkpKWJyZWFrO3Q9cisxfXJldHVybiBuZXcgcmUocixlLW8pfSxlfSgpLG9lPShmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5fY2FjaGVBY2N1bXVsYXRlZFZhbHVlU3RhcnQ9MCx0aGlzLl9jYWNoZT1udWxsLHRoaXMuX2FjdHVhbD1uZXcgaWUoZSksdGhpcy5fYnVzdENhY2hlKCl9ZS5wcm90b3R5cGUuX2J1c3RDYWNoZT1mdW5jdGlvbigpe3RoaXMuX2NhY2hlQWNjdW11bGF0ZWRWYWx1ZVN0YXJ0PTAsdGhpcy5fY2FjaGU9bnVsbH0sZS5wcm90b3R5cGUuaW5zZXJ0VmFsdWVzPWZ1bmN0aW9uKGUsdCl7dGhpcy5fYWN0dWFsLmluc2VydFZhbHVlcyhlLHQpJiZ0aGlzLl9idXN0Q2FjaGUoKX0sZS5wcm90b3R5cGUuY2hhbmdlVmFsdWU9ZnVuY3Rpb24oZSx0KXt0aGlzLl9hY3R1YWwuY2hhbmdlVmFsdWUoZSx0KSYmdGhpcy5fYnVzdENhY2hlKCl9LGUucHJvdG90eXBlLnJlbW92ZVZhbHVlcz1mdW5jdGlvbihlLHQpe3RoaXMuX2FjdHVhbC5yZW1vdmVWYWx1ZXMoZSx0KSYmdGhpcy5fYnVzdENhY2hlKCl9LGUucHJvdG90eXBlLmdldFRvdGFsVmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0dWFsLmdldFRvdGFsVmFsdWUoKX0sZS5wcm90b3R5cGUuZ2V0QWNjdW11bGF0ZWRWYWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYWN0dWFsLmdldEFjY3VtdWxhdGVkVmFsdWUoZSl9LGUucHJvdG90eXBlLmdldEluZGV4T2Y9ZnVuY3Rpb24oZSl7aWYoZT1NYXRoLmZsb29yKGUpLG51bGwhPT10aGlzLl9jYWNoZSl7dmFyIHQ9ZS10aGlzLl9jYWNoZUFjY3VtdWxhdGVkVmFsdWVTdGFydDtpZih0Pj0wJiZ0PHRoaXMuX2NhY2hlLmxlbmd0aClyZXR1cm4gdGhpcy5fY2FjaGVbdF19cmV0dXJuIHRoaXMuX2FjdHVhbC5nZXRJbmRleE9mKGUpfSxlLnByb3RvdHlwZS53YXJtVXBDYWNoZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxyPWU7cjw9dDtyKyspbltyLWVdPXRoaXMuZ2V0SW5kZXhPZihyKTt0aGlzLl9jYWNoZT1uLHRoaXMuX2NhY2hlQWNjdW11bGF0ZWRWYWx1ZVN0YXJ0PWV9fSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixyKXt0aGlzLl91cmk9ZSx0aGlzLl9saW5lcz10LHRoaXMuX2VvbD1uLHRoaXMuX3ZlcnNpb25JZD1yLHRoaXMuX2xpbmVTdGFydHM9bnVsbH1yZXR1cm4gZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2xpbmVzLmxlbmd0aD0wfSxlLnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpbmVzLmpvaW4odGhpcy5fZW9sKX0sZS5wcm90b3R5cGUub25FdmVudHM9ZnVuY3Rpb24oZSl7ZS5lb2wmJmUuZW9sIT09dGhpcy5fZW9sJiYodGhpcy5fZW9sPWUuZW9sLHRoaXMuX2xpbmVTdGFydHM9bnVsbCk7Zm9yKHZhciB0PTAsbj1lLmNoYW5nZXM7dDxuLmxlbmd0aDt0Kyspe3ZhciByPW5bdF07dGhpcy5fYWNjZXB0RGVsZXRlUmFuZ2Uoci5yYW5nZSksdGhpcy5fYWNjZXB0SW5zZXJ0VGV4dChuZXcgWShyLnJhbmdlLnN0YXJ0TGluZU51bWJlcixyLnJhbmdlLnN0YXJ0Q29sdW1uKSxyLnRleHQpfXRoaXMuX3ZlcnNpb25JZD1lLnZlcnNpb25JZH0sZS5wcm90b3R5cGUuX2Vuc3VyZUxpbmVTdGFydHM9ZnVuY3Rpb24oKXtpZighdGhpcy5fbGluZVN0YXJ0cyl7Zm9yKHZhciBlPXRoaXMuX2VvbC5sZW5ndGgsdD10aGlzLl9saW5lcy5sZW5ndGgsbj1uZXcgVWludDMyQXJyYXkodCkscj0wO3I8dDtyKyspbltyXT10aGlzLl9saW5lc1tyXS5sZW5ndGgrZTt0aGlzLl9saW5lU3RhcnRzPW5ldyBpZShuKX19LGUucHJvdG90eXBlLl9zZXRMaW5lVGV4dD1mdW5jdGlvbihlLHQpe3RoaXMuX2xpbmVzW2VdPXQsdGhpcy5fbGluZVN0YXJ0cyYmdGhpcy5fbGluZVN0YXJ0cy5jaGFuZ2VWYWx1ZShlLHRoaXMuX2xpbmVzW2VdLmxlbmd0aCt0aGlzLl9lb2wubGVuZ3RoKX0sZS5wcm90b3R5cGUuX2FjY2VwdERlbGV0ZVJhbmdlPWZ1bmN0aW9uKGUpe2lmKGUuc3RhcnRMaW5lTnVtYmVyIT09ZS5lbmRMaW5lTnVtYmVyKXRoaXMuX3NldExpbmVUZXh0KGUuc3RhcnRMaW5lTnVtYmVyLTEsdGhpcy5fbGluZXNbZS5zdGFydExpbmVOdW1iZXItMV0uc3Vic3RyaW5nKDAsZS5zdGFydENvbHVtbi0xKSt0aGlzLl9saW5lc1tlLmVuZExpbmVOdW1iZXItMV0uc3Vic3RyaW5nKGUuZW5kQ29sdW1uLTEpKSx0aGlzLl9saW5lcy5zcGxpY2UoZS5zdGFydExpbmVOdW1iZXIsZS5lbmRMaW5lTnVtYmVyLWUuc3RhcnRMaW5lTnVtYmVyKSx0aGlzLl9saW5lU3RhcnRzJiZ0aGlzLl9saW5lU3RhcnRzLnJlbW92ZVZhbHVlcyhlLnN0YXJ0TGluZU51bWJlcixlLmVuZExpbmVOdW1iZXItZS5zdGFydExpbmVOdW1iZXIpO2Vsc2V7aWYoZS5zdGFydENvbHVtbj09PWUuZW5kQ29sdW1uKXJldHVybjt0aGlzLl9zZXRMaW5lVGV4dChlLnN0YXJ0TGluZU51bWJlci0xLHRoaXMuX2xpbmVzW2Uuc3RhcnRMaW5lTnVtYmVyLTFdLnN1YnN0cmluZygwLGUuc3RhcnRDb2x1bW4tMSkrdGhpcy5fbGluZXNbZS5zdGFydExpbmVOdW1iZXItMV0uc3Vic3RyaW5nKGUuZW5kQ29sdW1uLTEpKX19LGUucHJvdG90eXBlLl9hY2NlcHRJbnNlcnRUZXh0PWZ1bmN0aW9uKGUsdCl7aWYoMCE9PXQubGVuZ3RoKXt2YXIgbj10LnNwbGl0KC9cclxufFxyfFxuLyk7aWYoMSE9PW4ubGVuZ3RoKXtuW24ubGVuZ3RoLTFdKz10aGlzLl9saW5lc1tlLmxpbmVOdW1iZXItMV0uc3Vic3RyaW5nKGUuY29sdW1uLTEpLHRoaXMuX3NldExpbmVUZXh0KGUubGluZU51bWJlci0xLHRoaXMuX2xpbmVzW2UubGluZU51bWJlci0xXS5zdWJzdHJpbmcoMCxlLmNvbHVtbi0xKStuWzBdKTtmb3IodmFyIHI9bmV3IFVpbnQzMkFycmF5KG4ubGVuZ3RoLTEpLGk9MTtpPG4ubGVuZ3RoO2krKyl0aGlzLl9saW5lcy5zcGxpY2UoZS5saW5lTnVtYmVyK2ktMSwwLG5baV0pLHJbaS0xXT1uW2ldLmxlbmd0aCt0aGlzLl9lb2wubGVuZ3RoO3RoaXMuX2xpbmVTdGFydHMmJnRoaXMuX2xpbmVTdGFydHMuaW5zZXJ0VmFsdWVzKGUubGluZU51bWJlcixyKX1lbHNlIHRoaXMuX3NldExpbmVUZXh0KGUubGluZU51bWJlci0xLHRoaXMuX2xpbmVzW2UubGluZU51bWJlci0xXS5zdWJzdHJpbmcoMCxlLmNvbHVtbi0xKStuWzBdK3RoaXMuX2xpbmVzW2UubGluZU51bWJlci0xXS5zdWJzdHJpbmcoZS5jb2x1bW4tMSkpfX0sZX0oKSksc2U9ImB+IUAjJCVeJiooKS09K1t7XX1cXHw7OidcIiwuPD4vPyI7dmFyIHVlPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPSIiKTtmb3IodmFyIHQ9IigtP1xcZCpcXC5cXGRcXHcqKXwoW14iLG49MCxyPXNlO248ci5sZW5ndGg7bisrKXt2YXIgaT1yW25dO2UuaW5kZXhPZihpKT49MHx8KHQrPSJcXCIraSl9cmV0dXJuIHQrPSJcXHNdKykiLG5ldyBSZWdFeHAodCwiZyIpfSgpO3ZhciBhZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49dGUodCk7dGhpcy5fZGVmYXVsdFZhbHVlPW4sdGhpcy5fYXNjaWlNYXA9ZS5fY3JlYXRlQXNjaWlNYXAobiksdGhpcy5fbWFwPW5ldyBNYXB9cmV0dXJuIGUuX2NyZWF0ZUFzY2lpTWFwPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1uZXcgVWludDhBcnJheSgyNTYpLG49MDtuPDI1NjtuKyspdFtuXT1lO3JldHVybiB0fSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10ZSh0KTtlPj0wJiZlPDI1Nj90aGlzLl9hc2NpaU1hcFtlXT1uOnRoaXMuX21hcC5zZXQoZSxuKX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBlPj0wJiZlPDI1Nj90aGlzLl9hc2NpaU1hcFtlXTp0aGlzLl9tYXAuZ2V0KGUpfHx0aGlzLl9kZWZhdWx0VmFsdWV9LGV9KCksbGU9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuX2FjdHVhbD1uZXcgYWUoMCl9ZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3RoaXMuX2FjdHVhbC5zZXQoZSwxKX0sZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiAxPT09dGhpcy5fYWN0dWFsLmdldChlKX19KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe2Zvcih2YXIgdD0wLG49MCxyPTAsaT1lLmxlbmd0aDtyPGk7cisrKXt2YXIgbz1lW3JdLHM9b1swXTsobD1vWzFdKT50JiYodD1sKSxzPm4mJihuPXMpLChjPW9bMl0pPm4mJihuPWMpfXZhciB1PW5ldyBlZSgrK24sKyt0LDApO2ZvcihyPTAsaT1lLmxlbmd0aDtyPGk7cisrKXt2YXIgYT1lW3JdLGw9KHM9YVswXSxhWzFdKSxjPWFbMl07dS5zZXQocyxsLGMpfXRoaXMuX3N0YXRlcz11LHRoaXMuX21heENoYXJDb2RlPXR9cmV0dXJuIGUucHJvdG90eXBlLm5leHRTdGF0ZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PDB8fHQ+PXRoaXMuX21heENoYXJDb2RlPzA6dGhpcy5fc3RhdGVzLmdldChlLHQpfSxlfSgpKSxjZT1udWxsO3ZhciBmZT1udWxsO3ZhciBoZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuX2NyZWF0ZUxpbms9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbz1pLTE7ZG97dmFyIHM9dC5jaGFyQ29kZUF0KG8pO2lmKDIhPT1lLmdldChzKSlicmVhaztvLS19d2hpbGUobz5yKTtpZihyPjApe3ZhciB1PXQuY2hhckNvZGVBdChyLTEpLGE9dC5jaGFyQ29kZUF0KG8pOyg0MD09PXUmJjQxPT09YXx8OTE9PT11JiY5Mz09PWF8fDEyMz09PXUmJjEyNT09PWEpJiZvLS19cmV0dXJue3JhbmdlOntzdGFydExpbmVOdW1iZXI6bixzdGFydENvbHVtbjpyKzEsZW5kTGluZU51bWJlcjpuLGVuZENvbHVtbjpvKzJ9LHVybDp0LnN1YnN0cmluZyhyLG8rMSl9fSxlLmNvbXB1dGVMaW5rcz1mdW5jdGlvbih0LG4pe3ZvaWQgMD09PW4mJihudWxsPT09Y2UmJihjZT1uZXcgbGUoW1sxLDEwNCwyXSxbMSw3MiwyXSxbMSwxMDIsNl0sWzEsNzAsNl0sWzIsMTE2LDNdLFsyLDg0LDNdLFszLDExNiw0XSxbMyw4NCw0XSxbNCwxMTIsNV0sWzQsODAsNV0sWzUsMTE1LDldLFs1LDgzLDldLFs1LDU4LDEwXSxbNiwxMDUsN10sWzYsNzMsN10sWzcsMTA4LDhdLFs3LDc2LDhdLFs4LDEwMSw5XSxbOCw2OSw5XSxbOSw1OCwxMF0sWzEwLDQ3LDExXSxbMTEsNDcsMTJdXSkpLG49Y2UpO2Zvcih2YXIgcj1mdW5jdGlvbigpe2lmKG51bGw9PT1mZSl7ZmU9bmV3IGFlKDApO2Zvcih2YXIgZT0wO2U8IiBcdDw+J1wi44CB44CC772h772k77yM77yO77ya77yb77yf77yB77yg77yD77yE77yF77yG77yK4oCY4oCc44CI44CK44CM44CO44CQ44CU77yI77y7772b772i772j772d77y977yJ44CV44CR44CP44CN44CL44CJ4oCd4oCZ772A772e4oCmIi5sZW5ndGg7ZSsrKWZlLnNldCgiIFx0PD4nXCLjgIHjgILvvaHvvaTvvIzvvI7vvJrvvJvvvJ/vvIHvvKDvvIPvvITvvIXvvIbvvIrigJjigJzjgIjjgIrjgIzjgI7jgJDjgJTvvIjvvLvvvZvvvaLvvaPvvZ3vvL3vvInjgJXjgJHjgI/jgI3jgIvjgInigJ3igJnvvYDvvZ7igKYiLmNoYXJDb2RlQXQoZSksMSk7Zm9yKGU9MDtlPCIuLDsiLmxlbmd0aDtlKyspZmUuc2V0KCIuLDsiLmNoYXJDb2RlQXQoZSksMil9cmV0dXJuIGZlfSgpLGk9W10sbz0xLHM9dC5nZXRMaW5lQ291bnQoKTtvPD1zO28rKyl7Zm9yKHZhciB1PXQuZ2V0TGluZUNvbnRlbnQobyksYT11Lmxlbmd0aCxsPTAsYz0wLGY9MCxoPTEsZD0hMSxtPSExLHA9ITE7bDxhOyl7dmFyIGc9ITEsXz11LmNoYXJDb2RlQXQobCk7aWYoMTM9PT1oKXt2YXIgdj12b2lkIDA7c3dpdGNoKF8pe2Nhc2UgNDA6ZD0hMCx2PTA7YnJlYWs7Y2FzZSA0MTp2PWQ/MDoxO2JyZWFrO2Nhc2UgOTE6bT0hMCx2PTA7YnJlYWs7Y2FzZSA5Mzp2PW0/MDoxO2JyZWFrO2Nhc2UgMTIzOnA9ITAsdj0wO2JyZWFrO2Nhc2UgMTI1OnY9cD8wOjE7YnJlYWs7Y2FzZSAzOTp2PTM0PT09Znx8OTY9PT1mPzA6MTticmVhaztjYXNlIDM0OnY9Mzk9PT1mfHw5Nj09PWY/MDoxO2JyZWFrO2Nhc2UgOTY6dj0zOT09PWZ8fDM0PT09Zj8wOjE7YnJlYWs7ZGVmYXVsdDp2PXIuZ2V0KF8pfTE9PT12JiYoaS5wdXNoKGUuX2NyZWF0ZUxpbmsocix1LG8sYyxsKSksZz0hMCl9ZWxzZSBpZigxMj09PWgpe3Y9dm9pZCAwOzkxPT09Xz8obT0hMCx2PTApOnY9ci5nZXQoXyksMT09PXY/Zz0hMDpoPTEzfWVsc2UgMD09PShoPW4ubmV4dFN0YXRlKGgsXykpJiYoZz0hMCk7ZyYmKGg9MSxkPSExLG09ITEscD0hMSxjPWwrMSxmPV8pLGwrK30xMz09PWgmJmkucHVzaChlLl9jcmVhdGVMaW5rKHIsdSxvLGMsYSkpfXJldHVybiBpfSxlfSgpO3ZhciBkZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLl9kZWZhdWx0VmFsdWVTZXQ9W1sidHJ1ZSIsImZhbHNlIl0sWyJUcnVlIiwiRmFsc2UiXSxbIlByaXZhdGUiLCJQdWJsaWMiLCJGcmllbmQiLCJSZWFkT25seSIsIlBhcnRpYWwiLCJQcm90ZWN0ZWQiLCJXcml0ZU9ubHkiXSxbInB1YmxpYyIsInByb3RlY3RlZCIsInByaXZhdGUiXV19cmV0dXJuIGUucHJvdG90eXBlLm5hdmlnYXRlVmFsdWVTZXQ9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbztpZihlJiZ0JiYobz10aGlzLmRvTmF2aWdhdGVWYWx1ZVNldCh0LGkpKSlyZXR1cm57cmFuZ2U6ZSx2YWx1ZTpvfTtpZihuJiZyJiYobz10aGlzLmRvTmF2aWdhdGVWYWx1ZVNldChyLGkpKSlyZXR1cm57cmFuZ2U6bix2YWx1ZTpvfTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZG9OYXZpZ2F0ZVZhbHVlU2V0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5udW1iZXJSZXBsYWNlKGUsdCk7cmV0dXJuIG51bGwhPT1uP246dGhpcy50ZXh0UmVwbGFjZShlLHQpfSxlLnByb3RvdHlwZS5udW1iZXJSZXBsYWNlPWZ1bmN0aW9uKGUsdCl7dmFyIG49TWF0aC5wb3coMTAsZS5sZW5ndGgtKGUubGFzdEluZGV4T2YoIi4iKSsxKSkscj1OdW1iZXIoZSksaT1wYXJzZUZsb2F0KGUpO3JldHVybiBpc05hTihyKXx8aXNOYU4oaSl8fHIhPT1pP251bGw6MCE9PXJ8fHQ/KHI9TWF0aC5mbG9vcihyKm4pLHIrPXQ/bjotbixTdHJpbmcoci9uKSk6bnVsbH0sZS5wcm90b3R5cGUudGV4dFJlcGxhY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy52YWx1ZVNldHNSZXBsYWNlKHRoaXMuX2RlZmF1bHRWYWx1ZVNldCxlLHQpfSxlLnByb3RvdHlwZS52YWx1ZVNldHNSZXBsYWNlPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bnVsbCxpPTAsbz1lLmxlbmd0aDtudWxsPT09ciYmaTxvO2krKylyPXRoaXMudmFsdWVTZXRSZXBsYWNlKGVbaV0sdCxuKTtyZXR1cm4gcn0sZS5wcm90b3R5cGUudmFsdWVTZXRSZXBsYWNlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLmluZGV4T2YodCk7cmV0dXJuIHI+PTA/KChyKz1uPzE6LTEpPDA/cj1lLmxlbmd0aC0xOnIlPWUubGVuZ3RoLGVbcl0pOm51bGx9LGUuSU5TVEFOQ0U9bmV3IGUsZX0oKTtuKDMpO3ZhciBtZSxwZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dGhpcy5lbGVtZW50PXQsdGhpcy5uZXh0PWUuVW5kZWZpbmVkLHRoaXMucHJldj1lLlVuZGVmaW5lZH1yZXR1cm4gZS5VbmRlZmluZWQ9bmV3IGUodm9pZCAwKSxlfSgpLGdlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuX2ZpcnN0PXBlLlVuZGVmaW5lZCx0aGlzLl9sYXN0PXBlLlVuZGVmaW5lZCx0aGlzLl9zaXplPTB9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXplfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlyc3Q9PT1wZS5VbmRlZmluZWR9LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fZmlyc3Q9cGUuVW5kZWZpbmVkLHRoaXMuX2xhc3Q9cGUuVW5kZWZpbmVkLHRoaXMuX3NpemU9MH0sZS5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW5zZXJ0KGUsITEpfSxlLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnNlcnQoZSwhMCl9LGUucHJvdG90eXBlLl9pbnNlcnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9bmV3IHBlKGUpO2lmKHRoaXMuX2ZpcnN0PT09cGUuVW5kZWZpbmVkKXRoaXMuX2ZpcnN0PXIsdGhpcy5fbGFzdD1yO2Vsc2UgaWYodCl7dmFyIGk9dGhpcy5fbGFzdDt0aGlzLl9sYXN0PXIsci5wcmV2PWksaS5uZXh0PXJ9ZWxzZXt2YXIgbz10aGlzLl9maXJzdDt0aGlzLl9maXJzdD1yLHIubmV4dD1vLG8ucHJldj1yfXRoaXMuX3NpemUrPTE7dmFyIHM9ITE7cmV0dXJuIGZ1bmN0aW9uKCl7c3x8KHM9ITAsbi5fcmVtb3ZlKHIpKX19LGUucHJvdG90eXBlLnNoaWZ0PWZ1bmN0aW9uKCl7aWYodGhpcy5fZmlyc3QhPT1wZS5VbmRlZmluZWQpe3ZhciBlPXRoaXMuX2ZpcnN0LmVsZW1lbnQ7cmV0dXJuIHRoaXMuX3JlbW92ZSh0aGlzLl9maXJzdCksZX19LGUucHJvdG90eXBlLl9yZW1vdmU9ZnVuY3Rpb24oZSl7aWYoZS5wcmV2IT09cGUuVW5kZWZpbmVkJiZlLm5leHQhPT1wZS5VbmRlZmluZWQpe3ZhciB0PWUucHJldjt0Lm5leHQ9ZS5uZXh0LGUubmV4dC5wcmV2PXR9ZWxzZSBlLnByZXY9PT1wZS5VbmRlZmluZWQmJmUubmV4dD09PXBlLlVuZGVmaW5lZD8odGhpcy5fZmlyc3Q9cGUuVW5kZWZpbmVkLHRoaXMuX2xhc3Q9cGUuVW5kZWZpbmVkKTplLm5leHQ9PT1wZS5VbmRlZmluZWQ/KHRoaXMuX2xhc3Q9dGhpcy5fbGFzdC5wcmV2LHRoaXMuX2xhc3QubmV4dD1wZS5VbmRlZmluZWQpOmUucHJldj09PXBlLlVuZGVmaW5lZCYmKHRoaXMuX2ZpcnN0PXRoaXMuX2ZpcnN0Lm5leHQsdGhpcy5fZmlyc3QucHJldj1wZS5VbmRlZmluZWQpO3RoaXMuX3NpemUtPTF9LGUucHJvdG90eXBlLml0ZXJhdG9yPWZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl9maXJzdDtyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybiB0PT09cGUuVW5kZWZpbmVkP0E6KGU/ZS52YWx1ZT10LmVsZW1lbnQ6ZT17ZG9uZTohMSx2YWx1ZTp0LmVsZW1lbnR9LHQ9dC5uZXh0LGUpfX19LGUucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD10aGlzLl9maXJzdDt0IT09cGUuVW5kZWZpbmVkO3Q9dC5uZXh0KWUucHVzaCh0LmVsZW1lbnQpO3JldHVybiBlfSxlfSgpLF9lPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24odCxuKXtyZXR1cm4oZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKHQsbil9O3JldHVybiBmdW5jdGlvbih0LG4pe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPXR9ZSh0LG4pLHQucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KHIucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyByKX19KCk7IWZ1bmN0aW9uKGUpe3ZhciB0PXtkaXNwb3NlOmZ1bmN0aW9uKCl7fX07ZnVuY3Rpb24gbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuLHIpe3ZvaWQgMD09PW4mJihuPW51bGwpO3ZhciBpLG89ITE7cmV0dXJuIGk9ZShmdW5jdGlvbihlKXtpZighbylyZXR1cm4gaT9pLmRpc3Bvc2UoKTpvPSEwLHQuY2FsbChuLGUpfSxudWxsLHIpLG8mJmkuZGlzcG9zZSgpLGl9fWZ1bmN0aW9uIHIoZSx0KXtyZXR1cm4gdShmdW5jdGlvbihuLHIsaSl7cmV0dXJuIHZvaWQgMD09PXImJihyPW51bGwpLGUoZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbChyLHQoZSkpfSxudWxsLGkpfSl9ZnVuY3Rpb24gaShlLHQpe3JldHVybiB1KGZ1bmN0aW9uKG4scixpKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9bnVsbCksZShmdW5jdGlvbihlKXt0KGUpLG4uY2FsbChyLGUpfSxudWxsLGkpfSl9ZnVuY3Rpb24gbyhlLHQpe3JldHVybiB1KGZ1bmN0aW9uKG4scixpKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9bnVsbCksZShmdW5jdGlvbihlKXtyZXR1cm4gdChlKSYmbi5jYWxsKHIsZSl9LG51bGwsaSl9KX1mdW5jdGlvbiBzKGUsdCxuKXt2YXIgaT1uO3JldHVybiByKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGk9dChpLGUpfSl9ZnVuY3Rpb24gdShlKXt2YXIgdCxuPW5ldyBMZSh7b25GaXJzdExpc3RlbmVyQWRkOmZ1bmN0aW9uKCl7dD1lKG4uZmlyZSxuKX0sb25MYXN0TGlzdGVuZXJSZW1vdmU6ZnVuY3Rpb24oKXt0LmRpc3Bvc2UoKX19KTtyZXR1cm4gbi5ldmVudH1mdW5jdGlvbiBsKGUpe3ZhciB0LG49ITA7cmV0dXJuIG8oZSxmdW5jdGlvbihlKXt2YXIgcj1ufHxlIT09dDtyZXR1cm4gbj0hMSx0PWUscn0pfWUuTm9uZT1mdW5jdGlvbigpe3JldHVybiB0fSxlLm9uY2U9bixlLm1hcD1yLGUuZm9yRWFjaD1pLGUuZmlsdGVyPW8sZS5zaWduYWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGUuYW55PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3JldHVybiBmdW5jdGlvbih0LG4scil7cmV0dXJuIHZvaWQgMD09PW4mJihuPW51bGwpLGZ1bmN0aW9uKGUpe3JldHVybntkaXNwb3NlOmZ1bmN0aW9uKCl7cmV0dXJuIGEoZSl9fX0oZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUoZnVuY3Rpb24oZSl7cmV0dXJuIHQuY2FsbChuLGUpfSxudWxsLHIpfSkpfX0sZS5yZWR1Y2U9cyxlLnNuYXBzaG90PXUsZS5kZWJvdW5jZT1mdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvO3ZvaWQgMD09PW4mJihuPTEwMCksdm9pZCAwPT09ciYmKHI9ITEpO3ZhciBzPXZvaWQgMCx1PXZvaWQgMCxhPTAsbD1uZXcgTGUoe2xlYWtXYXJuaW5nVGhyZXNob2xkOmksb25GaXJzdExpc3RlbmVyQWRkOmZ1bmN0aW9uKCl7bz1lKGZ1bmN0aW9uKGUpe2ErKyxzPXQocyxlKSxyJiYhdSYmbC5maXJlKHMpLGNsZWFyVGltZW91dCh1KSx1PXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZT1zO3M9dm9pZCAwLHU9dm9pZCAwLCghcnx8YT4xKSYmbC5maXJlKGUpLGE9MH0sbil9KX0sb25MYXN0TGlzdGVuZXJSZW1vdmU6ZnVuY3Rpb24oKXtvLmRpc3Bvc2UoKX19KTtyZXR1cm4gbC5ldmVudH0sZS5zdG9wd2F0Y2g9ZnVuY3Rpb24oZSl7dmFyIHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCk7cmV0dXJuIHIobihlKSxmdW5jdGlvbihlKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKS10fSl9LGUubGF0Y2g9bCxlLmJ1ZmZlcj1mdW5jdGlvbihlLHQsbil7dm9pZCAwPT09dCYmKHQ9ITEpLHZvaWQgMD09PW4mJihuPVtdKTt2YXIgcj1uLnNsaWNlKCksaT1lKGZ1bmN0aW9uKGUpe3I/ci5wdXNoKGUpOnMuZmlyZShlKX0pLG89ZnVuY3Rpb24oKXtyJiZyLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHMuZmlyZShlKX0pLHI9bnVsbH0scz1uZXcgTGUoe29uRmlyc3RMaXN0ZW5lckFkZDpmdW5jdGlvbigpe2l8fChpPWUoZnVuY3Rpb24oZSl7cmV0dXJuIHMuZmlyZShlKX0pKX0sb25GaXJzdExpc3RlbmVyRGlkQWRkOmZ1bmN0aW9uKCl7ciYmKHQ/c2V0VGltZW91dChvKTpvKCkpfSxvbkxhc3RMaXN0ZW5lclJlbW92ZTpmdW5jdGlvbigpe2kmJmkuZGlzcG9zZSgpLGk9bnVsbH19KTtyZXR1cm4gcy5ldmVudH07dmFyIGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuZXZlbnQ9ZX1yZXR1cm4gZS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZShyKHRoaXMuZXZlbnQsdCkpfSxlLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZShpKHRoaXMuZXZlbnQsdCkpfSxlLnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKG8odGhpcy5ldmVudCx0KSl9LGUucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbih0LG4pe3JldHVybiBuZXcgZShzKHRoaXMuZXZlbnQsdCxuKSl9LGUucHJvdG90eXBlLmxhdGNoPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKGwodGhpcy5ldmVudCkpfSxlLnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuZXZlbnQoZSx0LG4pfSxlLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbih0aGlzLmV2ZW50KShlLHQscil9LGV9KCk7ZS5jaGFpbj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGMoZSl9LGUuZnJvbU5vZGVFdmVudEVtaXR0ZXI9ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PW4mJihuPWZ1bmN0aW9uKGUpe3JldHVybiBlfSk7dmFyIHI9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07cmV0dXJuIGkuZmlyZShuLmFwcGx5KHZvaWQgMCxlKSl9LGk9bmV3IExlKHtvbkZpcnN0TGlzdGVuZXJBZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5vbih0LHIpfSxvbkxhc3RMaXN0ZW5lclJlbW92ZTpmdW5jdGlvbigpe3JldHVybiBlLnJlbW92ZUxpc3RlbmVyKHQscil9fSk7cmV0dXJuIGkuZXZlbnR9LGUuZnJvbVByb21pc2U9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IExlLG49ITE7cmV0dXJuIGUudGhlbih2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0pLnRoZW4oZnVuY3Rpb24oKXtuP3QuZmlyZSh2b2lkIDApOnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gdC5maXJlKHZvaWQgMCl9LDApfSksbj0hMCx0LmV2ZW50fSxlLnRvUHJvbWlzZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odCl7cmV0dXJuIG4oZSkodCl9KX19KG1lfHwobWU9e30pKTt2YXIgdmUseWUsQ2U9LTEsYmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dm9pZCAwPT09dCYmKHQ9TWF0aC5yYW5kb20oKS50b1N0cmluZygxOCkuc2xpY2UoMiw1KSksdGhpcy5jdXN0b21UaHJlc2hvbGQ9ZSx0aGlzLm5hbWU9dCx0aGlzLl93YXJuQ291bnRkb3duPTB9cmV0dXJuIGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9zdGFja3MmJnRoaXMuX3N0YWNrcy5jbGVhcigpfSxlLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49Q2U7aWYoIm51bWJlciI9PXR5cGVvZiB0aGlzLmN1c3RvbVRocmVzaG9sZCYmKG49dGhpcy5jdXN0b21UaHJlc2hvbGQpLCEobjw9MHx8ZTxuKSl7dGhpcy5fc3RhY2tzfHwodGhpcy5fc3RhY2tzPW5ldyBNYXApO3ZhciByPShuZXcgRXJyb3IpLnN0YWNrLnNwbGl0KCJcbiIpLnNsaWNlKDMpLmpvaW4oIlxuIiksaT10aGlzLl9zdGFja3MuZ2V0KHIpfHwwO2lmKHRoaXMuX3N0YWNrcy5zZXQocixpKzEpLHRoaXMuX3dhcm5Db3VudGRvd24tPTEsdGhpcy5fd2FybkNvdW50ZG93bjw9MCl7dmFyIG87dGhpcy5fd2FybkNvdW50ZG93bj0uNSpuO3ZhciBzPTA7dGhpcy5fc3RhY2tzLmZvckVhY2goZnVuY3Rpb24oZSx0KXsoIW98fHM8ZSkmJihvPXQscz1lKX0pLGNvbnNvbGUud2FybigiWyIrdGhpcy5uYW1lKyJdIHBvdGVudGlhbCBsaXN0ZW5lciBMRUFLIGRldGVjdGVkLCBoYXZpbmcgIitlKyIgbGlzdGVuZXJzIGFscmVhZHkuIE1PU1QgZnJlcXVlbnQgbGlzdGVuZXIgKCIrcysiKToiKSxjb25zb2xlLndhcm4obyl9cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9dC5fc3RhY2tzLmdldChyKXx8MDt0Ll9zdGFja3Muc2V0KHIsZS0xKX19fSxlfSgpLExlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9kaXNwb3NlZD0hMSx0aGlzLl9vcHRpb25zPWUsdGhpcy5fbGVha2FnZU1vbj1DZT4wP25ldyBiZSh0aGlzLl9vcHRpb25zJiZ0aGlzLl9vcHRpb25zLmxlYWtXYXJuaW5nVGhyZXNob2xkKTp2b2lkIDB9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZXZlbnQiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9ldmVudHx8KHRoaXMuX2V2ZW50PWZ1bmN0aW9uKG4scixpKXt0Ll9saXN0ZW5lcnN8fCh0Ll9saXN0ZW5lcnM9bmV3IGdlKTt2YXIgbz10Ll9saXN0ZW5lcnMuaXNFbXB0eSgpO28mJnQuX29wdGlvbnMmJnQuX29wdGlvbnMub25GaXJzdExpc3RlbmVyQWRkJiZ0Ll9vcHRpb25zLm9uRmlyc3RMaXN0ZW5lckFkZCh0KTt2YXIgcyx1LGE9dC5fbGlzdGVuZXJzLnB1c2gocj9bbixyXTpuKTtyZXR1cm4gbyYmdC5fb3B0aW9ucyYmdC5fb3B0aW9ucy5vbkZpcnN0TGlzdGVuZXJEaWRBZGQmJnQuX29wdGlvbnMub25GaXJzdExpc3RlbmVyRGlkQWRkKHQpLHQuX29wdGlvbnMmJnQuX29wdGlvbnMub25MaXN0ZW5lckRpZEFkZCYmdC5fb3B0aW9ucy5vbkxpc3RlbmVyRGlkQWRkKHQsbixyKSx0Ll9sZWFrYWdlTW9uJiYocz10Ll9sZWFrYWdlTW9uLmNoZWNrKHQuX2xpc3RlbmVycy5zaXplKSksdT17ZGlzcG9zZTpmdW5jdGlvbigpeyhzJiZzKCksdS5kaXNwb3NlPWUuX25vb3AsdC5fZGlzcG9zZWQpfHwoYSgpLHQuX29wdGlvbnMmJnQuX29wdGlvbnMub25MYXN0TGlzdGVuZXJSZW1vdmUmJih0Ll9saXN0ZW5lcnMmJiF0Ll9saXN0ZW5lcnMuaXNFbXB0eSgpfHx0Ll9vcHRpb25zLm9uTGFzdExpc3RlbmVyUmVtb3ZlKHQpKSl9fSxBcnJheS5pc0FycmF5KGkpJiZpLnB1c2godSksdX0pLHRoaXMuX2V2ZW50fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmZpcmU9ZnVuY3Rpb24oZSl7aWYodGhpcy5fbGlzdGVuZXJzKXt0aGlzLl9kZWxpdmVyeVF1ZXVlfHwodGhpcy5fZGVsaXZlcnlRdWV1ZT1uZXcgZ2UpO2Zvcih2YXIgdD10aGlzLl9saXN0ZW5lcnMuaXRlcmF0b3IoKSxuPXQubmV4dCgpOyFuLmRvbmU7bj10Lm5leHQoKSl0aGlzLl9kZWxpdmVyeVF1ZXVlLnB1c2goW24udmFsdWUsZV0pO2Zvcig7dGhpcy5fZGVsaXZlcnlRdWV1ZS5zaXplPjA7KXt2YXIgcj10aGlzLl9kZWxpdmVyeVF1ZXVlLnNoaWZ0KCksbz1yWzBdLHM9clsxXTt0cnl7ImZ1bmN0aW9uIj09dHlwZW9mIG8/by5jYWxsKHZvaWQgMCxzKTpvWzBdLmNhbGwob1sxXSxzKX1jYXRjaChuKXtpKG4pfX19fSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fbGlzdGVuZXJzJiZ0aGlzLl9saXN0ZW5lcnMuY2xlYXIoKSx0aGlzLl9kZWxpdmVyeVF1ZXVlJiZ0aGlzLl9kZWxpdmVyeVF1ZXVlLmNsZWFyKCksdGhpcy5fbGVha2FnZU1vbiYmdGhpcy5fbGVha2FnZU1vbi5kaXNwb3NlKCksdGhpcy5fZGlzcG9zZWQ9ITB9LGUuX25vb3A9ZnVuY3Rpb24oKXt9LGV9KCksTmU9KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIG4uX2lzUGF1c2VkPTAsbi5fZXZlbnRRdWV1ZT1uZXcgZ2Usbi5fbWVyZ2VGbj10JiZ0Lm1lcmdlLG59X2UodCxlKSx0LnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3RoaXMuX2lzUGF1c2VkKyt9LHQucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe2lmKDAhPT10aGlzLl9pc1BhdXNlZCYmMD09LS10aGlzLl9pc1BhdXNlZClpZih0aGlzLl9tZXJnZUZuKXt2YXIgdD10aGlzLl9ldmVudFF1ZXVlLnRvQXJyYXkoKTt0aGlzLl9ldmVudFF1ZXVlLmNsZWFyKCksZS5wcm90b3R5cGUuZmlyZS5jYWxsKHRoaXMsdGhpcy5fbWVyZ2VGbih0KSl9ZWxzZSBmb3IoOyF0aGlzLl9pc1BhdXNlZCYmMCE9PXRoaXMuX2V2ZW50UXVldWUuc2l6ZTspZS5wcm90b3R5cGUuZmlyZS5jYWxsKHRoaXMsdGhpcy5fZXZlbnRRdWV1ZS5zaGlmdCgpKX0sdC5wcm90b3R5cGUuZmlyZT1mdW5jdGlvbih0KXt0aGlzLl9saXN0ZW5lcnMmJigwIT09dGhpcy5faXNQYXVzZWQ/dGhpcy5fZXZlbnRRdWV1ZS5wdXNoKHQpOmUucHJvdG90eXBlLmZpcmUuY2FsbCh0aGlzLHQpKX19KExlKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgZT10aGlzO3RoaXMuaGFzTGlzdGVuZXJzPSExLHRoaXMuZXZlbnRzPVtdLHRoaXMuZW1pdHRlcj1uZXcgTGUoe29uRmlyc3RMaXN0ZW5lckFkZDpmdW5jdGlvbigpe3JldHVybiBlLm9uRmlyc3RMaXN0ZW5lckFkZCgpfSxvbkxhc3RMaXN0ZW5lclJlbW92ZTpmdW5jdGlvbigpe3JldHVybiBlLm9uTGFzdExpc3RlbmVyUmVtb3ZlKCl9fSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJldmVudCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVtaXR0ZXIuZXZlbnR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj17ZXZlbnQ6ZSxsaXN0ZW5lcjpudWxsfTt0aGlzLmV2ZW50cy5wdXNoKG4pLHRoaXMuaGFzTGlzdGVuZXJzJiZ0aGlzLmhvb2sobik7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybntkaXNwb3NlOmZ1bmN0aW9uKCl7ZSgpfX19KGZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcyxyPSExO3JldHVybiBmdW5jdGlvbigpe3JldHVybiByP3Q6KHI9ITAsdD1lLmFwcGx5KG4sYXJndW1lbnRzKSl9fShmdW5jdGlvbigpe3QuaGFzTGlzdGVuZXJzJiZ0LnVuaG9vayhuKTt2YXIgZT10LmV2ZW50cy5pbmRleE9mKG4pO3QuZXZlbnRzLnNwbGljZShlLDEpfSkpfSxlLnByb3RvdHlwZS5vbkZpcnN0TGlzdGVuZXJBZGQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuaGFzTGlzdGVuZXJzPSEwLHRoaXMuZXZlbnRzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGUuaG9vayh0KX0pfSxlLnByb3RvdHlwZS5vbkxhc3RMaXN0ZW5lclJlbW92ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5oYXNMaXN0ZW5lcnM9ITEsdGhpcy5ldmVudHMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZS51bmhvb2sodCl9KX0sZS5wcm90b3R5cGUuaG9vaz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2UubGlzdGVuZXI9ZS5ldmVudChmdW5jdGlvbihlKXtyZXR1cm4gdC5lbWl0dGVyLmZpcmUoZSl9KX0sZS5wcm90b3R5cGUudW5ob29rPWZ1bmN0aW9uKGUpe2UubGlzdGVuZXImJmUubGlzdGVuZXIuZGlzcG9zZSgpLGUubGlzdGVuZXI9bnVsbH0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuZW1pdHRlci5kaXNwb3NlKCl9fSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYnVmZmVycz1bXX1lLnByb3RvdHlwZS53cmFwRXZlbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gZnVuY3Rpb24obixyLGkpe3JldHVybiBlKGZ1bmN0aW9uKGUpe3ZhciBpPXQuYnVmZmVyc1t0LmJ1ZmZlcnMubGVuZ3RoLTFdO2k/aS5wdXNoKGZ1bmN0aW9uKCl7cmV0dXJuIG4uY2FsbChyLGUpfSk6bi5jYWxsKHIsZSl9LHZvaWQgMCxpKX19LGUucHJvdG90eXBlLmJ1ZmZlckV2ZW50cz1mdW5jdGlvbihlKXt2YXIgdD1bXTt0aGlzLmJ1ZmZlcnMucHVzaCh0KTt2YXIgbj1lKCk7cmV0dXJuIHRoaXMuYnVmZmVycy5wb3AoKSx0LmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0pLG59fSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciBlPXRoaXM7dGhpcy5saXN0ZW5pbmc9ITEsdGhpcy5pbnB1dEV2ZW50PW1lLk5vbmUsdGhpcy5pbnB1dEV2ZW50TGlzdGVuZXI9bC5Ob25lLHRoaXMuZW1pdHRlcj1uZXcgTGUoe29uRmlyc3RMaXN0ZW5lckRpZEFkZDpmdW5jdGlvbigpe2UubGlzdGVuaW5nPSEwLGUuaW5wdXRFdmVudExpc3RlbmVyPWUuaW5wdXRFdmVudChlLmVtaXR0ZXIuZmlyZSxlLmVtaXR0ZXIpfSxvbkxhc3RMaXN0ZW5lclJlbW92ZTpmdW5jdGlvbigpe2UubGlzdGVuaW5nPSExLGUuaW5wdXRFdmVudExpc3RlbmVyLmRpc3Bvc2UoKX19KSx0aGlzLmV2ZW50PXRoaXMuZW1pdHRlci5ldmVudH1PYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlucHV0Iix7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuaW5wdXRFdmVudD1lLHRoaXMubGlzdGVuaW5nJiYodGhpcy5pbnB1dEV2ZW50TGlzdGVuZXIuZGlzcG9zZSgpLHRoaXMuaW5wdXRFdmVudExpc3RlbmVyPWUodGhpcy5lbWl0dGVyLmZpcmUsdGhpcy5lbWl0dGVyKSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuaW5wdXRFdmVudExpc3RlbmVyLmRpc3Bvc2UoKSx0aGlzLmVtaXR0ZXIuZGlzcG9zZSgpfX0oKSxPYmplY3QuZnJlZXplKGZ1bmN0aW9uKGUsdCl7dmFyIG49c2V0VGltZW91dChlLmJpbmQodCksMCk7cmV0dXJue2Rpc3Bvc2U6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQobil9fX0pKTsoeWU9dmV8fCh2ZT17fSkpLmlzQ2FuY2VsbGF0aW9uVG9rZW49ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT15ZS5Ob25lfHxlPT09eWUuQ2FuY2VsbGVkfHxlIGluc3RhbmNlb2YgU2V8fCEoIWV8fCJvYmplY3QiIT10eXBlb2YgZSkmJiJib29sZWFuIj09dHlwZW9mIGUuaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLm9uQ2FuY2VsbGF0aW9uUmVxdWVzdGVkfSx5ZS5Ob25lPU9iamVjdC5mcmVlemUoe2lzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkOiExLG9uQ2FuY2VsbGF0aW9uUmVxdWVzdGVkOm1lLk5vbmV9KSx5ZS5DYW5jZWxsZWQ9T2JqZWN0LmZyZWV6ZSh7aXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQ6ITAsb25DYW5jZWxsYXRpb25SZXF1ZXN0ZWQ6TmV9KTt2YXIgRWUsU2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5faXNDYW5jZWxsZWQ9ITEsdGhpcy5fZW1pdHRlcj1udWxsfXJldHVybiBlLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLl9pc0NhbmNlbGxlZHx8KHRoaXMuX2lzQ2FuY2VsbGVkPSEwLHRoaXMuX2VtaXR0ZXImJih0aGlzLl9lbWl0dGVyLmZpcmUodm9pZCAwKSx0aGlzLmRpc3Bvc2UoKSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzQ2FuY2VsbGVkfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25DYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNDYW5jZWxsZWQ/TmU6KHRoaXMuX2VtaXR0ZXJ8fCh0aGlzLl9lbWl0dGVyPW5ldyBMZSksdGhpcy5fZW1pdHRlci5ldmVudCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2VtaXR0ZXImJih0aGlzLl9lbWl0dGVyLmRpc3Bvc2UoKSx0aGlzLl9lbWl0dGVyPW51bGwpfSxlfSgpLHdlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl90b2tlbj12b2lkIDAsdGhpcy5fcGFyZW50TGlzdGVuZXI9dm9pZCAwLHRoaXMuX3BhcmVudExpc3RlbmVyPWUmJmUub25DYW5jZWxsYXRpb25SZXF1ZXN0ZWQodGhpcy5jYW5jZWwsdGhpcyl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidG9rZW4iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdG9rZW58fCh0aGlzLl90b2tlbj1uZXcgU2UpLHRoaXMuX3Rva2VufSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbigpe3RoaXMuX3Rva2VuP3RoaXMuX3Rva2VuIGluc3RhbmNlb2YgU2UmJnRoaXMuX3Rva2VuLmNhbmNlbCgpOnRoaXMuX3Rva2VuPXZlLkNhbmNlbGxlZH0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX3BhcmVudExpc3RlbmVyJiZ0aGlzLl9wYXJlbnRMaXN0ZW5lci5kaXNwb3NlKCksdGhpcy5fdG9rZW4/dGhpcy5fdG9rZW4gaW5zdGFuY2VvZiBTZSYmdGhpcy5fdG9rZW4uZGlzcG9zZSgpOnRoaXMuX3Rva2VuPXZlLk5vbmV9LGV9KCksQWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5fa2V5Q29kZVRvU3RyPVtdLHRoaXMuX3N0clRvS2V5Q29kZT1PYmplY3QuY3JlYXRlKG51bGwpfXJldHVybiBlLnByb3RvdHlwZS5kZWZpbmU9ZnVuY3Rpb24oZSx0KXt0aGlzLl9rZXlDb2RlVG9TdHJbZV09dCx0aGlzLl9zdHJUb0tleUNvZGVbdC50b0xvd2VyQ2FzZSgpXT1lfSxlLnByb3RvdHlwZS5rZXlDb2RlVG9TdHI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2tleUNvZGVUb1N0cltlXX0sZS5wcm90b3R5cGUuc3RyVG9LZXlDb2RlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zdHJUb0tleUNvZGVbZS50b0xvd2VyQ2FzZSgpXXx8MH0sZX0oKSxUZT1uZXcgQWUsTWU9bmV3IEFlLFBlPW5ldyBBZTshZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuLHIpe3ZvaWQgMD09PW4mJihuPXQpLHZvaWQgMD09PXImJihyPW4pLFRlLmRlZmluZShlLHQpLE1lLmRlZmluZShlLG4pLFBlLmRlZmluZShlLHIpfWUoMCwidW5rbm93biIpLGUoMSwiQmFja3NwYWNlIiksZSgyLCJUYWIiKSxlKDMsIkVudGVyIiksZSg0LCJTaGlmdCIpLGUoNSwiQ3RybCIpLGUoNiwiQWx0IiksZSg3LCJQYXVzZUJyZWFrIiksZSg4LCJDYXBzTG9jayIpLGUoOSwiRXNjYXBlIiksZSgxMCwiU3BhY2UiKSxlKDExLCJQYWdlVXAiKSxlKDEyLCJQYWdlRG93biIpLGUoMTMsIkVuZCIpLGUoMTQsIkhvbWUiKSxlKDE1LCJMZWZ0QXJyb3ciLCJMZWZ0IiksZSgxNiwiVXBBcnJvdyIsIlVwIiksZSgxNywiUmlnaHRBcnJvdyIsIlJpZ2h0IiksZSgxOCwiRG93bkFycm93IiwiRG93biIpLGUoMTksIkluc2VydCIpLGUoMjAsIkRlbGV0ZSIpLGUoMjEsIjAiKSxlKDIyLCIxIiksZSgyMywiMiIpLGUoMjQsIjMiKSxlKDI1LCI0IiksZSgyNiwiNSIpLGUoMjcsIjYiKSxlKDI4LCI3IiksZSgyOSwiOCIpLGUoMzAsIjkiKSxlKDMxLCJBIiksZSgzMiwiQiIpLGUoMzMsIkMiKSxlKDM0LCJEIiksZSgzNSwiRSIpLGUoMzYsIkYiKSxlKDM3LCJHIiksZSgzOCwiSCIpLGUoMzksIkkiKSxlKDQwLCJKIiksZSg0MSwiSyIpLGUoNDIsIkwiKSxlKDQzLCJNIiksZSg0NCwiTiIpLGUoNDUsIk8iKSxlKDQ2LCJQIiksZSg0NywiUSIpLGUoNDgsIlIiKSxlKDQ5LCJTIiksZSg1MCwiVCIpLGUoNTEsIlUiKSxlKDUyLCJWIiksZSg1MywiVyIpLGUoNTQsIlgiKSxlKDU1LCJZIiksZSg1NiwiWiIpLGUoNTcsIk1ldGEiKSxlKDU4LCJDb250ZXh0TWVudSIpLGUoNTksIkYxIiksZSg2MCwiRjIiKSxlKDYxLCJGMyIpLGUoNjIsIkY0IiksZSg2MywiRjUiKSxlKDY0LCJGNiIpLGUoNjUsIkY3IiksZSg2NiwiRjgiKSxlKDY3LCJGOSIpLGUoNjgsIkYxMCIpLGUoNjksIkYxMSIpLGUoNzAsIkYxMiIpLGUoNzEsIkYxMyIpLGUoNzIsIkYxNCIpLGUoNzMsIkYxNSIpLGUoNzQsIkYxNiIpLGUoNzUsIkYxNyIpLGUoNzYsIkYxOCIpLGUoNzcsIkYxOSIpLGUoNzgsIk51bUxvY2siKSxlKDc5LCJTY3JvbGxMb2NrIiksZSg4MCwiOyIsIjsiLCJPRU1fMSIpLGUoODEsIj0iLCI9IiwiT0VNX1BMVVMiKSxlKDgyLCIsIiwiLCIsIk9FTV9DT01NQSIpLGUoODMsIi0iLCItIiwiT0VNX01JTlVTIiksZSg4NCwiLiIsIi4iLCJPRU1fUEVSSU9EIiksZSg4NSwiLyIsIi8iLCJPRU1fMiIpLGUoODYsImAiLCJgIiwiT0VNXzMiKSxlKDExMCwiQUJOVF9DMSIpLGUoMTExLCJBQk5UX0MyIiksZSg4NywiWyIsIlsiLCJPRU1fNCIpLGUoODgsIlxcIiwiXFwiLCJPRU1fNSIpLGUoODksIl0iLCJdIiwiT0VNXzYiKSxlKDkwLCInIiwiJyIsIk9FTV83IiksZSg5MSwiT0VNXzgiKSxlKDkyLCJPRU1fMTAyIiksZSg5MywiTnVtUGFkMCIpLGUoOTQsIk51bVBhZDEiKSxlKDk1LCJOdW1QYWQyIiksZSg5NiwiTnVtUGFkMyIpLGUoOTcsIk51bVBhZDQiKSxlKDk4LCJOdW1QYWQ1IiksZSg5OSwiTnVtUGFkNiIpLGUoMTAwLCJOdW1QYWQ3IiksZSgxMDEsIk51bVBhZDgiKSxlKDEwMiwiTnVtUGFkOSIpLGUoMTAzLCJOdW1QYWRfTXVsdGlwbHkiKSxlKDEwNCwiTnVtUGFkX0FkZCIpLGUoMTA1LCJOdW1QYWRfU2VwYXJhdG9yIiksZSgxMDYsIk51bVBhZF9TdWJ0cmFjdCIpLGUoMTA3LCJOdW1QYWRfRGVjaW1hbCIpLGUoMTA4LCJOdW1QYWRfRGl2aWRlIil9KCksZnVuY3Rpb24oZSl7ZS50b1N0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gVGUua2V5Q29kZVRvU3RyKGUpfSxlLmZyb21TdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIFRlLnN0clRvS2V5Q29kZShlKX0sZS50b1VzZXJTZXR0aW5nc1VTPWZ1bmN0aW9uKGUpe3JldHVybiBNZS5rZXlDb2RlVG9TdHIoZSl9LGUudG9Vc2VyU2V0dGluZ3NHZW5lcmFsPWZ1bmN0aW9uKGUpe3JldHVybiBQZS5rZXlDb2RlVG9TdHIoZSl9LGUuZnJvbVVzZXJTZXR0aW5ncz1mdW5jdGlvbihlKXtyZXR1cm4gTWUuc3RyVG9LZXlDb2RlKGUpfHxQZS5zdHJUb0tleUNvZGUoZSl9fShFZXx8KEVlPXt9KSk7IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixyLGkpe3RoaXMuY3RybEtleT1lLHRoaXMuc2hpZnRLZXk9dCx0aGlzLmFsdEtleT1uLHRoaXMubWV0YUtleT1yLHRoaXMua2V5Q29kZT1pfWUucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jdHJsS2V5PT09ZS5jdHJsS2V5JiZ0aGlzLnNoaWZ0S2V5PT09ZS5zaGlmdEtleSYmdGhpcy5hbHRLZXk9PT1lLmFsdEtleSYmdGhpcy5tZXRhS2V5PT09ZS5tZXRhS2V5JiZ0aGlzLmtleUNvZGU9PT1lLmtleUNvZGV9LGUucHJvdG90eXBlLmlzTW9kaWZpZXJLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMua2V5Q29kZXx8NT09PXRoaXMua2V5Q29kZXx8NTc9PT10aGlzLmtleUNvZGV8fDY9PT10aGlzLmtleUNvZGV8fDQ9PT10aGlzLmtleUNvZGV9LGUucHJvdG90eXBlLnRvQ2hvcmQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGl0KFt0aGlzXSl9LGUucHJvdG90eXBlLmlzRHVwbGljYXRlTW9kaWZpZXJDYXNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3RybEtleSYmNT09PXRoaXMua2V5Q29kZXx8dGhpcy5zaGlmdEtleSYmND09PXRoaXMua2V5Q29kZXx8dGhpcy5hbHRLZXkmJjY9PT10aGlzLmtleUNvZGV8fHRoaXMubWV0YUtleSYmNTc9PT10aGlzLmtleUNvZGV9fSgpO3ZhciBPZSx4ZSxJZSxSZSxrZSxVZSxGZSxEZSxLZSxxZSxWZSxqZSxCZSxZZSxXZSxIZSxHZSxRZSx6ZSxYZSwkZSxKZSxaZSxldCx0dCxudCxydCxpdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7aWYoMD09PWUubGVuZ3RoKXRocm93KHQ9InBhcnRzIik/bmV3IEVycm9yKCJJbGxlZ2FsIGFyZ3VtZW50OiAiK3QpOm5ldyBFcnJvcigiSWxsZWdhbCBhcmd1bWVudCIpO3ZhciB0O3RoaXMucGFydHM9ZX1yZXR1cm4gZS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lKXJldHVybiExO2lmKHRoaXMucGFydHMubGVuZ3RoIT09ZS5wYXJ0cy5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciB0PTA7dDx0aGlzLnBhcnRzLmxlbmd0aDt0KyspaWYoIXRoaXMucGFydHNbdF0uZXF1YWxzKGUucGFydHNbdF0pKXJldHVybiExO3JldHVybiEwfSxlfSgpLG90PWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24odCxuKXtyZXR1cm4oZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKHQsbil9O3JldHVybiBmdW5jdGlvbih0LG4pe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPXR9ZSh0LG4pLHQucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KHIucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyByKX19KCksc3Q9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4scixpKXt2YXIgbz1lLmNhbGwodGhpcyx0LG4scixpKXx8dGhpcztyZXR1cm4gby5zZWxlY3Rpb25TdGFydExpbmVOdW1iZXI9dCxvLnNlbGVjdGlvblN0YXJ0Q29sdW1uPW4sby5wb3NpdGlvbkxpbmVOdW1iZXI9cixvLnBvc2l0aW9uQ29sdW1uPWksb31yZXR1cm4gb3QodCxlKSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLnNlbGVjdGlvblN0YXJ0TGluZU51bWJlcix0aGlzLnNlbGVjdGlvblN0YXJ0Q29sdW1uLHRoaXMucG9zaXRpb25MaW5lTnVtYmVyLHRoaXMucG9zaXRpb25Db2x1bW4pfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbIit0aGlzLnNlbGVjdGlvblN0YXJ0TGluZU51bWJlcisiLCIrdGhpcy5zZWxlY3Rpb25TdGFydENvbHVtbisiIC0+ICIrdGhpcy5wb3NpdGlvbkxpbmVOdW1iZXIrIiwiK3RoaXMucG9zaXRpb25Db2x1bW4rIl0ifSx0LnByb3RvdHlwZS5lcXVhbHNTZWxlY3Rpb249ZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2VsZWN0aW9uc0VxdWFsKHRoaXMsZSl9LHQuc2VsZWN0aW9uc0VxdWFsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc2VsZWN0aW9uU3RhcnRMaW5lTnVtYmVyPT09dC5zZWxlY3Rpb25TdGFydExpbmVOdW1iZXImJmUuc2VsZWN0aW9uU3RhcnRDb2x1bW49PT10LnNlbGVjdGlvblN0YXJ0Q29sdW1uJiZlLnBvc2l0aW9uTGluZU51bWJlcj09PXQucG9zaXRpb25MaW5lTnVtYmVyJiZlLnBvc2l0aW9uQ29sdW1uPT09dC5wb3NpdGlvbkNvbHVtbn0sdC5wcm90b3R5cGUuZ2V0RGlyZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uU3RhcnRMaW5lTnVtYmVyPT09dGhpcy5zdGFydExpbmVOdW1iZXImJnRoaXMuc2VsZWN0aW9uU3RhcnRDb2x1bW49PT10aGlzLnN0YXJ0Q29sdW1uPzA6MX0sdC5wcm90b3R5cGUuc2V0RW5kUG9zaXRpb249ZnVuY3Rpb24oZSxuKXtyZXR1cm4gMD09PXRoaXMuZ2V0RGlyZWN0aW9uKCk/bmV3IHQodGhpcy5zdGFydExpbmVOdW1iZXIsdGhpcy5zdGFydENvbHVtbixlLG4pOm5ldyB0KGUsbix0aGlzLnN0YXJ0TGluZU51bWJlcix0aGlzLnN0YXJ0Q29sdW1uKX0sdC5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFkodGhpcy5wb3NpdGlvbkxpbmVOdW1iZXIsdGhpcy5wb3NpdGlvbkNvbHVtbil9LHQucHJvdG90eXBlLnNldFN0YXJ0UG9zaXRpb249ZnVuY3Rpb24oZSxuKXtyZXR1cm4gMD09PXRoaXMuZ2V0RGlyZWN0aW9uKCk/bmV3IHQoZSxuLHRoaXMuZW5kTGluZU51bWJlcix0aGlzLmVuZENvbHVtbik6bmV3IHQodGhpcy5lbmRMaW5lTnVtYmVyLHRoaXMuZW5kQ29sdW1uLGUsbil9LHQuZnJvbVBvc2l0aW9ucz1mdW5jdGlvbihlLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj1lKSxuZXcgdChlLmxpbmVOdW1iZXIsZS5jb2x1bW4sbi5saW5lTnVtYmVyLG4uY29sdW1uKX0sdC5saWZ0U2VsZWN0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdChlLnNlbGVjdGlvblN0YXJ0TGluZU51bWJlcixlLnNlbGVjdGlvblN0YXJ0Q29sdW1uLGUucG9zaXRpb25MaW5lTnVtYmVyLGUucG9zaXRpb25Db2x1bW4pfSx0LnNlbGVjdGlvbnNBcnJFcXVhbD1mdW5jdGlvbihlLHQpe2lmKGUmJiF0fHwhZSYmdClyZXR1cm4hMTtpZighZSYmIXQpcmV0dXJuITA7aWYoZS5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspaWYoIXRoaXMuc2VsZWN0aW9uc0VxdWFsKGVbbl0sdFtuXSkpcmV0dXJuITE7cmV0dXJuITB9LHQuaXNJU2VsZWN0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiBlJiYibnVtYmVyIj09dHlwZW9mIGUuc2VsZWN0aW9uU3RhcnRMaW5lTnVtYmVyJiYibnVtYmVyIj09dHlwZW9mIGUuc2VsZWN0aW9uU3RhcnRDb2x1bW4mJiJudW1iZXIiPT10eXBlb2YgZS5wb3NpdGlvbkxpbmVOdW1iZXImJiJudW1iZXIiPT10eXBlb2YgZS5wb3NpdGlvbkNvbHVtbn0sdC5jcmVhdGVXaXRoRGlyZWN0aW9uPWZ1bmN0aW9uKGUsbixyLGksbyl7cmV0dXJuIDA9PT1vP25ldyB0KGUsbixyLGkpOm5ldyB0KHIsaSxlLG4pfSx0fShXKSx1dD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4pe3RoaXMub2Zmc2V0PTB8ZSx0aGlzLnR5cGU9dCx0aGlzLmxhbmd1YWdlPW59cmV0dXJuIGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIigiK3RoaXMub2Zmc2V0KyIsICIrdGhpcy50eXBlKyIpIn0sZX0oKTshZnVuY3Rpb24oZSl7ZVtlLlVubmVjZXNzYXJ5PTFdPSJVbm5lY2Vzc2FyeSJ9KE9lfHwoT2U9e30pKSxmdW5jdGlvbihlKXtlW2UuSGludD0xXT0iSGludCIsZVtlLkluZm89Ml09IkluZm8iLGVbZS5XYXJuaW5nPTRdPSJXYXJuaW5nIixlW2UuRXJyb3I9OF09IkVycm9yIn0oeGV8fCh4ZT17fSkpLGZ1bmN0aW9uKGUpe2VbZS5Vbmtub3duPTBdPSJVbmtub3duIixlW2UuQmFja3NwYWNlPTFdPSJCYWNrc3BhY2UiLGVbZS5UYWI9Ml09IlRhYiIsZVtlLkVudGVyPTNdPSJFbnRlciIsZVtlLlNoaWZ0PTRdPSJTaGlmdCIsZVtlLkN0cmw9NV09IkN0cmwiLGVbZS5BbHQ9Nl09IkFsdCIsZVtlLlBhdXNlQnJlYWs9N109IlBhdXNlQnJlYWsiLGVbZS5DYXBzTG9jaz04XT0iQ2Fwc0xvY2siLGVbZS5Fc2NhcGU9OV09IkVzY2FwZSIsZVtlLlNwYWNlPTEwXT0iU3BhY2UiLGVbZS5QYWdlVXA9MTFdPSJQYWdlVXAiLGVbZS5QYWdlRG93bj0xMl09IlBhZ2VEb3duIixlW2UuRW5kPTEzXT0iRW5kIixlW2UuSG9tZT0xNF09IkhvbWUiLGVbZS5MZWZ0QXJyb3c9MTVdPSJMZWZ0QXJyb3ciLGVbZS5VcEFycm93PTE2XT0iVXBBcnJvdyIsZVtlLlJpZ2h0QXJyb3c9MTddPSJSaWdodEFycm93IixlW2UuRG93bkFycm93PTE4XT0iRG93bkFycm93IixlW2UuSW5zZXJ0PTE5XT0iSW5zZXJ0IixlW2UuRGVsZXRlPTIwXT0iRGVsZXRlIixlW2UuS0VZXzA9MjFdPSJLRVlfMCIsZVtlLktFWV8xPTIyXT0iS0VZXzEiLGVbZS5LRVlfMj0yM109IktFWV8yIixlW2UuS0VZXzM9MjRdPSJLRVlfMyIsZVtlLktFWV80PTI1XT0iS0VZXzQiLGVbZS5LRVlfNT0yNl09IktFWV81IixlW2UuS0VZXzY9MjddPSJLRVlfNiIsZVtlLktFWV83PTI4XT0iS0VZXzciLGVbZS5LRVlfOD0yOV09IktFWV84IixlW2UuS0VZXzk9MzBdPSJLRVlfOSIsZVtlLktFWV9BPTMxXT0iS0VZX0EiLGVbZS5LRVlfQj0zMl09IktFWV9CIixlW2UuS0VZX0M9MzNdPSJLRVlfQyIsZVtlLktFWV9EPTM0XT0iS0VZX0QiLGVbZS5LRVlfRT0zNV09IktFWV9FIixlW2UuS0VZX0Y9MzZdPSJLRVlfRiIsZVtlLktFWV9HPTM3XT0iS0VZX0ciLGVbZS5LRVlfSD0zOF09IktFWV9IIixlW2UuS0VZX0k9MzldPSJLRVlfSSIsZVtlLktFWV9KPTQwXT0iS0VZX0oiLGVbZS5LRVlfSz00MV09IktFWV9LIixlW2UuS0VZX0w9NDJdPSJLRVlfTCIsZVtlLktFWV9NPTQzXT0iS0VZX00iLGVbZS5LRVlfTj00NF09IktFWV9OIixlW2UuS0VZX089NDVdPSJLRVlfTyIsZVtlLktFWV9QPTQ2XT0iS0VZX1AiLGVbZS5LRVlfUT00N109IktFWV9RIixlW2UuS0VZX1I9NDhdPSJLRVlfUiIsZVtlLktFWV9TPTQ5XT0iS0VZX1MiLGVbZS5LRVlfVD01MF09IktFWV9UIixlW2UuS0VZX1U9NTFdPSJLRVlfVSIsZVtlLktFWV9WPTUyXT0iS0VZX1YiLGVbZS5LRVlfVz01M109IktFWV9XIixlW2UuS0VZX1g9NTRdPSJLRVlfWCIsZVtlLktFWV9ZPTU1XT0iS0VZX1kiLGVbZS5LRVlfWj01Nl09IktFWV9aIixlW2UuTWV0YT01N109Ik1ldGEiLGVbZS5Db250ZXh0TWVudT01OF09IkNvbnRleHRNZW51IixlW2UuRjE9NTldPSJGMSIsZVtlLkYyPTYwXT0iRjIiLGVbZS5GMz02MV09IkYzIixlW2UuRjQ9NjJdPSJGNCIsZVtlLkY1PTYzXT0iRjUiLGVbZS5GNj02NF09IkY2IixlW2UuRjc9NjVdPSJGNyIsZVtlLkY4PTY2XT0iRjgiLGVbZS5GOT02N109IkY5IixlW2UuRjEwPTY4XT0iRjEwIixlW2UuRjExPTY5XT0iRjExIixlW2UuRjEyPTcwXT0iRjEyIixlW2UuRjEzPTcxXT0iRjEzIixlW2UuRjE0PTcyXT0iRjE0IixlW2UuRjE1PTczXT0iRjE1IixlW2UuRjE2PTc0XT0iRjE2IixlW2UuRjE3PTc1XT0iRjE3IixlW2UuRjE4PTc2XT0iRjE4IixlW2UuRjE5PTc3XT0iRjE5IixlW2UuTnVtTG9jaz03OF09Ik51bUxvY2siLGVbZS5TY3JvbGxMb2NrPTc5XT0iU2Nyb2xsTG9jayIsZVtlLlVTX1NFTUlDT0xPTj04MF09IlVTX1NFTUlDT0xPTiIsZVtlLlVTX0VRVUFMPTgxXT0iVVNfRVFVQUwiLGVbZS5VU19DT01NQT04Ml09IlVTX0NPTU1BIixlW2UuVVNfTUlOVVM9ODNdPSJVU19NSU5VUyIsZVtlLlVTX0RPVD04NF09IlVTX0RPVCIsZVtlLlVTX1NMQVNIPTg1XT0iVVNfU0xBU0giLGVbZS5VU19CQUNLVElDSz04Nl09IlVTX0JBQ0tUSUNLIixlW2UuVVNfT1BFTl9TUVVBUkVfQlJBQ0tFVD04N109IlVTX09QRU5fU1FVQVJFX0JSQUNLRVQiLGVbZS5VU19CQUNLU0xBU0g9ODhdPSJVU19CQUNLU0xBU0giLGVbZS5VU19DTE9TRV9TUVVBUkVfQlJBQ0tFVD04OV09IlVTX0NMT1NFX1NRVUFSRV9CUkFDS0VUIixlW2UuVVNfUVVPVEU9OTBdPSJVU19RVU9URSIsZVtlLk9FTV84PTkxXT0iT0VNXzgiLGVbZS5PRU1fMTAyPTkyXT0iT0VNXzEwMiIsZVtlLk5VTVBBRF8wPTkzXT0iTlVNUEFEXzAiLGVbZS5OVU1QQURfMT05NF09Ik5VTVBBRF8xIixlW2UuTlVNUEFEXzI9OTVdPSJOVU1QQURfMiIsZVtlLk5VTVBBRF8zPTk2XT0iTlVNUEFEXzMiLGVbZS5OVU1QQURfND05N109Ik5VTVBBRF80IixlW2UuTlVNUEFEXzU9OThdPSJOVU1QQURfNSIsZVtlLk5VTVBBRF82PTk5XT0iTlVNUEFEXzYiLGVbZS5OVU1QQURfNz0xMDBdPSJOVU1QQURfNyIsZVtlLk5VTVBBRF84PTEwMV09Ik5VTVBBRF84IixlW2UuTlVNUEFEXzk9MTAyXT0iTlVNUEFEXzkiLGVbZS5OVU1QQURfTVVMVElQTFk9MTAzXT0iTlVNUEFEX01VTFRJUExZIixlW2UuTlVNUEFEX0FERD0xMDRdPSJOVU1QQURfQUREIixlW2UuTlVNUEFEX1NFUEFSQVRPUj0xMDVdPSJOVU1QQURfU0VQQVJBVE9SIixlW2UuTlVNUEFEX1NVQlRSQUNUPTEwNl09Ik5VTVBBRF9TVUJUUkFDVCIsZVtlLk5VTVBBRF9ERUNJTUFMPTEwN109Ik5VTVBBRF9ERUNJTUFMIixlW2UuTlVNUEFEX0RJVklERT0xMDhdPSJOVU1QQURfRElWSURFIixlW2UuS0VZX0lOX0NPTVBPU0lUSU9OPTEwOV09IktFWV9JTl9DT01QT1NJVElPTiIsZVtlLkFCTlRfQzE9MTEwXT0iQUJOVF9DMSIsZVtlLkFCTlRfQzI9MTExXT0iQUJOVF9DMiIsZVtlLk1BWF9WQUxVRT0xMTJdPSJNQVhfVkFMVUUifShJZXx8KEllPXt9KSksZnVuY3Rpb24oZSl7ZVtlLkxUUj0wXT0iTFRSIixlW2UuUlRMPTFdPSJSVEwifShSZXx8KFJlPXt9KSksZnVuY3Rpb24oZSl7ZVtlLkF1dG89MV09IkF1dG8iLGVbZS5IaWRkZW49Ml09IkhpZGRlbiIsZVtlLlZpc2libGU9M109IlZpc2libGUifShrZXx8KGtlPXt9KSksZnVuY3Rpb24oZSl7ZVtlLkxlZnQ9MV09IkxlZnQiLGVbZS5DZW50ZXI9Ml09IkNlbnRlciIsZVtlLlJpZ2h0PTRdPSJSaWdodCIsZVtlLkZ1bGw9N109IkZ1bGwifShVZXx8KFVlPXt9KSksZnVuY3Rpb24oZSl7ZVtlLlRleHREZWZpbmVkPTBdPSJUZXh0RGVmaW5lZCIsZVtlLkxGPTFdPSJMRiIsZVtlLkNSTEY9Ml09IkNSTEYifShGZXx8KEZlPXt9KSksZnVuY3Rpb24oZSl7ZVtlLkxGPTFdPSJMRiIsZVtlLkNSTEY9Ml09IkNSTEYifShEZXx8KERlPXt9KSksZnVuY3Rpb24oZSl7ZVtlLkxGPTBdPSJMRiIsZVtlLkNSTEY9MV09IkNSTEYifShLZXx8KEtlPXt9KSksZnVuY3Rpb24oZSl7ZVtlLkFsd2F5c0dyb3dzV2hlblR5cGluZ0F0RWRnZXM9MF09IkFsd2F5c0dyb3dzV2hlblR5cGluZ0F0RWRnZXMiLGVbZS5OZXZlckdyb3dzV2hlblR5cGluZ0F0RWRnZXM9MV09Ik5ldmVyR3Jvd3NXaGVuVHlwaW5nQXRFZGdlcyIsZVtlLkdyb3dzT25seVdoZW5UeXBpbmdCZWZvcmU9Ml09Ikdyb3dzT25seVdoZW5UeXBpbmdCZWZvcmUiLGVbZS5Hcm93c09ubHlXaGVuVHlwaW5nQWZ0ZXI9M109Ikdyb3dzT25seVdoZW5UeXBpbmdBZnRlciJ9KHFlfHwocWU9e30pKSxmdW5jdGlvbihlKXtlW2UuU21vb3RoPTBdPSJTbW9vdGgiLGVbZS5JbW1lZGlhdGU9MV09IkltbWVkaWF0ZSJ9KFZlfHwoVmU9e30pKSxmdW5jdGlvbihlKXtlW2UuTm90U2V0PTBdPSJOb3RTZXQiLGVbZS5Db250ZW50Rmx1c2g9MV09IkNvbnRlbnRGbHVzaCIsZVtlLlJlY292ZXJGcm9tTWFya2Vycz0yXT0iUmVjb3ZlckZyb21NYXJrZXJzIixlW2UuRXhwbGljaXQ9M109IkV4cGxpY2l0IixlW2UuUGFzdGU9NF09IlBhc3RlIixlW2UuVW5kbz01XT0iVW5kbyIsZVtlLlJlZG89Nl09IlJlZG8ifShqZXx8KGplPXt9KSksZnVuY3Rpb24oZSl7ZVtlLk5vbmU9MF09Ik5vbmUiLGVbZS5TbWFsbD0xXT0iU21hbGwiLGVbZS5MYXJnZT0yXT0iTGFyZ2UiLGVbZS5TbWFsbEJsb2Nrcz0zXT0iU21hbGxCbG9ja3MiLGVbZS5MYXJnZUJsb2Nrcz00XT0iTGFyZ2VCbG9ja3MifShCZXx8KEJlPXt9KSksZnVuY3Rpb24oZSl7ZVtlLk5vbmU9MF09Ik5vbmUiLGVbZS5TYW1lPTFdPSJTYW1lIixlW2UuSW5kZW50PTJdPSJJbmRlbnQiLGVbZS5EZWVwSW5kZW50PTNdPSJEZWVwSW5kZW50In0oWWV8fChZZT17fSkpLGZ1bmN0aW9uKGUpe2VbZS5IaWRkZW49MF09IkhpZGRlbiIsZVtlLkJsaW5rPTFdPSJCbGluayIsZVtlLlNtb290aD0yXT0iU21vb3RoIixlW2UuUGhhc2U9M109IlBoYXNlIixlW2UuRXhwYW5kPTRdPSJFeHBhbmQiLGVbZS5Tb2xpZD01XT0iU29saWQifShXZXx8KFdlPXt9KSksZnVuY3Rpb24oZSl7ZVtlLkxpbmU9MV09IkxpbmUiLGVbZS5CbG9jaz0yXT0iQmxvY2siLGVbZS5VbmRlcmxpbmU9M109IlVuZGVybGluZSIsZVtlLkxpbmVUaGluPTRdPSJMaW5lVGhpbiIsZVtlLkJsb2NrT3V0bGluZT01XT0iQmxvY2tPdXRsaW5lIixlW2UuVW5kZXJsaW5lVGhpbj02XT0iVW5kZXJsaW5lVGhpbiJ9KEhlfHwoSGU9e30pKSxmdW5jdGlvbihlKXtlW2UuT2ZmPTBdPSJPZmYiLGVbZS5Pbj0xXT0iT24iLGVbZS5SZWxhdGl2ZT0yXT0iUmVsYXRpdmUiLGVbZS5JbnRlcnZhbD0zXT0iSW50ZXJ2YWwiLGVbZS5DdXN0b209NF09IkN1c3RvbSJ9KEdlfHwoR2U9e30pKSxmdW5jdGlvbihlKXtlW2UuRVhBQ1Q9MF09IkVYQUNUIixlW2UuQUJPVkU9MV09IkFCT1ZFIixlW2UuQkVMT1c9Ml09IkJFTE9XIn0oUWV8fChRZT17fSkpLGZ1bmN0aW9uKGUpe2VbZS5UT1BfUklHSFRfQ09STkVSPTBdPSJUT1BfUklHSFRfQ09STkVSIixlW2UuQk9UVE9NX1JJR0hUX0NPUk5FUj0xXT0iQk9UVE9NX1JJR0hUX0NPUk5FUiIsZVtlLlRPUF9DRU5URVI9Ml09IlRPUF9DRU5URVIifSh6ZXx8KHplPXt9KSksZnVuY3Rpb24oZSl7ZVtlLlVOS05PV049MF09IlVOS05PV04iLGVbZS5URVhUQVJFQT0xXT0iVEVYVEFSRUEiLGVbZS5HVVRURVJfR0xZUEhfTUFSR0lOPTJdPSJHVVRURVJfR0xZUEhfTUFSR0lOIixlW2UuR1VUVEVSX0xJTkVfTlVNQkVSUz0zXT0iR1VUVEVSX0xJTkVfTlVNQkVSUyIsZVtlLkdVVFRFUl9MSU5FX0RFQ09SQVRJT05TPTRdPSJHVVRURVJfTElORV9ERUNPUkFUSU9OUyIsZVtlLkdVVFRFUl9WSUVXX1pPTkU9NV09IkdVVFRFUl9WSUVXX1pPTkUiLGVbZS5DT05URU5UX1RFWFQ9Nl09IkNPTlRFTlRfVEVYVCIsZVtlLkNPTlRFTlRfRU1QVFk9N109IkNPTlRFTlRfRU1QVFkiLGVbZS5DT05URU5UX1ZJRVdfWk9ORT04XT0iQ09OVEVOVF9WSUVXX1pPTkUiLGVbZS5DT05URU5UX1dJREdFVD05XT0iQ09OVEVOVF9XSURHRVQiLGVbZS5PVkVSVklFV19SVUxFUj0xMF09Ik9WRVJWSUVXX1JVTEVSIixlW2UuU0NST0xMQkFSPTExXT0iU0NST0xMQkFSIixlW2UuT1ZFUkxBWV9XSURHRVQ9MTJdPSJPVkVSTEFZX1dJREdFVCIsZVtlLk9VVFNJREVfRURJVE9SPTEzXT0iT1VUU0lERV9FRElUT1IifShYZXx8KFhlPXt9KSksZnVuY3Rpb24oZSl7ZVtlLk5vbmU9MF09Ik5vbmUiLGVbZS5JbmRlbnQ9MV09IkluZGVudCIsZVtlLkluZGVudE91dGRlbnQ9Ml09IkluZGVudE91dGRlbnQiLGVbZS5PdXRkZW50PTNdPSJPdXRkZW50In0oJGV8fCgkZT17fSkpLGZ1bmN0aW9uKGUpe2VbZS5NZXRob2Q9MF09Ik1ldGhvZCIsZVtlLkZ1bmN0aW9uPTFdPSJGdW5jdGlvbiIsZVtlLkNvbnN0cnVjdG9yPTJdPSJDb25zdHJ1Y3RvciIsZVtlLkZpZWxkPTNdPSJGaWVsZCIsZVtlLlZhcmlhYmxlPTRdPSJWYXJpYWJsZSIsZVtlLkNsYXNzPTVdPSJDbGFzcyIsZVtlLlN0cnVjdD02XT0iU3RydWN0IixlW2UuSW50ZXJmYWNlPTddPSJJbnRlcmZhY2UiLGVbZS5Nb2R1bGU9OF09Ik1vZHVsZSIsZVtlLlByb3BlcnR5PTldPSJQcm9wZXJ0eSIsZVtlLkV2ZW50PTEwXT0iRXZlbnQiLGVbZS5PcGVyYXRvcj0xMV09Ik9wZXJhdG9yIixlW2UuVW5pdD0xMl09IlVuaXQiLGVbZS5WYWx1ZT0xM109IlZhbHVlIixlW2UuQ29uc3RhbnQ9MTRdPSJDb25zdGFudCIsZVtlLkVudW09MTVdPSJFbnVtIixlW2UuRW51bU1lbWJlcj0xNl09IkVudW1NZW1iZXIiLGVbZS5LZXl3b3JkPTE3XT0iS2V5d29yZCIsZVtlLlRleHQ9MThdPSJUZXh0IixlW2UuQ29sb3I9MTldPSJDb2xvciIsZVtlLkZpbGU9MjBdPSJGaWxlIixlW2UuUmVmZXJlbmNlPTIxXT0iUmVmZXJlbmNlIixlW2UuQ3VzdG9tY29sb3I9MjJdPSJDdXN0b21jb2xvciIsZVtlLkZvbGRlcj0yM109IkZvbGRlciIsZVtlLlR5cGVQYXJhbWV0ZXI9MjRdPSJUeXBlUGFyYW1ldGVyIixlW2UuU25pcHBldD0yNV09IlNuaXBwZXQifShKZXx8KEplPXt9KSksZnVuY3Rpb24oZSl7ZVtlLktlZXBXaGl0ZXNwYWNlPTFdPSJLZWVwV2hpdGVzcGFjZSIsZVtlLkluc2VydEFzU25pcHBldD00XT0iSW5zZXJ0QXNTbmlwcGV0In0oWmV8fChaZT17fSkpLGZ1bmN0aW9uKGUpe2VbZS5JbnZva2U9MF09Ikludm9rZSIsZVtlLlRyaWdnZXJDaGFyYWN0ZXI9MV09IlRyaWdnZXJDaGFyYWN0ZXIiLGVbZS5UcmlnZ2VyRm9ySW5jb21wbGV0ZUNvbXBsZXRpb25zPTJdPSJUcmlnZ2VyRm9ySW5jb21wbGV0ZUNvbXBsZXRpb25zIn0oZXR8fChldD17fSkpLGZ1bmN0aW9uKGUpe2VbZS5JbnZva2U9MV09Ikludm9rZSIsZVtlLlRyaWdnZXJDaGFyYWN0ZXI9Ml09IlRyaWdnZXJDaGFyYWN0ZXIiLGVbZS5Db250ZW50Q2hhbmdlPTNdPSJDb250ZW50Q2hhbmdlIn0odHR8fCh0dD17fSkpLGZ1bmN0aW9uKGUpe2VbZS5UZXh0PTBdPSJUZXh0IixlW2UuUmVhZD0xXT0iUmVhZCIsZVtlLldyaXRlPTJdPSJXcml0ZSJ9KG50fHwobnQ9e30pKSxmdW5jdGlvbihlKXtlW2UuRmlsZT0wXT0iRmlsZSIsZVtlLk1vZHVsZT0xXT0iTW9kdWxlIixlW2UuTmFtZXNwYWNlPTJdPSJOYW1lc3BhY2UiLGVbZS5QYWNrYWdlPTNdPSJQYWNrYWdlIixlW2UuQ2xhc3M9NF09IkNsYXNzIixlW2UuTWV0aG9kPTVdPSJNZXRob2QiLGVbZS5Qcm9wZXJ0eT02XT0iUHJvcGVydHkiLGVbZS5GaWVsZD03XT0iRmllbGQiLGVbZS5Db25zdHJ1Y3Rvcj04XT0iQ29uc3RydWN0b3IiLGVbZS5FbnVtPTldPSJFbnVtIixlW2UuSW50ZXJmYWNlPTEwXT0iSW50ZXJmYWNlIixlW2UuRnVuY3Rpb249MTFdPSJGdW5jdGlvbiIsZVtlLlZhcmlhYmxlPTEyXT0iVmFyaWFibGUiLGVbZS5Db25zdGFudD0xM109IkNvbnN0YW50IixlW2UuU3RyaW5nPTE0XT0iU3RyaW5nIixlW2UuTnVtYmVyPTE1XT0iTnVtYmVyIixlW2UuQm9vbGVhbj0xNl09IkJvb2xlYW4iLGVbZS5BcnJheT0xN109IkFycmF5IixlW2UuT2JqZWN0PTE4XT0iT2JqZWN0IixlW2UuS2V5PTE5XT0iS2V5IixlW2UuTnVsbD0yMF09Ik51bGwiLGVbZS5FbnVtTWVtYmVyPTIxXT0iRW51bU1lbWJlciIsZVtlLlN0cnVjdD0yMl09IlN0cnVjdCIsZVtlLkV2ZW50PTIzXT0iRXZlbnQiLGVbZS5PcGVyYXRvcj0yNF09Ik9wZXJhdG9yIixlW2UuVHlwZVBhcmFtZXRlcj0yNV09IlR5cGVQYXJhbWV0ZXIifShydHx8KHJ0PXt9KSk7dmFyIGF0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5jaG9yZD1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybihlfCg2NTUzNSZ0KTw8MTY+Pj4wKT4+PjB9KGUsdCl9LGUuQ3RybENtZD0yMDQ4LGUuU2hpZnQ9MTAyNCxlLkFsdD01MTIsZS5XaW5DdHJsPTI1NixlfSgpO3ZhciBsdD1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKHQsbil7cmV0dXJuKGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KSh0LG4pfTtyZXR1cm4gZnVuY3Rpb24odCxuKXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWUodCxuKSx0LnByb3RvdHlwZT1udWxsPT09bj9PYmplY3QuY3JlYXRlKG4pOihyLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgcil9fSgpLGN0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBsdCh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwidXJpIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VyaX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInZlcnNpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmVyc2lvbklkfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiZW9sIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VvbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRleHQoKX0sdC5wcm90b3R5cGUuZ2V0TGluZXNDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpbmVzLnNsaWNlKDApfSx0LnByb3RvdHlwZS5nZXRMaW5lQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGluZXMubGVuZ3RofSx0LnByb3RvdHlwZS5nZXRMaW5lQ29udGVudD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fbGluZXNbZS0xXX0sdC5wcm90b3R5cGUuZ2V0V29yZEF0UG9zaXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbihlLHQsbixyKXt0Lmxhc3RJbmRleD0wO3ZhciBpPXQuZXhlYyhuKTtpZighaSlyZXR1cm4gbnVsbDt2YXIgbz1pWzBdLmluZGV4T2YoIiAiKT49MD9mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvPWUtMS1yO2Zvcih0Lmxhc3RJbmRleD0wO2k9dC5leGVjKG4pOyl7dmFyIHM9aS5pbmRleHx8MDtpZihzPm8pcmV0dXJuIG51bGw7aWYodC5sYXN0SW5kZXg+PW8pcmV0dXJue3dvcmQ6aVswXSxzdGFydENvbHVtbjpyKzErcyxlbmRDb2x1bW46cisxK3QubGFzdEluZGV4fX1yZXR1cm4gbnVsbH0oZSx0LG4scik6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz1lLTEtcixzPW4ubGFzdEluZGV4T2YoIiAiLG8tMSkrMTtmb3IodC5sYXN0SW5kZXg9cztpPXQuZXhlYyhuKTspe3ZhciB1PWkuaW5kZXh8fDA7aWYodTw9byYmdC5sYXN0SW5kZXg+PW8pcmV0dXJue3dvcmQ6aVswXSxzdGFydENvbHVtbjpyKzErdSxlbmRDb2x1bW46cisxK3QubGFzdEluZGV4fX1yZXR1cm4gbnVsbH0oZSx0LG4scik7cmV0dXJuIHQubGFzdEluZGV4PTAsb30oZS5jb2x1bW4sZnVuY3Rpb24oZSl7dmFyIHQ9dWU7aWYoZSYmZSBpbnN0YW5jZW9mIFJlZ0V4cClpZihlLmdsb2JhbCl0PWU7ZWxzZXt2YXIgbj0iZyI7ZS5pZ25vcmVDYXNlJiYobis9ImkiKSxlLm11bHRpbGluZSYmKG4rPSJtIiksZS51bmljb2RlJiYobis9InUiKSx0PW5ldyBSZWdFeHAoZS5zb3VyY2Usbil9cmV0dXJuIHQubGFzdEluZGV4PTAsdH0odCksdGhpcy5fbGluZXNbZS5saW5lTnVtYmVyLTFdLDApO3JldHVybiBuP25ldyBXKGUubGluZU51bWJlcixuLnN0YXJ0Q29sdW1uLGUubGluZU51bWJlcixuLmVuZENvbHVtbik6bnVsbH0sdC5wcm90b3R5cGUuZ2V0V29yZFVudGlsUG9zaXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmdldFdvcmRBdFBvc2l0aW9uKGUsdCk7cmV0dXJuIG4/e3dvcmQ6dGhpcy5fbGluZXNbZS5saW5lTnVtYmVyLTFdLnN1YnN0cmluZyhuLnN0YXJ0Q29sdW1uLTEsZS5jb2x1bW4tMSksc3RhcnRDb2x1bW46bi5zdGFydENvbHVtbixlbmRDb2x1bW46ZS5jb2x1bW59Ont3b3JkOiIiLHN0YXJ0Q29sdW1uOmUuY29sdW1uLGVuZENvbHVtbjplLmNvbHVtbn19LHQucHJvdG90eXBlLmNyZWF0ZVdvcmRJdGVyYXRvcj1mdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcyxpPTAsbz0wLHM9W10sdT1mdW5jdGlvbigpe2lmKG88cy5sZW5ndGgpe3ZhciBhPW4uc3Vic3RyaW5nKHNbb10uc3RhcnQsc1tvXS5lbmQpO3JldHVybiBvKz0xLHQ/dC52YWx1ZT1hOnQ9e2RvbmU6ITEsdmFsdWU6YX0sdH1yZXR1cm4gaT49ci5fbGluZXMubGVuZ3RoP0E6KG49ci5fbGluZXNbaV0scz1yLl93b3JkZW5pemUobixlKSxvPTAsaSs9MSx1KCkpfTtyZXR1cm57bmV4dDp1fX0sdC5wcm90b3R5cGUuZ2V0TGluZVdvcmRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMuX2xpbmVzW2UtMV0scj1bXSxpPTAsbz10aGlzLl93b3JkZW5pemUobix0KTtpPG8ubGVuZ3RoO2krKyl7dmFyIHM9b1tpXTtyLnB1c2goe3dvcmQ6bi5zdWJzdHJpbmcocy5zdGFydCxzLmVuZCksc3RhcnRDb2x1bW46cy5zdGFydCsxLGVuZENvbHVtbjpzLmVuZCsxfSl9cmV0dXJuIHJ9LHQucHJvdG90eXBlLl93b3JkZW5pemU9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdO2Zvcih0Lmxhc3RJbmRleD0wOyhuPXQuZXhlYyhlKSkmJjAhPT1uWzBdLmxlbmd0aDspci5wdXNoKHtzdGFydDpuLmluZGV4LGVuZDpuLmluZGV4K25bMF0ubGVuZ3RofSk7cmV0dXJuIHJ9LHQucHJvdG90eXBlLmdldFZhbHVlSW5SYW5nZT1mdW5jdGlvbihlKXtpZigoZT10aGlzLl92YWxpZGF0ZVJhbmdlKGUpKS5zdGFydExpbmVOdW1iZXI9PT1lLmVuZExpbmVOdW1iZXIpcmV0dXJuIHRoaXMuX2xpbmVzW2Uuc3RhcnRMaW5lTnVtYmVyLTFdLnN1YnN0cmluZyhlLnN0YXJ0Q29sdW1uLTEsZS5lbmRDb2x1bW4tMSk7dmFyIHQ9dGhpcy5fZW9sLG49ZS5zdGFydExpbmVOdW1iZXItMSxyPWUuZW5kTGluZU51bWJlci0xLGk9W107aS5wdXNoKHRoaXMuX2xpbmVzW25dLnN1YnN0cmluZyhlLnN0YXJ0Q29sdW1uLTEpKTtmb3IodmFyIG89bisxO288cjtvKyspaS5wdXNoKHRoaXMuX2xpbmVzW29dKTtyZXR1cm4gaS5wdXNoKHRoaXMuX2xpbmVzW3JdLnN1YnN0cmluZygwLGUuZW5kQ29sdW1uLTEpKSxpLmpvaW4odCl9LHQucHJvdG90eXBlLm9mZnNldEF0PWZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMuX3ZhbGlkYXRlUG9zaXRpb24oZSksdGhpcy5fZW5zdXJlTGluZVN0YXJ0cygpLHRoaXMuX2xpbmVTdGFydHMuZ2V0QWNjdW11bGF0ZWRWYWx1ZShlLmxpbmVOdW1iZXItMikrKGUuY29sdW1uLTEpfSx0LnByb3RvdHlwZS5wb3NpdGlvbkF0PWZ1bmN0aW9uKGUpe2U9TWF0aC5mbG9vcihlKSxlPU1hdGgubWF4KDAsZSksdGhpcy5fZW5zdXJlTGluZVN0YXJ0cygpO3ZhciB0PXRoaXMuX2xpbmVTdGFydHMuZ2V0SW5kZXhPZihlKSxuPXRoaXMuX2xpbmVzW3QuaW5kZXhdLmxlbmd0aDtyZXR1cm57bGluZU51bWJlcjoxK3QuaW5kZXgsY29sdW1uOjErTWF0aC5taW4odC5yZW1haW5kZXIsbil9fSx0LnByb3RvdHlwZS5fdmFsaWRhdGVSYW5nZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl92YWxpZGF0ZVBvc2l0aW9uKHtsaW5lTnVtYmVyOmUuc3RhcnRMaW5lTnVtYmVyLGNvbHVtbjplLnN0YXJ0Q29sdW1ufSksbj10aGlzLl92YWxpZGF0ZVBvc2l0aW9uKHtsaW5lTnVtYmVyOmUuZW5kTGluZU51bWJlcixjb2x1bW46ZS5lbmRDb2x1bW59KTtyZXR1cm4gdC5saW5lTnVtYmVyIT09ZS5zdGFydExpbmVOdW1iZXJ8fHQuY29sdW1uIT09ZS5zdGFydENvbHVtbnx8bi5saW5lTnVtYmVyIT09ZS5lbmRMaW5lTnVtYmVyfHxuLmNvbHVtbiE9PWUuZW5kQ29sdW1uP3tzdGFydExpbmVOdW1iZXI6dC5saW5lTnVtYmVyLHN0YXJ0Q29sdW1uOnQuY29sdW1uLGVuZExpbmVOdW1iZXI6bi5saW5lTnVtYmVyLGVuZENvbHVtbjpuLmNvbHVtbn06ZX0sdC5wcm90b3R5cGUuX3ZhbGlkYXRlUG9zaXRpb249ZnVuY3Rpb24oZSl7aWYoIVkuaXNJUG9zaXRpb24oZSkpdGhyb3cgbmV3IEVycm9yKCJiYWQgcG9zaXRpb24iKTt2YXIgdD1lLmxpbmVOdW1iZXIsbj1lLmNvbHVtbixyPSExO2lmKHQ8MSl0PTEsbj0xLHI9ITA7ZWxzZSBpZih0PnRoaXMuX2xpbmVzLmxlbmd0aCl0PXRoaXMuX2xpbmVzLmxlbmd0aCxuPXRoaXMuX2xpbmVzW3QtMV0ubGVuZ3RoKzEscj0hMDtlbHNle3ZhciBpPXRoaXMuX2xpbmVzW3QtMV0ubGVuZ3RoKzE7bjwxPyhuPTEscj0hMCk6bj5pJiYobj1pLHI9ITApfXJldHVybiByP3tsaW5lTnVtYmVyOnQsY29sdW1uOm59OmV9LHR9KG9lKSxmdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiBuLl9tb2RlbHM9T2JqZWN0LmNyZWF0ZShudWxsKSxufXJldHVybiBsdCh0LGUpLHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9tb2RlbHM9T2JqZWN0LmNyZWF0ZShudWxsKX0sdC5wcm90b3R5cGUuX2dldE1vZGVsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9tb2RlbHNbZV19LHQucHJvdG90eXBlLl9nZXRNb2RlbHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9W107cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX21vZGVscykuZm9yRWFjaChmdW5jdGlvbihuKXtyZXR1cm4gdC5wdXNoKGUuX21vZGVsc1tuXSl9KSx0fSx0LnByb3RvdHlwZS5hY2NlcHROZXdNb2RlbD1mdW5jdGlvbihlKXt0aGlzLl9tb2RlbHNbZS51cmxdPW5ldyBjdChGLnBhcnNlKGUudXJsKSxlLmxpbmVzLGUuRU9MLGUudmVyc2lvbklkKX0sdC5wcm90b3R5cGUuYWNjZXB0TW9kZWxDaGFuZ2VkPWZ1bmN0aW9uKGUsdCl7dGhpcy5fbW9kZWxzW2VdJiZ0aGlzLl9tb2RlbHNbZV0ub25FdmVudHModCl9LHQucHJvdG90eXBlLmFjY2VwdFJlbW92ZWRNb2RlbD1mdW5jdGlvbihlKXt0aGlzLl9tb2RlbHNbZV0mJmRlbGV0ZSB0aGlzLl9tb2RlbHNbZV19LHR9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9mb3JlaWduTW9kdWxlRmFjdG9yeT1lLHRoaXMuX2ZvcmVpZ25Nb2R1bGU9bnVsbH1yZXR1cm4gZS5wcm90b3R5cGUuY29tcHV0ZURpZmY9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuX2dldE1vZGVsKGUpLGk9dGhpcy5fZ2V0TW9kZWwodCk7aWYoIXJ8fCFpKXJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7dmFyIG89ci5nZXRMaW5lc0NvbnRlbnQoKSxzPWkuZ2V0TGluZXNDb250ZW50KCksdT1uZXcgWihvLHMse3Nob3VsZENvbXB1dGVDaGFyQ2hhbmdlczohMCxzaG91bGRQb3N0UHJvY2Vzc0NoYXJDaGFuZ2VzOiEwLHNob3VsZElnbm9yZVRyaW1XaGl0ZXNwYWNlOm4sc2hvdWxkTWFrZVByZXR0eURpZmY6ITB9KS5jb21wdXRlRGlmZigpLGE9ISh1Lmxlbmd0aD4wKSYmdGhpcy5fbW9kZWxzQXJlSWRlbnRpY2FsKHIsaSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7aWRlbnRpY2FsOmEsY2hhbmdlczp1fSl9LGUucHJvdG90eXBlLl9tb2RlbHNBcmVJZGVudGljYWw9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmdldExpbmVDb3VudCgpO2lmKG4hPT10LmdldExpbmVDb3VudCgpKXJldHVybiExO2Zvcih2YXIgcj0xO3I8PW47cisrKXtpZihlLmdldExpbmVDb250ZW50KHIpIT09dC5nZXRMaW5lQ29udGVudChyKSlyZXR1cm4hMX1yZXR1cm4hMH0sZS5wcm90b3R5cGUuY29tcHV0ZU1vcmVNaW5pbWFsRWRpdHM9ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzLl9nZXRNb2RlbCh0KTtpZighcilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG4pO2Zvcih2YXIgaT1bXSxvPXZvaWQgMCxzPTAsdT1uPV8obixmdW5jdGlvbihlLHQpe3JldHVybiBlLnJhbmdlJiZ0LnJhbmdlP1cuY29tcGFyZVJhbmdlc1VzaW5nU3RhcnRzKGUucmFuZ2UsdC5yYW5nZSk6KGUucmFuZ2U/MDoxKS0odC5yYW5nZT8wOjEpfSk7czx1Lmxlbmd0aDtzKyspe3ZhciBhPXVbc10sbD1hLnJhbmdlLGM9YS50ZXh0LGY9YS5lb2w7aWYoIm51bWJlciI9PXR5cGVvZiBmJiYobz1mKSwhVy5pc0VtcHR5KGwpfHxjKXt2YXIgaD1yLmdldFZhbHVlSW5SYW5nZShsKTtpZihoIT09KGM9Yy5yZXBsYWNlKC9cclxufFxufFxyL2csci5lb2wpKSlpZihNYXRoLm1heChjLmxlbmd0aCxoLmxlbmd0aCk+ZS5fZGlmZkxpbWl0KWkucHVzaCh7cmFuZ2U6bCx0ZXh0OmN9KTtlbHNlIGZvcih2YXIgZD1DKGgsYywhMSksbT1yLm9mZnNldEF0KFcubGlmdChsKS5nZXRTdGFydFBvc2l0aW9uKCkpLHA9MCxnPWQ7cDxnLmxlbmd0aDtwKyspe3ZhciB2PWdbcF0seT1yLnBvc2l0aW9uQXQobSt2Lm9yaWdpbmFsU3RhcnQpLGI9ci5wb3NpdGlvbkF0KG0rdi5vcmlnaW5hbFN0YXJ0K3Yub3JpZ2luYWxMZW5ndGgpLEw9e3RleHQ6Yy5zdWJzdHIodi5tb2RpZmllZFN0YXJ0LHYubW9kaWZpZWRMZW5ndGgpLHJhbmdlOntzdGFydExpbmVOdW1iZXI6eS5saW5lTnVtYmVyLHN0YXJ0Q29sdW1uOnkuY29sdW1uLGVuZExpbmVOdW1iZXI6Yi5saW5lTnVtYmVyLGVuZENvbHVtbjpiLmNvbHVtbn19O3IuZ2V0VmFsdWVJblJhbmdlKEwucmFuZ2UpIT09TC50ZXh0JiZpLnB1c2goTCl9fX1yZXR1cm4ibnVtYmVyIj09dHlwZW9mIG8mJmkucHVzaCh7ZW9sOm8sdGV4dDoiIixyYW5nZTp7c3RhcnRMaW5lTnVtYmVyOjAsc3RhcnRDb2x1bW46MCxlbmRMaW5lTnVtYmVyOjAsZW5kQ29sdW1uOjB9fSksUHJvbWlzZS5yZXNvbHZlKGkpfSxlLnByb3RvdHlwZS5jb21wdXRlTGlua3M9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0TW9kZWwoZSk7cmV0dXJuIHQ/UHJvbWlzZS5yZXNvbHZlKGZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRMaW5lQ291bnQmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldExpbmVDb250ZW50P2hlLmNvbXB1dGVMaW5rcyhlKTpbXX0odCkpOlByb21pc2UucmVzb2x2ZShudWxsKX0sZS5wcm90b3R5cGUudGV4dHVhbFN1Z2dlc3Q9ZnVuY3Rpb24odCxuLHIsaSl7dmFyIG89dGhpcy5fZ2V0TW9kZWwodCk7aWYoIW8pcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTt2YXIgcz1PYmplY3QuY3JlYXRlKG51bGwpLHU9W10sYT1uZXcgUmVnRXhwKHIsaSksbD1vLmdldFdvcmRVbnRpbFBvc2l0aW9uKG4sYSksYz1vLmdldFdvcmRBdFBvc2l0aW9uKG4sYSk7YyYmKHNbby5nZXRWYWx1ZUluUmFuZ2UoYyldPSEwKTtmb3IodmFyIGY9by5jcmVhdGVXb3JkSXRlcmF0b3IoYSksaD1mLm5leHQoKTshaC5kb25lJiZ1Lmxlbmd0aDw9ZS5fc3VnZ2VzdGlvbnNMaW1pdDtoPWYubmV4dCgpKXt2YXIgZD1oLnZhbHVlO3NbZF18fChzW2RdPSEwLGlzTmFOKE51bWJlcihkKSkmJnUucHVzaCh7a2luZDoxOCxsYWJlbDpkLGluc2VydFRleHQ6ZCxyYW5nZTp7c3RhcnRMaW5lTnVtYmVyOm4ubGluZU51bWJlcixzdGFydENvbHVtbjpsLnN0YXJ0Q29sdW1uLGVuZExpbmVOdW1iZXI6bi5saW5lTnVtYmVyLGVuZENvbHVtbjpsLmVuZENvbHVtbn19KSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3VnZ2VzdGlvbnM6dX0pfSxlLnByb3RvdHlwZS5jb21wdXRlV29yZFJhbmdlcz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT10aGlzLl9nZXRNb2RlbChlKTtpZighaSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKE9iamVjdC5jcmVhdGUobnVsbCkpO2Zvcih2YXIgbz1uZXcgUmVnRXhwKG4scikscz1PYmplY3QuY3JlYXRlKG51bGwpLHU9dC5zdGFydExpbmVOdW1iZXI7dTx0LmVuZExpbmVOdW1iZXI7dSsrKWZvcih2YXIgYT0wLGw9aS5nZXRMaW5lV29yZHModSxvKTthPGwubGVuZ3RoO2ErKyl7dmFyIGM9bFthXTtpZihpc05hTihOdW1iZXIoYy53b3JkKSkpe3ZhciBmPXNbYy53b3JkXTtmfHwoZj1bXSxzW2Mud29yZF09ZiksZi5wdXNoKHtzdGFydExpbmVOdW1iZXI6dSxzdGFydENvbHVtbjpjLnN0YXJ0Q29sdW1uLGVuZExpbmVOdW1iZXI6dSxlbmRDb2x1bW46Yy5lbmRDb2x1bW59KX19cmV0dXJuIFByb21pc2UucmVzb2x2ZShzKX0sZS5wcm90b3R5cGUubmF2aWdhdGVWYWx1ZVNldD1mdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvPXRoaXMuX2dldE1vZGVsKGUpO2lmKCFvKXJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7dmFyIHM9bmV3IFJlZ0V4cChyLGkpO3Quc3RhcnRDb2x1bW49PT10LmVuZENvbHVtbiYmKHQ9e3N0YXJ0TGluZU51bWJlcjp0LnN0YXJ0TGluZU51bWJlcixzdGFydENvbHVtbjp0LnN0YXJ0Q29sdW1uLGVuZExpbmVOdW1iZXI6dC5lbmRMaW5lTnVtYmVyLGVuZENvbHVtbjp0LmVuZENvbHVtbisxfSk7dmFyIHU9by5nZXRWYWx1ZUluUmFuZ2UodCksYT1vLmdldFdvcmRBdFBvc2l0aW9uKHtsaW5lTnVtYmVyOnQuc3RhcnRMaW5lTnVtYmVyLGNvbHVtbjp0LnN0YXJ0Q29sdW1ufSxzKTtpZighYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO3ZhciBsPW8uZ2V0VmFsdWVJblJhbmdlKGEpLGM9ZGUuSU5TVEFOQ0UubmF2aWdhdGVWYWx1ZVNldCh0LHUsYSxsLG4pO3JldHVybiBQcm9taXNlLnJlc29sdmUoYyl9LGUucHJvdG90eXBlLmxvYWRGb3JlaWduTW9kdWxlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPXtnZXRNaXJyb3JNb2RlbHM6ZnVuY3Rpb24oKXtyZXR1cm4gbi5fZ2V0TW9kZWxzKCl9fTtpZih0aGlzLl9mb3JlaWduTW9kdWxlRmFjdG9yeSl7dGhpcy5fZm9yZWlnbk1vZHVsZT10aGlzLl9mb3JlaWduTW9kdWxlRmFjdG9yeShyLHQpO2Zvcih2YXIgaT1bXSxvPTAscz1mKHRoaXMuX2ZvcmVpZ25Nb2R1bGUpO288cy5sZW5ndGg7bysrKXt2YXIgdT1zW29dOyJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLl9mb3JlaWduTW9kdWxlW3VdJiZpLnB1c2godSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZShpKX1yZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCJVbmV4cGVjdGVkIHVzYWdlIikpfSxlLnByb3RvdHlwZS5mbXI9ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5fZm9yZWlnbk1vZHVsZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIHRoaXMuX2ZvcmVpZ25Nb2R1bGVbZV0pcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcigiTWlzc2luZyByZXF1ZXN0SGFuZGxlciBvciBtZXRob2Q6ICIrZSkpO3RyeXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2ZvcmVpZ25Nb2R1bGVbZV0uYXBwbHkodGhpcy5fZm9yZWlnbk1vZHVsZSx0KSl9Y2F0Y2goZSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGUpfX0sZS5fZGlmZkxpbWl0PTFlNSxlLl9zdWdnZXN0aW9uc0xpbWl0PTFlNCxlfSgpKTsiZnVuY3Rpb24iPT10eXBlb2YgaW1wb3J0U2NyaXB0cyYmKGMuYS5tb25hY289e2VkaXRvcjp2b2lkIDAsbGFuZ3VhZ2VzOnZvaWQgMCxDYW5jZWxsYXRpb25Ub2tlblNvdXJjZTp3ZSxFbWl0dGVyOkxlLEtleUNvZGU6SWUsS2V5TW9kOmF0LFBvc2l0aW9uOlksUmFuZ2U6VyxTZWxlY3Rpb246c3QsU2VsZWN0aW9uRGlyZWN0aW9uOlJlLE1hcmtlclNldmVyaXR5OnhlLE1hcmtlclRhZzpPZSxVcmk6RixUb2tlbjp1dH0pLG4uZCh0LCJpbml0aWFsaXplIixmdW5jdGlvbigpe3JldHVybiBkdH0pO3ZhciBodD0hMTtmdW5jdGlvbiBkdChlKXtpZighaHQpe2h0PSEwO3ZhciB0PW5ldyBmdChlKSxuPW5ldyBnKGZ1bmN0aW9uKGUpe3NlbGYucG9zdE1lc3NhZ2UoZSl9LHQpO3NlbGYub25tZXNzYWdlPWZ1bmN0aW9uKGUpe24ub25tZXNzYWdlKGUuZGF0YSl9fX1zZWxmLm9ubWVzc2FnZT1mdW5jdGlvbihlKXtodHx8ZHQobnVsbCl9fV0pOw==")
